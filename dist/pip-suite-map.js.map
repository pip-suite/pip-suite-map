{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/GoogleMapsRemoveAfterService.ts","src/HelpService.ts","src/Map.ts","src/MapEventHandlerService.ts","src/config.ts","src/edit/MapEdit.ts","src/edit/index.ts","src/elements/MapElementControllerService.ts","src/elements/MapElementDirectiveService.ts","src/elements/MapElementRequireService.ts","src/elements/circles/MapCircles.ts","src/elements/index.ts","src/elements/kml/MapKml.ts","src/elements/markers/MapMarkers.ts","src/elements/polygons/MapPolygons.ts","src/elements/polylines/MapPolylines.ts","src/index.ts","src/popup/MapElementPopupService.ts","src/popup/MapPopup.ts","src/popup/MapPopupContent.ts","src/popup/MapPopupService.ts","src/popup/index.ts","temp/pip-suite-map-html.min.js"],"names":[],"mappings":"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F,WAAW,CAAC,SAAS,CAAC,sBAAsB,GAAG;YAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC;gBAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC;QACrE,CAAC,CAAC;QAUF,WAAW,CAAC,SAAS,CAAC,KAAK,GAAG;YAC1B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBAChB,MAAM,CAAC;YACX,CAAC;YAED,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;YAErB,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAE9B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACxB,CAAC,CAAC;QAYF,WAAW,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,QAAQ;YAClD,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;QAC7B,CAAC,CAAC;QAGF,MAAM,CAAC;YAUH,MAAM,EAAE;gBACJ,MAAM,CAAC,IAAI,WAAW,EAAE,CAAC;YAC7B,CAAC;SACJ,CAAC;IACN,CAAC;IAED,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC;SACzB,OAAO,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;AAC7C,CAAC,CAAC,EAAE,CAAC;;;;AC/ML,CAAC;IACG,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC;AACvC,CAAC;AAED,oCAAkC;AAClC,sBAAoB;AACpB,6BAA2B;AAC3B,6BAA2B;;ACP3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pip-suite-map.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","declare let google: any;\n\n(() => {\n    'use strict';\n\n    /**\n     * @ngdoc module\n     * @name pipGoogleMaps\n     *\n     * @description\n     * Module with common helper functionality for Google Maps\n     */\n\n    /**\n     * @ngdoc provider\n     * @name pipGoogleMaps\n     */\n    function GoogleMapsProvider() {\n\n        var mapOptions = {\n            mapTypeId: google.maps.MapTypeId.SATELLITE,\n            disableDefaultUI: true,\n            panControl: false,\n            zoomControl: false\n        };\n\n        /**\n         * Getter/setter for Google Maps options.\n         * @param {Object} options @link https://developers.google.com/maps/documentation/javascript/reference#MapOptions\n         * @returns {Object}\n         */\n        this.mapOptions = function (options) {\n            mapOptions = _.defaults({}, options, mapOptions);\n\n            return _.cloneDeep(mapOptions);\n        };\n\n        this.$get = function ($rootScope) {\n            return {\n                /**\n                 * Getter for Google Maps options.\n                 * @returns {Object} @link https://developers.google.com/maps/documentation/javascript/reference#MapOptions\n                 */\n                mapOptions: function () {\n                    return _.cloneDeep(mapOptions);\n                },\n\n                /**\n                 * Helper function to create new Angular Google Maps object. @link http://angular-ui.github.io/angular-google-maps/#!/api/google-map\n                 * @param {Object} (options={}) - additional map options\n                 * @param {Number} (options.maxZoom) - max map zoom level\n                 * @param {Number} (options.minZoom) - min map zoom level\n                 * @param {Object} (geoRegion) - object with coordinates of map bounds. Has specific format.\n                 * @param {Object} geoRegion.boundary - map bounds object\n                 * @param {Number} geoRegion.boundary.nw_lat - North-West latitude\n                 * @param {Number} geoRegion.boundary.nw_lob - North-West longitude\n                 * @param {Number} geoRegion.boundary.se_lat - South-East latitude\n                 * @param {Number} geoRegion.boundary.se_lon - South-East longitude\n                 * @param {Function} (onMapClickCallback) - function to call when map itself is clicked\n                 * @returns {Object}\n                 */\n                map: function (options, geoRegion, onMapClickCallback) {\n                    options || (options = {});\n\n                    var onTilesLoaded = _.once(function (map) {\n                        google.maps.event.trigger(map, 'resize');  // fix map is not fully loaded issue\n                    });\n\n                  var boundary = geoRegion && geoRegion.boundary || {};\n\n                    return {\n                        center: {\n                            latitude:  (boundary.nw_lat + boundary.se_lat) / 2 || 0,\n                            longitude: (boundary.nw_lon + boundary.se_lon) / 2 || 0\n                        },\n                        zoom: 16,\n                        control: {},\n                        options: _.assign({}, options, mapOptions),\n                        bounds: {},\n                        events: {\n                            click: onMapClickCallback || function () {},\n                            tilesloaded: onTilesLoaded,\n                            zoom_changed: onZoomChanged\n                        }\n                    };\n\n                    function onZoomChanged(map) {\n                        var directiveSpecificMaxZoomLevel = options.maxZoomLevel,\n                            directiveSpecificMinZoomLevel = options.minZoomLevel,\n                            maxZoomLevel = directiveSpecificMaxZoomLevel == null ? mapOptions['maxZoom'] : directiveSpecificMaxZoomLevel,\n                            minZoomLevel = directiveSpecificMinZoomLevel == null ? mapOptions['minZoom'] : directiveSpecificMinZoomLevel,\n                            currentZoomLevel = map.getZoom();\n\n                        if (currentZoomLevel > maxZoomLevel) {\n                            map.setZoom(maxZoomLevel);\n                        } else if (currentZoomLevel < minZoomLevel) {\n                            map.setZoom(minZoomLevel);\n                        }\n                    }\n                },\n\n                /**\n                 * Helper function to create new info window object. @link http://angular-ui.github.io/angular-google-maps/#!/api/window\n                 * @param {String} (additionalClass=\"\") - additional classes to append to info window along with default \"pip-map-info-window\"\n                 * @param {google.maps.Size} (offset=new google.maps.Size(-175, -210, 'px', 'px')) - offset of info window from marker\n                 * @returns {Object}\n                 */\n                infoWindow: function (additionalClass, offset) {\n                    return {\n                        show: false,\n                        control: {},\n                        options: {\n                            boxClass: 'pip-map-info-window ' + additionalClass,\n                            closeBoxURL: '',\n                            pixelOffset: offset || new google.maps.Size(-175, -210, 'px', 'px')\n                        }\n                    };\n                },\n\n                /**\n                 * Set map bounds\n                 * @param {Object} map - Angular Google Maps object\n                 * @param {Object} geoRegion - object with coordinates of map bounds. Has specific format.\n                 * @param {Object} geoRegion.boundary - map bounds object\n                 * @param {Number} geoRegion.boundary.nw_lat - North-West latitude\n                 * @param {Number} geoRegion.boundary.nw_lob - North-West longitude\n                 * @param {Number} geoRegion.boundary.se_lat - South-East latitude\n                 * @param {Number} geoRegion.boundary.se_lon - South-East longitude\n                 */\n                setMapBounds: function (map, geoRegion) {\n                    var unwatchBoundsChange = $rootScope.$watch(function() {\n                        return map.bounds;\n                    }, function (newVal) {\n                        if (newVal.northeast && newVal.southwest) {\n                            map.bounds = {\n                                northeast: {\n                                    latitude: geoRegion.boundary.nw_lat,\n                                    longitude: geoRegion.boundary.se_lon\n                                },\n                                southwest: {\n                                    latitude: geoRegion.boundary.se_lat,\n                                    longitude: geoRegion.boundary.nw_lon\n                                }\n                            };\n\n                            unwatchBoundsChange();\n                        }\n                    }, true);\n                },\n\n                /**\n                 * Fit map to specified bounds\n                 * @param {Object} map - Angular Google Maps object\n                 * @param {google.maps.LatLngBounds} bounds - bounds, @link https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds\n                 */\n                fitMapToBounds: function (map, bounds) {\n                    if (!bounds.isEmpty()) {\n                        var currentMapBounds = map.getBounds();\n\n                        if (_.isEmpty(currentMapBounds)\n                            || (!_.isEmpty(currentMapBounds)\n                            && currentMapBounds.contains\n                            && (!currentMapBounds.contains(bounds.getNorthEast())\n                            || !currentMapBounds.contains(bounds.getSouthWest())))) {\n                            map.fitBounds(bounds);\n                        }\n                    }\n                }\n            };\n        };\n    }\n\n    angular\n        .module('pipMaps')\n        .provider('pipGoogleMaps', <any>GoogleMapsProvider);\n})();\n","(() => {\n  'use strict';\n\n  function uiGmapModelKeyDecorator($delegate) {\n    /**\n     * This is a hot fix to the setChildScope problem\n     * @see https://github.com/angular-ui/angular-google-maps/issues/1562\n     * The issue is that ModelKey.prototype.setChildScope sets childScope.model = model;\n     * where model is always for some reason is undefined\n     * then in BasePolysParentModel.prototype.pieceMeal it extends\n     * _.extend(obj.child.scope, obj.model);\n     *\n     * in scope we have childScope with model: {} and in obj.model we have model: undefined\n     * then we will have undefined as a model and crashes.\n     * For some reason it is not working this way anytime, because sometimes payload.updates is empty\n     * and it works as expected but we should remove this undefined property to avoid this issues\n     *\n     * TODO: Remove this hot-fix when it is resolved inside angular-google-maps\n     */\n\n\n    var setChildScope = $delegate.prototype.setChildScope;\n\n    $delegate.prototype.setChildScope = function (keys, childScope) {\n      var result = setChildScope.apply(this, arguments);\n\n      if (childScope && childScope.hasOwnProperty('model') && !childScope.model) {\n        delete childScope.model;\n      }\n\n      return result;\n    };\n\n    return $delegate;\n  }\n\n\n  /**\n   * @typedef {Object} Map~GeoRegion\n   * @property {Object} boundary Map bounds object\n   * @property {Number} boundary.nw_lat North-West latitude\n   * @property {Number} boundary.nw_lon North-West longitude\n   * @property {Number} boundary.se_lat South-East latitude\n   * @property {Number} boundary.se_lon South-East longitude\n   */\n\n\n  /**\n   * @typedef {Object} Map~position\n   * @property {*} latitude Latitude\n   * @property {*} longitude Longitude\n   */\n\n\n  /**\n   * @ngdoc service\n   * @name pipMapComponent.pipMapHelperSrvProvider\n   *\n   * @description Helper for map. Contains methods to work with icons, map constants, etc.\n   */\n  function /*@ngInject*/ pipMapHelperSrv() {\n    var defaultIconParameters = {\n      iconBaseSize: 96,\n      iconNormalScaleFactor: 0.5,\n      iconActiveScaleFactor: 1,\n      iconsPerSprite: 1\n    };\n\n    var directions = [{\n        name: 'North',\n        numberInSprite: 0,\n        scope: [-22.5, 22.5]\n      },\n      {\n        name: 'Northeast',\n        numberInSprite: 1,\n        scope: [22.5, 67.5]\n      },\n      {\n        name: 'East',\n        numberInSprite: 2,\n        scope: [67.5, 112.5]\n      },\n      {\n        name: 'Southeast',\n        numberInSprite: 3,\n        scope: [112.5, 157.5]\n      },\n      {\n        name: 'South',\n        numberInSprite: 4,\n        scope: [157.5, -157.5]\n      },\n      {\n        name: 'SouthWest',\n        numberInSprite: 5,\n        scope: [-157.5, -112.5]\n      },\n      {\n        name: 'West',\n        numberInSprite: 6,\n        scope: [-112.5, -67.5]\n      },\n      {\n        name: 'Northwest',\n        numberInSprite: 7,\n        scope: [-67.5, -22.5]\n      },\n      {\n        name: 'Stop',\n        numberInSprite: 8,\n        scope: []\n      }\n    ];\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.pipMapHelperSrvProvider\n     * @name pipMapComponent.pipMapHelperSrvProvider#setIconSettings\n     * @param {Object} sizes Object with new sizes\n     * @param {number} [sizes.baseSize] Base icon size\n     * @param {number} [sizes.normalFactor] Scale factor for normal icon state\n     * @param {number} [sizes.activeFactor] Scale facor for active icon state\n     * @param {number} [sizes.perSprite] ??\n     *\n     * @description Override service defaults\n     */\n    this.setIconSettings = function (sizes) {\n      angular.extend(defaultIconParameters, sizes);\n    };\n\n\n    this.$get = (uiGmapGoogleMapApi, $timeout) => {\n      /**\n       * @ngdoc service\n       * @name pipMapComponent.pipMapHelperSrv\n       *\n       * @description Helper for map. Contains methods to work with icons, map constants, etc.\n       */\n      var service = {\n        isReady: false,\n        whenReady: uiGmapGoogleMapApi,\n        maps: {},\n        getIconDimensions: null,\n        setIcon: null,\n        triggerEvent: null,\n        createSize: null,\n        createPoint: null,\n        createKML: null,\n        getCenterFromRegion: null,\n        fitMapToRegion: null,\n        getBoundsFromRegion: null,\n        getBoundsFromCoordinates: null,\n        fitMapToBounds: null,\n        forceMapToFitBounds: null,\n        shouldFitBound: null,\n        setModelOptions: null,\n        getDegreesBetweenTwoPoints: null,\n        getDirection: null,\n        getDirectionByAngle: null,\n        getIconOriginByDirection: null\n      };\n\n\n      uiGmapGoogleMapApi.then(onInit.bind(service));\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#getIconDimensions\n       * @private\n       *\n       * @param {Object} icon Icon set dimensions to\n       * @param {number} [icon.numberInSprite] Icon position in sprite\n       * @param {boolean} [isActive = false] Whether to set active scale or normal\n       *\n       * @returns {Object} Icon dimensions\n       * @see http://blog.mridey.com/2010/03/using-markerimage-in-maps-javascript.html for more details\n       * Including method name\n       * 1. It is used only in this service\n       * 2. It seems to count position of an arrow near the icon, which shows it's movement direction\n       */\n      service.getIconDimensions = function (icon, isActive) {\n        var parameters = angular.extend({}, defaultIconParameters, icon);\n        var scaleFactor = isActive ? parameters.iconActiveScaleFactor : parameters.iconNormalScaleFactor;\n        var size = parameters.iconBaseSize * scaleFactor;\n\n        return {\n          origin: this.createPoint(0, size * icon.numberInSprite || 1),\n          anchor: this.createPoint(size / 2, size / 2),\n          size: this.createSize(size, size),\n          scaledSize: this.createSize(size, parameters.iconsPerSprite * size),\n          isActive: isActive\n        };\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#setIcon\n       *\n       * @param {Object} icon Icon to set position for\n       * @param {boolean} [icon.isActive] True if icon currently is active\n       * @param {number} [icon.numberInSprite] Icon position in sprite\n       * @param {?boolean} isActive True if marker is active. If not boolean - it will leave old value of active\n       *\n       * @description Adds to an icon size properties\n       */\n      service.setIcon = function (icon, isActive) {\n        isActive = typeof isActive === 'boolean' ? isActive : icon.isActive;\n\n        service.whenReady.then(function () {\n          var iconDimensions = this.getIconDimensions(icon, isActive);\n          _.extend(icon, iconDimensions);\n        }.bind(this));\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#triggerEvent\n       *\n       * @description Triggers event with provided arguments\n       */\n      service.triggerEvent = function () {\n        var event = this.maps.event;\n\n        if (!event) {\n          return null;\n        }\n\n        return event.trigger.apply(event, arguments);\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#createSize\n       * @param {number} width Width property for the size object\n       * @param {number} height Height property for the size object\n       * @returns {Object} New size instance or empty object\n       *\n       * @description Creates new size object of a given width and height in pixels\n       */\n      service.createSize = function (width, height) {\n        var Size = this.maps.Size;\n\n        if (!Size) {\n          return {};\n        }\n\n        return new Size(width, height, 'px', 'px');\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#createPoint\n       * @param {number} x X coordinate for the point object\n       * @param {number} y Y coordinate for the point object\n       * @returns {Object} New point instance or empty object\n       *\n       * @description Creates new point object of a given coordinates\n       */\n      service.createPoint = function (x, y) {\n        var Point = this.maps.Point;\n\n        if (!Point) {\n          return {};\n        }\n\n        return new Point(x, y);\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#createPoint\n       * @param {Object} options Settings for KML layer\n       * @param {google.maps.Map} options.map Map instance to create kml layer for\n       * @param {string} options.url Url of KML file\n       *\n       * @description Creates new point object of a given coordinates\n       */\n      service.createKML = function (options) {\n        var Layer = this.maps.KmlLayer;\n\n        if (!Layer) {\n          return {};\n        }\n\n        return new Layer(options);\n      };\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#getCenterFromRegion\n       *\n       * @param {Map~GeoRegion} geoRegion - object with coordinates of map bounds. Has specific format.\n       * @return {Map~position} Map center\n       *\n       * @description Get map center from geo region\n       */\n      service.getCenterFromRegion = function (geoRegion) {\n        if (!geoRegion || !geoRegion.boundary) {\n          return {\n            latitude: 0,\n            longitude: 0\n          };\n        }\n\n        return {\n          latitude: (geoRegion.boundary.nw_lat + geoRegion.boundary.se_lat) / 2,\n          longitude: (geoRegion.boundary.nw_lon + geoRegion.boundary.se_lon) / 2\n        };\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#fitMapToRegion\n       *\n       * @param {google.maps.Map} map Map to fit bounds\n       * @param {Map~GeoRegion} geoRegion bounds\n       * @link https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds\n       *\n       * @description Fit map to specified geo region\n       */\n      service.fitMapToRegion = function (map, geoRegion) {\n        var bounds = this.getBoundsFromRegion(geoRegion);\n\n        // without timeout it sometimes is not working\n        $timeout(this.forceMapToFitBounds.bind(this, map, bounds));\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#getBoundsFromRegion\n       *\n       * @param {Map~GeoRegion} geoRegion - object with coordinates of map bounds. Has specific format\n       * @returns {google.maps.LatLngBounds|Object} New boundary or\n       * empty object if no geoRegion is not provided or empty\n       *\n       * @description Get map bounds from geo region\n       */\n      service.getBoundsFromRegion = function (geoRegion) {\n        if (!geoRegion || !geoRegion.boundary) {\n          return {};\n        }\n\n        return this.getBoundsFromCoordinates([{\n            latitude: geoRegion.boundary.se_lat,\n            longitude: geoRegion.boundary.se_lon\n          },\n          {\n            latitude: geoRegion.boundary.nw_lat,\n            longitude: geoRegion.boundary.nw_lon\n          }\n        ]);\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#getBoundsFromCoordinates\n       *\n       * @param {Array<Map~position>} coordinates Coordinates to get bounds from\n       * @returns {google.maps.LatLngBounds|Object} Bounds fit coordinates\n       *\n       * @description Creates google bounds instance from given coordinates\n       */\n      service.getBoundsFromCoordinates = function (coordinates) {\n        var LatLngBounds = this.maps.LatLngBounds;\n        var LatLng = this.maps.LatLng;\n\n        if (!LatLng || !LatLngBounds) {\n          return {};\n        }\n\n        var bounds = new LatLngBounds();\n\n        coordinates.forEach(function (coordinate) {\n          if (!coordinate.latitude || !coordinate.longitude) {\n            return;\n          }\n\n          bounds.extend(new LatLng(coordinate.latitude, coordinate.longitude));\n        });\n\n        return bounds;\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#fitMapToBounds\n       *\n       * @param {google.maps.Map} map Map to fit bounds\n       * @param {google.maps.LatLngBounds} bounds bounds\n       * @param {boolean} [force = false] force If true - forces setting of the bounds\n       * @link https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds\n       *\n       * @description Checks whether given bounds is larger then current\n       * and fit map to specified bounds if so\n       */\n      service.fitMapToBounds = function (map, bounds, force) {\n        if (bounds.isEmpty()) {\n          return;\n        }\n\n        if (force || this.shouldFitBound(map, bounds)) {\n          map.fitBounds(bounds);\n        }\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#forceMapToFitBounds\n       *\n       * @param {google.maps.Map} map Map to fit bounds\n       * @param {google.maps.LatLngBounds} bounds bounds\n       * @link https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds\n       *\n       * @description Fit map to specified bounds\n       */\n      service.forceMapToFitBounds = function (map, bounds) {\n        this.fitMapToBounds(map, bounds, true);\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#shouldFitBound\n       *\n       * @param {google.maps.Map} map Map to fit bounds\n       * @param {google.maps.LatLngBounds} bounds bounds\n       *\n       * @private\n       * @description Checks if map should fit bounds\n       */\n      service.shouldFitBound = function (map, bounds) {\n        var northEast = bounds.getNorthEast();\n        var southWest = bounds.getSouthWest();\n\n        var currentMapBounds = map.getBounds();\n        var mapContainsBounds = currentMapBounds.contains &&\n          (!currentMapBounds.contains(northEast) || !currentMapBounds.contains(southWest));\n\n        return _.isEmpty(currentMapBounds) || mapContainsBounds;\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#setModelOptions\n       *\n       * @param {Object} pluralModel Plural model to set options for\n       * @param {Object} [pluralModel.gObject] Google object\n       * @param {Object} options New options\n       *\n       * @description Sets options for plural model if it is possible\n       */\n      service.setModelOptions = function (pluralModel, options) {\n        var plainObject = pluralModel && pluralModel.gObject;\n\n        if (plainObject && angular.isFunction(plainObject.setOptions)) {\n          plainObject.setOptions(options);\n        }\n      };\n\n\n      service.getDegreesBetweenTwoPoints = function (point1, point2) {\n        let p1 = {\n          lat: () => {\n            return point1.lat || point1.latitude\n          },\n          lng: () => {\n            return point1.lng || point1.longitude\n          }\n        };\n        let p2 = {\n          lat: () => {\n            return point2.lat || point2.latitude\n          },\n          lng: () => {\n            return point2.lng || point2.longitude\n          }\n        };\n\n        return google.maps.geometry.spherical.computeHeading(p1, p2);\n      }\n\n\n      service.getDirection = function (point1, point2) {\n        const degree = this.getDegreesBetweenTwoPoints(point1, point2);\n\n          if (\n            (point1.lat || point1.latitude) === (point2.lat || point2.latitude) &&\n            (point1.lng || point1.longitude) === (point2.lng || point2.longitude)\n          ) {\n            return directions[8];\n          }\n\n        for (let i = 0; i < 8; i++) {\n          if (degree >= directions[i].scope[0] && degree <= directions[i].scope[1]) {\n            return directions[i];\n          }\n        }\n\n        return directions[8];\n      }\n\n      service.getDirectionByAngle = function(degree) {\n        for (let i = 0; i < 8; i++) {\n          if (degree >= directions[i].scope[0] && degree <= directions[i].scope[1]) {\n            return directions[i];\n          }\n        }\n\n        return directions[8];\n      }\n\n      service.getIconOriginByDirection = function (point1, point2, iconSize: number = 82, gutter: number = 15) {\n        const direction = this.getDirection(point1, point2);\n\n        return new google.maps.Point(0, direction.numberInSprite * iconSize + direction.numberInSprite * gutter);\n      }\n\n\n      function onInit(maps) {\n        var mapTypeId = maps.MapTypeId || {};\n        var mapTypes = {\n          roadMap: mapTypeId.ROADMAP,\n          satellite: mapTypeId.SATELLITE,\n          hybrid: mapTypeId.HYBRID,\n          terrain: mapTypeId.TERRAIN\n        };\n\n\n        var symbolPath = maps.SymbolPath || {};\n        var symbols = {\n          circle: symbolPath.CIRCLE,\n          backwardClosed: symbolPath.BACKWARD_CLOSED_ARROW,\n          forwardClosed: symbolPath.FORWARD_CLOSED_ARROW,\n          backwardOpened: symbolPath.BACKWARD_OPEN_ARROW,\n          forwardCOpened: symbolPath.FORWARD_OPEN_ARROW\n        };\n\n        this.isReady = true;\n\n        angular.extend(this, {\n          mapTypes: mapTypes,\n          symbols: symbols,\n          maps: maps\n        });\n      }\n\n\n      return service;\n    };\n  }\n\n  angular.module('pipMaps')\n    .provider('pipMapHelperSrv', < any > pipMapHelperSrv)\n    .decorator('uiGmapModelKey', uiGmapModelKeyDecorator);\n})();","(() => {\n  'use strict';\n  USGSOverlay.prototype = new google.maps.OverlayView();\n\n  /** @constructor */\n  function USGSOverlay(bounds, image, map, opacity) {\n\n    // Initialize all properties.\n    this.bounds_ = bounds;\n    this.image_ = image;\n    this.map_ = map;\n\n    this.opacity = opacity ? opacity : null;\n    // Define a property to hold the image's div. We'll\n    // actually create this div upon receipt of the onAdd()\n    // method so we'll leave it null for now.\n    this.div_ = null;\n\n    // Explicitly call setMap on this overlay.\n    this.setMap(map);\n  }\n\n  USGSOverlay.prototype.onAdd = function () {\n\n    var div = document.createElement('div');\n    div.style.borderStyle = 'none';\n    div.style.borderWidth = '0px';\n    div.style.position = 'absolute';\n    if (this.opacity) div.style.opacity = this.opacity;\n\n    // Create the img element and attach it to the div.\n    var img = document.createElement('img');\n    img.src = this.image_;\n    img.style.width = '100%';\n    img.style.height = '100%';\n    img.style.position = 'absolute';\n    div.appendChild(img);\n\n    this.div_ = div;\n\n    // Add the element to the \"overlayLayer\" pane.\n    var panes = this.getPanes();\n    panes.overlayLayer.appendChild(div);\n  };\n\n  USGSOverlay.prototype.draw = function (bounds) {\n\n    // We use the south-west and north-east\n    // coordinates of the overlay to peg it to the correct position and size.\n    // To do this, we need to retrieve the projection from the overlay.\n    var overlayProjection = this.getProjection();\n    if (!overlayProjection) return;\n\n    // Retrieve the south-west and north-east coordinates of this overlay\n    // in LatLngs and convert them to pixel coordinates.\n    // We'll use these coordinates to resize the div.\n    if (bounds) {\n      this.bounds_ = bounds\n    }\n    var sw = overlayProjection.fromLatLngToDivPixel(this.bounds_.getSouthWest());\n    var ne = overlayProjection.fromLatLngToDivPixel(this.bounds_.getNorthEast());\n\n\n    // Resize the image's div to fit the indicated dimensions.\n    var div = this.div_;\n\n    if (!div) return;\n\n    // div.style.left = sw.x + 'px';\n    // div.style.top = ne.y + 'px';\n    // div.style.width = (ne.x - sw.x) + 'px';\n    // div.style.height = (sw.y - ne.y) + 'px';\n    div.style.left = sw.x + 'px';\n    div.style.top = sw.y + 'px';\n    div.style.width = (ne.x - sw.x) + 'px';\n    div.style.height = (ne.y - sw.y) + 'px';\n    if (this.opacity) div.style.opacity = this.opacity;\n  };\n\n  // The onRemove() method will be called automatically from the API if\n  // we ever set the overlay's map property to 'null'.\n  USGSOverlay.prototype.onRemove = function () {\n    if (this.div_ && this.div_.parentNode) this.div_.parentNode.removeChild(this.div_);\n    this.div_ = null;\n  };\n\n  /**\n   * @ngdoc directive\n   * @name pipMapComponent.pipMap\n   * @restrict AE\n   *\n   * @scope\n   * @property {Object} pipOptions Options for a map (including options for map provider)\n   *\n   * @property {Map~GeoRegion} pipOptions.geoRegion Geo region to set map center and bounds\n   * @see https://developers.google.com/maps/documentation/javascript/reference#MapOptions\n   * @property {Object} [pipOptions.map] Options for map provider\n   * @property {boolean} [pipOptions.map.mapTypeId = satellite] Map view\n   * @property {boolean} [pipOptions.map.disableDefaultUI = true] Disabling default UI controls\n   * @property {boolean} [pipOptions.map.panControl = false] Allows pan control\n   * @property {boolean} [pipOptions.map.zoomControl = false] Allows zoom control\n   * @property {boolean} [pipOptions.setInitBounds = false] True if need to set bounds on init from geoRegion\n   *\n   * @property {Object} pipInstance Instance of the directive's controller to be able to use it's methods manually\n   *\n   * @description Directive to create map. It is an abstraction between a map provider and the framework\n   * Also it provides methods with controller to zoom, fit map, etc\n   */\n\n  function MapComponentCtrl($injector, $scope, $element) {\n    var mapEventHandlerMixinFct = $injector.get('mapEventHandlerMixinFct');\n    mapEventHandlerMixinFct.mixTo(this, $scope.$applyAsync.bind($scope));\n    this.sidePanel = {};\n\n    this.embededMap = null;\n\n    this.pipMapHelperSrv = $injector.get('pipMapHelperSrv');\n    this.uiGmapIsReady = $injector.get('uiGmapIsReady');\n    this.$timeout = $injector.get('$timeout');\n    this.$rootScope = $injector.get('$rootScope');\n    this.MapPopupFct = $injector.get('MapPopupFct');\n\n    this.pipMapHelperSrv.whenReady.then(this.init.bind(this));\n\n    $element.addClass('pip-map flex layout-row');\n\n    $scope.$watch('ctrl.componentOptions.center', (newVal) => {\n      if (this.justResized == true) {\n        //this.justResized = false;\n        return;\n      }\n\n      if (this.gMap && newVal) {\n        let newCenter = { lat: newVal.latitude || newVal.lat, lng: newVal.longitude || newVal.lng };\n\n        if (_.isNumber(newCenter.lat) && _.isNumber(newCenter.lng)) {\n          this.gMap.panTo(newCenter);\n        }\n      }\n    }, true);\n\n    $scope.$watch('ctrl.componentOptions.zoom', (newVal) => {\n      if (this.map) this.map.zoom = newVal;\n    });\n\n    $scope.$watch('ctrl.componentOptions.embededMap', (newVal, oldVal) => {\n      if (newVal && oldVal && newVal.embededSrc && oldVal.embededSrc && newVal.embededSrc == oldVal.embededSrc) {\n        if (this.embededOverlay) {\n          var bounds = new google.maps.LatLngBounds(new google.maps.LatLng(newVal.map_north, newVal.map_west), new google.maps.LatLng(newVal.map_south, newVal.map_east));\n          this.embededOverlay.draw(bounds)\n          return;\n        }\n      }\n      this.setEmbededBounds();\n    });\n\n    this.$rootScope.$on('pipMainResized', () => {\n      //this.$timeout(this.updateMapTiles(true));\n      this.throttleResize();\n    });\n  }\n\n\n  /**\n   * @ngdoc property\n   * @propertyOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#defaultOptions\n   * @type {{mapTypeId: *, disableDefaultUI: boolean, panControl: boolean, zoomControl: boolean}}\n   *\n   * @description Default map components\n   */\n  MapComponentCtrl.prototype.defaultOptions = {\n    map: {\n      disableDefaultUI: true,\n      panControl: false,\n      zoomControl: false,\n      disableDoubleClickZoom: true\n    },\n\n    setInitBounds: false,\n\n    popup: {}\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#init\n   *\n   * @description Init map\n   */\n  MapComponentCtrl.prototype.init = function () {\n    /**\n     * @ngdoc property\n     * @propertyOf pipMapComponent.MapComponentCtrl\n     * @name pipMapComponent.MapComponentCtrl#componentOptions\n     * @type {Object}\n     *\n     * @description Options from outer scope\n     */\n    this.options = angular.merge({\n      map: {\n        mapTypeId: this.pipMapHelperSrv.mapTypes.satellite\n      }\n    }, this.defaultOptions, this.componentOptions);\n\n    if (!this.componentOptions.control) this.componentOptions.control = {};\n    this.map = this.getMap();\n    this.map.zoom = this.componentOptions.zoom;\n    this.map.center = this.componentOptions.center;\n\n    if (this.options.sidePanel && this.options.sidePanel.templateUrl) {\n      this.showSidePanel(this.options.sidePanel.templateUrl);\n    }\n\n    this.uiGmapIsReady.promise()\n      .finally(this.onMapReady.bind(this));\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#onMapReady\n   *\n   * @description On map ready handler\n   */\n  MapComponentCtrl.prototype.onMapReady = function () {\n    this.setInitBounds();\n    this.setEmbededBounds();\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#setInitBounds\n   *\n   * @description On map ready handler\n   */\n  MapComponentCtrl.prototype.setInitBounds = function () {\n    var map = this.getMapInstance();\n\n    if (this.options.setInitBounds && map) {\n      this.pipMapHelperSrv.fitMapToRegion(map, this.options.geoRegion);\n    }\n  };\n\n  MapComponentCtrl.prototype.setEmbededBounds = function () {\n    var map = this.getMapInstance();\n    if (this.componentOptions.embededMap && this.componentOptions.embededMap.embededSrc) {\n      var bounds = new google.maps.LatLngBounds(new google.maps.LatLng(this.componentOptions.embededMap.map_north, this.componentOptions.embededMap.map_west), new google.maps.LatLng(this.componentOptions.embededMap.map_south, this.componentOptions.embededMap.map_east));\n      var srcImage = this.componentOptions.embededMap.embededSrc;\n      this.embededOverlay = new USGSOverlay(bounds, srcImage, map, this.componentOptions.embededMap.opacity);\n    } else {\n      if (this.embededOverlay) this.embededOverlay.onRemove();\n      this.embededOverlay = null;\n    }\n  };\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#getMapInstance\n   * @returns {google.maps.Map} Google map instance\n   *\n   * @protected\n   * @description Returns Google map object\n   */\n  MapComponentCtrl.prototype.getMapInstance = function () {\n    if (!this.gMap && this.componentOptions && this.componentOptions.control && this.componentOptions.control.getGMap) {\n      this.gMap = this.componentOptions.control.getGMap();\n    }\n\n    return this.gMap;\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#getMap\n   *\n   * @link http://angular-ui.github.io/angular-google-maps/#!/api/google-map\n   * @description Helper function to create new Angular Google Maps object.\n   */\n  MapComponentCtrl.prototype.getMap = function () {\n    let externalClick = this.options.events && this.options.events.click ? this.options.events.click : angular.noop;\n    let externalZoom = this.options.events && this.options.events.zoom_changed ? this.options.events.zoom_changed : angular.noop;\n    let externalCenter = this.options.events && this.options.events.center_changed ? this.options.events.center_changed : angular.noop;\n    var debounceCenterChange = _.debounce(function (event) {\n      externalCenter(event);\n    }, 500)\n    // var debounceZoomChange = _.debounce(function (event) {\n    //   externalZoom(event);\n    // }, 50)\n    return {\n      control: {},\n      options: this.options.map,\n      bounds: this.options.bounds || {},\n      events: _.extend(this.options.events, {\n        click: (event) => {\n          this.onClick(event);\n          externalClick();\n        },\n        zoom_changed: (event) => {\n          if (event && this.componentOptions && this.componentOptions.mapId) {\n            event.mapId = this.componentOptions.mapId;\n            externalZoom(event);\n            // debounceZoomChange(event);\n          }\n        },\n        center_changed: (event) => {\n          if (event && this.componentOptions && this.componentOptions.mapId) {\n            event.mapId = this.componentOptions.mapId;\n            // externalCenter(event);\n            debounceCenterChange(event);\n          }\n        },\n        dblclick: this.onEventHandler.bind(this),\n        tilesloaded: this.updateMapTiles.bind(this)\n      })\n    };\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#updateMapTiles\n   *\n   * @description Updates map tiles. It is fix for all problems related to not fully loaded tiles\n   */\n  MapComponentCtrl.prototype.updateMapTiles = function (updateCenter = false) {\n    var gMap = this.getMapInstance();\n    if (!gMap) return;\n    this.pipMapHelperSrv.triggerEvent(gMap, 'resize'); // fix map is not fully loaded issue\n  };\n\n  var throttleUpdatingCenter = _.throttle((gMap, center) => {\n    if (!center) return;\n\n    gMap.panTo(center);\n    gMap.setCenter(center);\n  }, 400);\n\n  MapComponentCtrl.prototype.throttleResize = function () {\n    var gMap = this.getMapInstance();\n    if (!gMap)\n      return;\n    if (this.justResized != true) {\n      this.justResized = true;\n      var center = gMap.getCenter();\n      this.$timeout(() => {\n        throttleUpdatingCenter(gMap, center);\n      });\n      this.$timeout(() => {\n        this.justResized = false;\n      }, 400)\n    }\n\n    this.pipMapHelperSrv.triggerEvent(gMap, 'resize');\n  };\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#fitMapToBounds\n   *\n   * @param {google.maps.LatLngBounds} bounds bounds\n   * @link https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds\n   *\n   * @description Fit map to specified bounds\n   */\n  MapComponentCtrl.prototype.fitMapToBounds = function (bounds) {\n    this.pipMapHelperSrv.fitMapToBounds(this.getMapInstance(), bounds);\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#showSidePanel\n   * @param {string} template Template url to pass to ng-include directive\n   *\n   * @description Shows side panel\n   */\n  MapComponentCtrl.prototype.showSidePanel = function (template) {\n    this.sidePanel.template = template;\n    this.sidePanel.show = true;\n    this.$timeout(this.updateMapTiles.bind(this));\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#hideSidePanel\n   *\n   * @description Hides side panel\n   */\n  MapComponentCtrl.prototype.hideSidePanel = function () {\n    this.sidePanel.template = null;\n    this.sidePanel.show = false;\n    this.$timeout(this.updateMapTiles.bind(this));\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#onClick\n   *\n   * @description On click default handler\n   */\n  MapComponentCtrl.prototype.onClick = function () {\n    this.closePopup();\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#freeze\n   *\n   * @description Freezes map's pan and zoom with mouse\n   */\n  MapComponentCtrl.prototype.freeze = function () {\n    if (this.isFrozen) {\n      return;\n    }\n\n    this.setMapOptions({\n      draggable: false,\n      disableDoubleClickZoom: true,\n      scrollwheel: false\n    });\n    this.isFrozen = true;\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#unfreeze\n   *\n   * @description Unfreezes map's pan and zoom with mouse\n   */\n  MapComponentCtrl.prototype.unfreeze = function () {\n    if (!this.isFrozen) {\n      return;\n    }\n\n    this.setMapOptions({\n      draggable: true,\n      disableDoubleClickZoom: true,\n      scrollwheel: true\n    });\n    this.isFrozen = false;\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#setCursor\n   * @param {string} [cursor] Cursor code. If empty - the default behaviour is restored\n   *\n   * @description Overrides cursor for the map or set back default behaviour if cursor is not provided\n   * @todo: I couldn't find any possibility to set a cursor for a map.\n   * We can only set cursor for draggableMap and map dragging.\n   * Also it is possible to set cursors for markers (not polys)\n   */\n  MapComponentCtrl.prototype.setCursor = function (cursor) {\n    this.cursor = cursor;\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#setMapOptions\n   * @param {google.maps.MapOptions} options Options to set\n   *\n   * @description Sets map options from given options object\n   */\n  MapComponentCtrl.prototype.setMapOptions = function (options) {\n    var mapInstance = this.getMapInstance();\n    mapInstance.setOptions(options);\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#createElementPopup\n   * @param {Object} options Popup options\n   * @returns {Object} Popup instance\n   *\n   * @description Creates popup instance and returns it\n   */\n  MapComponentCtrl.prototype.createElementPopup = function (options) {\n    this.createPopupInstance();\n\n    return this.popup.add(options);\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#createPopupInstance\n   *\n   * @description Creates popup instance\n   */\n  MapComponentCtrl.prototype.createPopupInstance = function () {\n    if (this.popup) {\n      return;\n    }\n\n    this.popup = this.MapPopupFct.create();\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#closePopup\n   *\n   * @description Closes popup\n   */\n  MapComponentCtrl.prototype.closePopup = function () {\n    if (!this.popup) {\n      return;\n    }\n    console.log('this.popup', this.popup);\n    this.popup.close();\n  };\n\n  function pipMapComponent() {\n    return {\n      strict: 'AE',\n      scope: true,\n      transclude: true,\n      bindToController: {\n        componentOptions: '=pipOptions'\n      },\n      controller: 'MapComponentCtrl',\n      controllerAs: 'ctrl',\n      templateUrl: 'map.html'\n    };\n  }\n\n  angular.module('pipMaps')\n    .controller('MapComponentCtrl', MapComponentCtrl)\n    .directive('pipMap', pipMapComponent);\n})();","\n(() => {\n  'use strict';\n\n  /**\n   * @typedef {Object} Map~eventObj\n   * @property {Object} gModel Google native model passed to event handler\n   * @property {string} eventName Event name\n   * @property {Array} args Arguments passed to the original handler\n   * @property {Object} [model] Model related to an element, fired an event\n   * @property {Object} [position] Clicked position coordinates\n   * @property {Object} [position.latitude] Clicked position latitude\n   * @property {Object} [position.longitude] Clicked position longitude\n   */\n\n\n  /**\n   * @ngdoc service\n   * @name pipMapComponent.mapEventHandlerMixinFct\n   * @description Provides methods for types conversion\n   * @mixin\n   */\n  function mapEventHandlerMixinFct() {\n    /**\n     *  @param {Object} gModel Google element class instance\n     * @param {string} eventName Fired event name\n     * @param {Object|Array} model Element model (settings object like we create here) or 'args'\n     * @param {Array} [args] Arguments passed to google native handler\n     * @returns {Map~eventObj}\n     *\n     * @private\n     * @description Creates event object from arguments\n     * Can be used for both map and model clickers\n     */\n\n    var createEventObjFromHandlerArguments = function (gModel, eventName, model, args) {\n      if (!args || !args.length) {\n        args  = model;\n        model = null;\n      }\n\n      var position = args[0] && args[0].latLng && getPositionFromLatLng(args[0].latLng);\n\n      return {\n        gModel   : gModel,\n        eventName: eventName,\n        args     : args,\n        model    : model,\n        position : position\n      };\n    };\n\n    /**\n     * @param {Object} latLng Google longitude-latitude class instance\n     * @returns {Map~position}\n     *\n     * @private\n     * @description Gets latitude and longitude from latLng instance\n     */\n    var getPositionFromLatLng = function (latLng) {\n      return {\n        latitude : latLng.lat(),\n        longitude: latLng.lng()\n      };\n    };\n\n\n    var mixin = function (postHandler) {\n      postHandler = postHandler || angular.noop;\n\n      return {\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.mapEventHandlerMixinFct\n         * @name pipMapComponent.mapEventHandlerMixinFct#addEventHandler\n         * @param {string} eventName Event name\n         * @param {Function} callback Callback to call\n         *\n         * @returns {Function} Remove handler method\n         * @description Add event handler for given event name\n         */\n        addEventHandler: function (eventName, callback) {\n          var handlerName   = '__onEventOverridden_' + eventName;\n          this[handlerName] = callback;\n\n          return function () {\n            this[handlerName] = null;\n          }.bind(this);\n        },\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.mapEventHandlerMixinFct\n         * @name pipMapComponent.mapEventHandlerMixinFct#onEventHandler\n         * @param {Object} gObject Google map class instance\n         * @param {string} eventName Fired event name\n         * @param {Object|Array} args Model on which event was fired or args\n         * @param {Array} [model] Arguments passed to google native handler\n         *\n         * @description Event handler\n         */\n        onEventHandler: function (gObject, eventName) {\n          var handlerName = '__onEventOverridden_' + eventName;\n          var eventObj    = createEventObjFromHandlerArguments.apply(null, arguments);\n\n          if (angular.isFunction(this[handlerName])) {\n            this[handlerName](eventObj);\n            postHandler();\n\n            return;\n          }\n\n          var defaultHandlerName = 'on' + eventName.charAt(0).toUpperCase() + eventName.slice(1);\n\n          if (angular.isFunction(this[defaultHandlerName])) {\n            this[defaultHandlerName](eventObj);\n            postHandler();\n          }\n        }\n      };\n    };\n\n    return {\n      mixTo: function (obj, $scope) {\n        angular.extend(obj, mixin($scope));\n      }\n    };\n  }\n\n  angular.module('pipMaps')\n    .factory('mapEventHandlerMixinFct', mapEventHandlerMixinFct);\n})();\n","{\n    const config = function (uiGmapGoogleMapApiProvider) {\n        uiGmapGoogleMapApiProvider.configure({\n            key: 'AIzaSyBg6cm-FDBFPWzRcn39AuSHGQSrdtVIjEo',\n            v: '3.23',\n            libraries: 'geometry'\n        });\n    };\n\n    angular.module('pipMaps')\n        .config(config);\n}","interface IMapEditBindings {\n    [key: string]: any;\n\n    overlay: any;\n    onEdit: any;\n    mapOptions: any;\n    showActionPanel: any;\n    actionTypes: any;\n    control: any;\n    disabled: any;\n}\n\nconst MapEditBindings: IMapEditBindings = {\n    overlay: '<pipOverlay',\n    onEdit: '&?pipOnEdit',\n    mapOptions: '=?pipMapOptions',\n    showActionPanel: '<?pipShowActionPanel',\n    actionTypes: '<?pipActionTypes',\n    control: '&?pipControl',\n    disabled: '<?pipDisabled',\n    disabledPolygons: '<?pipDisabledPolygons',\n    disabledPolygonsOptions: '<?pipDisabledPolygonsOptions',\n    disabledPolylines: '<?pipDisabledPolylines',\n    disabledPolylinesOptions: '<?pipDisabledPolylinesOptions',\n    disabledCircles: '<?pipDisabledCircles',\n    disabledCirclesOptions: '<?pipDisabledCirclesOptions'\n}\n\nclass actionTypes {\n    public static clearMap: string = 'clear';\n    public static addCircle: string = 'circle';\n    public static addRectangle: string = 'rectangle';\n    public static addPolygon: string = 'polygon';\n    public static addLine: string = 'line';\n}\n\nclass MapEditChanges implements ng.IOnChangesObject, IMapEditBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    overlay: ng.IChangesObject<any>;\n    mapOptions: ng.IChangesObject<any>;\n    showActionPanel: ng.IChangesObject<boolean>;\n    actionTypes: ng.IChangesObject<any>;\n    disabled: ng.IChangesObject<boolean>;\n    control: any;\n    onEdit: any;\n}\n\n\nclass MapEditController {\n    public map = {\n        control: {},\n        options: {\n            disableDefaultUI: true,\n            mapTypeId: \"satellite\",\n            panControl: false,\n            zoomControl: false,\n            mapTypeControl: false,\n            streetViewControl: false\n        }\n    };\n    public drawingManagerControl: any = {};\n    public drawingManagerOptions: any = {};\n    public currentOverlay: any = {};\n    public actionTypes: any[];\n\n    public showActionPanel: boolean;\n    public overlay: any;\n    public mapOptions: any;\n    public onEdit: Function;\n    public control: Function;\n    public disabled: boolean;\n\n    private _circleOptions = {\n        fillColor: '#F8E81C',\n        fillOpacity: 0.2,\n        strokeWeight: 3,\n        strokeColor: '#F8E81C',\n        clickable: false,\n        editable: !this.disabled,\n        zIndex: 1\n    };\n    private _polygonOptions = {\n        fillColor: '#F8E81C',\n        fillOpacity: 0.2,\n        strokeWeight: 3,\n        strokeColor: '#F8E81C',\n        clickable: false,\n        editable: !this.disabled,\n        draggable: !this.disabled,\n        zIndex: 1\n    };\n    private _polylineOptions = {\n        strokeWeight: 6,\n        strokeColor: '#F8E81C',\n        clickable: false,\n        editable: !this.disabled,\n        zIndex: 1\n    };\n    private _markerOptions = {\n        icon: {\n            path: 0,\n            scale: 4,\n            strokeWeight: 8,\n            fillColor: '#F8E81C',\n            strokeColor: '#F8E81C',\n            strokeOpacity: 0.9,\n            draggable: !this.disabled\n        }\n    };\n\n    private _rectangleOptions = {\n        fillColor: '#F8E81C',\n        fillOpacity: 0.2,\n        strokeWeight: 3,\n        strokeColor: '#F8E81C',\n        clickable: false,\n        editable: !this.disabled,\n        draggable: !this.disabled,\n        zIndex: 1\n    };\n\n    constructor(\n        private $element: JQuery,\n        private $scope: ng.IScope,\n        private $mdConstant: any,\n        private $document: ng.IDocumentService,\n        private $timeout: ng.ITimeoutService,\n        private uiGmapGoogleMapApi: any\n    ) {\n        $element.addClass('pip-map-edit');\n\n        uiGmapGoogleMapApi.then((maps) => {\n            this.drawingManagerOptions = {\n                drawingControl: false,\n                drawingControlOptions: {\n                    position: google.maps.ControlPosition.TOP_CENTER,\n                    drawingModes: [\n                        google.maps.drawing.OverlayType.CIRCLE,\n                        google.maps.drawing.OverlayType.POLYGON,\n                        google.maps.drawing.OverlayType.POLYLINE\n                    ]\n                },\n                circleOptions: this._circleOptions,\n                polygonOptions: this._polygonOptions,\n                polylineOptions: this._polylineOptions,\n                markerOptions: this._markerOptions,\n                rectangleOptions: this._rectangleOptions\n                \n            };\n        });\n\n        $scope.$watch('$ctrl.map.control.getGMap', () => {\n            if (this.currentOverlay && this.currentOverlay.setMap && _.isFunction(this.map.control['getGMap'])) {\n                this.currentOverlay.setMap(this.map.control['getGMap']());\n                this.fitBounds();\n            }\n        });\n\n        $scope.$watch('$ctrl.mapOptions.embededMap', () => {\n            _.assign(this.map, this.mapOptions);\n        }, true);\n\n        $scope.$watch('$ctrl.mapOptions.isEmbeded', () => {\n            _.assign(this.map, this.mapOptions);\n        });\n\n\n        $scope.$watch('$ctrl.drawingManagerControl.getDrawingManager', (val) => {\n            if (!this.drawingManagerControl.getDrawingManager) {\n                return;\n            }\n\n            google.maps.event.addListener(this.drawingManagerControl.getDrawingManager(), 'overlaycomplete', (e) => {\n                this.drawingManagerControl.getDrawingManager().setDrawingMode(null);\n                this.setOverlay(e.overlay, e.type, false);\n                this.onEditOverlay();\n            });\n\n            google.maps.event.addListener(this.drawingManagerControl.getDrawingManager(), 'drawingmode_changed', () => {\n                if (this.drawingManagerControl.getDrawingManager().getDrawingMode() !== null) {\n                    if (this.currentOverlay && this.currentOverlay.map) this.currentOverlay.setMap(null);\n                }\n            });\n\n            google.maps.event.addDomListener(document, 'keyup', (e) => {\n                const code = (e.keyCode ? e.keyCode : e.which);\n\n                if (code === 27) {\n                    this.drawingManagerControl.getDrawingManager().setDrawingMode(null);\n                }\n\n                if (code === 46) {\n                    this.clearMap();\n                }\n            });\n\n        });\n    }\n\n    public $onDestroy(): void {\n\n    }\n\n    public $onChanges(changes: MapEditChanges): void {\n        if (changes.overlay && changes.overlay.currentValue) {\n            this.setOverlay(this.convertToGoogleMapOverlay(changes.overlay.currentValue), changes.overlay.currentValue.type);\n        }\n\n        if (changes.disabled) {\n            if (this.currentOverlay) {\n                this.currentOverlay.setDraggable(!changes.disabled.currentValue);\n                if (this.currentOverlay.setEditable) this.currentOverlay.setEditable(!changes.disabled.currentValue);\n            }\n        }\n    }\n\n    public $onInit() {\n        angular.extend(this.map, this.mapOptions);\n\n        if (this.control) {\n            this.control({ control: this });\n        }\n    }\n\n    private fitBounds() {\n        if (!this.map.control['getGMap'] || !this.currentOverlay) return;\n\n        switch (this.overlay.type) {\n            case 'circle': {\n                this.map.control['getGMap']().fitBounds(this.currentOverlay.getBounds());\n                break;\n            }\n\n            case 'marker': {\n                if (this.currentOverlay.getPosition) {\n                    this.map.control['getGMap']().panTo(this.currentOverlay.getPosition());\n                }\n                break;\n            }\n\n            case 'rectangle': {\n                this.map.control['getGMap']().fitBounds(this.currentOverlay.getBounds());\n                break;\n            }\n\n            default: {\n                if (this.currentOverlay.getPath().getArray().length > 0) {\n                    var bounds = new google.maps.LatLngBounds();\n                    _.each(this.currentOverlay.getPath().getArray(), (coor) => {\n                        bounds.extend(coor);\n                    });\n                    this.map.control['getGMap']().fitBounds(bounds);\n                }\n            }\n        }\n    }\n\n    private convertToGoogleMapOverlay(overlay) {\n        if (overlay.type === 'polygon') {\n            return this.createPolygon(overlay);\n        }\n\n        if (overlay.type === 'line' || overlay.type === 'polyline') {\n            return this.createPolyline(overlay);\n        }\n\n        if (overlay.type === 'circle') {\n            return this.createCircle(overlay);\n        }\n\n        if (overlay.type === 'marker') {\n            return this.createMarker(overlay);\n        }\n\n        if (overlay.type === 'rectangle') {\n            return this.createRectangle(overlay);\n        }\n    }\n\n    private createMarker(overlay: any) {\n        if ((overlay.pos && overlay.pos.coordinates) || (overlay.latitude && overlay.longitude)) {\n            let centerCoords = {};\n            centerCoords = {\n                lat: overlay.pos.coordinates ? overlay.pos.coordinates[1] : overlay.latitude,\n                lng: overlay.pos.coordinates ? overlay.pos.coordinates[0] : overlay.longitude\n            };\n\n            const marker = new google.maps.Marker(angular.extend(\n                this.getOptionsByType('marker'),\n                { position: centerCoords }\n            ));\n\n            if (this.map.control['getGMap']) marker.setMap(this.map.control['getGMap']());\n\n            return marker;\n        }\n\n        return new google.maps.Circle(this.getOptionsByType('circle'));\n    }\n\n    private createCircle(overlay: any) {\n        if (overlay.center && (overlay.center.coordinates || (overlay.center.latitude && overlay.center.longitude)) && overlay.distance) {\n            let centerCoords = {};\n            centerCoords = {\n                lat: overlay.center.coordinates ? overlay.center.coordinates[1] : overlay.center.latitude,\n                lng: overlay.center.coordinates ? overlay.center.coordinates[0] : overlay.center.longitude\n            };\n\n            const circle = new google.maps.Circle(angular.extend(\n                this.getOptionsByType('circle'),\n                { center: centerCoords, radius: overlay.distance }\n            ));\n\n            if (this.map.control['getGMap']) circle.setMap(this.map.control['getGMap']());\n\n            return circle;\n        }\n\n        return new google.maps.Circle(this.getOptionsByType('circle'));\n    }\n\n    private createPolygon(overlay) {\n        if (overlay.geometry && overlay.geometry.coordinates) {\n            const polygonCoords = [];\n\n            _.each(overlay.geometry.coordinates[0], (coor) => {\n                polygonCoords.push({ lat: coor[1], lng: coor[0] });\n            });\n\n            const polygon = new google.maps.Polygon(angular.extend(\n                this.getOptionsByType('polygon'),\n                { paths: polygonCoords }\n            ));\n\n            if (this.map.control['getGMap']) polygon.setMap(this.map.control['getGMap']());\n\n            return polygon;\n        }\n\n        return new google.maps.Polygon(this.getOptionsByType('polygon'));;\n    }\n\n    private createPolyline(overlay) {\n        if (overlay.geometry && overlay.geometry.coordinates) {\n            const polylineCoords = [];\n\n            _.each(overlay.geometry.coordinates, (coor) => {\n                polylineCoords.push({ lat: coor[1], lng: coor[0] });\n            });\n\n            const polyline = new google.maps.Polyline(angular.extend(\n                this.getOptionsByType('line'),\n                { path: polylineCoords }\n            ));\n\n            if (this.map.control['getGMap']) polyline.setMap(this.map.control['getGMap']());\n\n            return polyline;\n        }\n\n        return new google.maps.Polyline(this.getOptionsByType('line'));\n    }\n\n    private createRectangle(overlay) {\n        if (overlay.bounds) {\n            var rectangleBounds = overlay.bounds;\n            var rectangle = new google.maps.Rectangle(angular.extend(this.getOptionsByType('rectangle'), { bounds: rectangleBounds }));\n\n            if (this.map.control['getGMap'])\n                rectangle.setMap(this.map.control['getGMap']());\n            \n            return rectangle;\n        }\n        return new google.maps.Rectangle(this.getOptionsByType('rectangle'));\n    };\n\n    private getOptionsByType(type: string): any {\n        switch (type) {\n            case 'polygon':\n                return _.cloneDeep(angular.extend(this._polygonOptions, this.getDisableOptions()));\n            case 'circle':\n                return _.cloneDeep(angular.extend(this._circleOptions, this.getDisableOptions()));\n            case 'line':\n                return _.cloneDeep(angular.extend(this._polylineOptions, this.getDisableOptions()));\n            case 'polyline':\n                return _.cloneDeep(angular.extend(this._polylineOptions, this.getDisableOptions()));\n            case 'marker':\n                return _.cloneDeep(angular.extend(this._markerOptions, this.getDisableOptions()));\n            case 'rectangle':\n                return _.cloneDeep(angular.extend(this._rectangleOptions, this.getDisableOptions()));\n        }\n    }\n\n    private getDisableOptions() {\n        return {\n            editable: !this.disabled,\n            draggable: !this.disabled\n        }\n    }\n\n    private setOverlay(overlay, type, fitBounds = true) {\n        if (!overlay) return;\n\n        this.clearMap();\n        this.currentOverlay = overlay || {};\n        this.currentOverlay.type = type;\n        switch (type) {\n            case 'circle': {\n                this.currentOverlay.center_changed = () => {\n                    this.onEditOverlay();\n                };\n\n                this.currentOverlay.radius_changed = () => {\n                    this.onEditOverlay();\n                };\n                break;\n            }\n\n            case 'marker': {\n                if (!this.currentOverlay.addListener) return;\n\n                this.currentOverlay.addListener('position_changed', () => {\n                    this.onEditOverlay();\n                });\n                break;\n            }\n\n            case 'rectangle': {\n                if (!this.currentOverlay.addListener)\n                    return;\n                this.currentOverlay.addListener('bounds_changed', () => {\n                    this.onEditOverlay();\n                });\n                break;\n            }\n\n            default: {\n                if (!this.currentOverlay.getPath) return;\n\n                google.maps.event.addListener(this.currentOverlay.getPath(), 'set_at', () => {\n                    this.onEditOverlay();\n                });\n\n                google.maps.event.addListener(this.currentOverlay.getPath(), 'insert_at', () => {\n                    this.onEditOverlay();\n                });\n            }\n        }\n\n        if (fitBounds) this.fitBounds();\n    }\n\n    private onEditOverlay() {\n        if (this.onEdit) this.onEdit({\n            overlay: this.currentOverlay,\n            bounds: this.currentOverlay && this.currentOverlay.type === 'rectangle' ? {\n                north: this.currentOverlay.getBounds().getNorthEast().lat(),\n                east: this.currentOverlay.getBounds().getNorthEast().lng(),\n                south: this.currentOverlay.getBounds().getSouthWest().lat(),\n                west: this.currentOverlay.getBounds().getSouthWest().lng(),\n            } : {},\n            type: this.currentOverlay ? this.currentOverlay.type : null,\n            path: this.currentOverlay && (this.currentOverlay.type === 'polygon' || this.currentOverlay.type === 'polyline') ? this.currentOverlay.getPath() : [],\n            center: this.currentOverlay && this.currentOverlay.type === 'circle' ?\n                this.currentOverlay.getCenter() : this.currentOverlay && this.currentOverlay.getPosition && this.currentOverlay.type === 'marker' ? this.currentOverlay.getPosition() : {},\n            radius: this.currentOverlay && this.currentOverlay.type === 'circle' ? this.currentOverlay.getRadius() : {}\n        });\n    }\n\n    public showAction(action) {\n        return !this.actionTypes ? true : this.actionTypes.includes(action);\n    }\n\n    public get showPanel() {\n        return this.showActionPanel === false ? false : true;\n    }\n\n    public addCircle() {\n        this.drawingManagerOptions.drawingMode = google.maps.drawing.OverlayType.CIRCLE;\n    }\n\n    public addPolygon() {\n        this.drawingManagerOptions.drawingMode = google.maps.drawing.OverlayType.POLYGON;\n    }\n    \n    public addRectangle() {\n        this.drawingManagerOptions.drawingMode = google.maps.drawing.OverlayType.RECTANGLE;\n    }\n\n    public addLine() {\n        this.drawingManagerOptions.drawingMode = google.maps.drawing.OverlayType.POLYLINE;\n    }\n\n    public addMarker() {\n        this.drawingManagerOptions.drawingMode = google.maps.drawing.OverlayType.MARKER;\n    }\n\n    public clearMap() {\n        this.drawingManagerOptions.drawingMode = null;\n        if (this.currentOverlay && this.currentOverlay.map) {\n            this.currentOverlay.setMap(null);\n            this.currentOverlay = null;\n            this.onEditOverlay();\n        }\n    }\n\n}\n\nlet config = function (uiGmapGoogleMapApiProvider) {\n    uiGmapGoogleMapApiProvider.configure({\n        libraries: 'drawing'\n    });\n};\n\n(() => {\n    angular.module('pipMapsEdit')\n        .component('pipMapEdit', {\n            bindings: MapEditBindings,\n            templateUrl: 'edit/MapEdit.html',\n            controller: MapEditController,\n            controllerAs: '$ctrl'\n        })\n        .config(config);\n})();\n","angular.module('pipMapsEdit', []);\n\nimport './MapEdit';","(function () {\n    'use strict';\n\n    function MapElementsCtrlFct() {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapElementsCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         *\n         * @description Controller for a map component (directive)\n         */\n        function MapElementsCtrl($injector, $scope) {\n            var mapEventHandlerMixinFct = $injector.get('mapEventHandlerMixinFct');\n            mapEventHandlerMixinFct.mixTo(this, $scope.$applyAsync.bind($scope));\n\n            this.control = {};\n            this.popUpOpened = null;\n            this.pipMapHelperSrv = $injector.get('pipMapHelperSrv');\n            this.uiGmapIsReady = $injector.get('uiGmapIsReady');\n            this.$q = $injector.get('$q');\n        }\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#$onInit\n         *\n         * @description Init component\n         */\n        MapElementsCtrl.prototype.$onInit = function () {\n            /**\n             * @ngdoc property\n             * @propertyOf pipMapComponent.MapElementsCtrl\n             * @name pipMapComponent.MapElementsCtrl#componentOptions\n             * @type {Object}\n             *\n             * @description Options from outer scope\n             */\n            this.options = angular.merge({}, this.defaultOptions, this.componentOptions);\n            this.models = this.models || [];\n\n            this.externalDblclick = this.options.events && this.options.events.dblclick ? this.options.events.dblclick : angular.noop;\n            this.externalClick = this.options.events && this.options.events.click ? this.options.events.click : angular.noop;\n            this.externalRightclick = this.options.events && this.options.events.rightclick ? this.options.events.rightclick : angular.noop;\n\n            this.events = _.extend(this.options.events,\n                {\n                    dblclick: this.onEventHandler.bind(this),\n                    mousedown: this.onEventHandler.bind(this),\n                    mouseup: this.onEventHandler.bind(this),\n                    rightclick: this.onEventHandler.bind(this),\n                    click: this.onEventHandler.bind(this),\n                    position_changed: (objEvent) => {\n                        this.updatePopupPosition(objEvent);\n                    }\n                });\n        };\n        \n        MapElementsCtrl.prototype.$onDestroy = function () { \n            this.closePopup();\n        };\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#defaultOptions\n         * @type {Object}\n         *\n         * @description Default map components\n         */\n        MapElementsCtrl.prototype.defaultOptions = {\n            popup: false,\n            fitBounds: false\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#init\n         * @param {Object} mapCtrl Instance of the map controller\n         *\n         * @description Init edition\n         */\n        MapElementsCtrl.prototype.init = function (mapCtrl) {\n            this.mapCtrl = mapCtrl;\n            this.initPopup();\n        };\n\n        MapElementsCtrl.prototype.setNewOptions = function (popupOptions) {\n            if (this.popup) this.popup.setNewOptions(popupOptions);\n        };\n\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#initPopup\n         *\n         * @description Init popup for an element\n         */\n        MapElementsCtrl.prototype.initPopup = function () {\n            if (!this.options.popup) {\n                return;\n            }\n\n            this.options.popup = angular.merge({}, this.options.popup, {\n                onShow: this.onShowPopup.bind(this),\n                onClose: this.onClosePopup.bind(this)\n            });\n\n            this.pipMapHelperSrv.whenReady.then(function () {\n                this.popup = this.mapCtrl.createElementPopup(this.options.popup);\n            }.bind(this));\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#onShowPopup\n         * @param {Object} model Model to which popup is shown\n         * @param {Object} options Options of the popup\n         *\n         * @description On popup show handler\n         */\n        MapElementsCtrl.prototype.onShowPopup = function () {\n            this.popUpOpened = true;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#onClosePopup\n         *\n         * @description On popup close handler\n         */\n        MapElementsCtrl.prototype.onClosePopup = function () {\n            this.popUpOpened = false;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getBoundsToFitAsync\n         * @return {Promise} Promise for getting bounds\n         *\n         * @description Gets bounds from model positions to fit them. Does so async, after map is ready\n         * If options for fitting is switched off - it rejects the promise\n         */\n        MapElementsCtrl.prototype.getBoundsToFitAsync = function () {\n            if (!this.options.fitBounds) {\n                return this.$q.reject('Fit is switched off');\n            }\n\n            return this.uiGmapIsReady.promise()\n                .then(function () {\n                    return this.getBounds();\n                }.bind(this));\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getBounds\n         * @return {Object} Bounds for the models\n         *\n         * @description Gets bounds from model positions to fit them\n         */\n        MapElementsCtrl.prototype.getBounds = function () {\n            return this.pipMapHelperSrv.getBoundsFromCoordinates(this.getAllPositions());\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getAllPositions\n         * @returns {Array<Object>} Positions for given model or an empty array\n         *\n         * @description Gets model positions array.\n         */\n        MapElementsCtrl.prototype.getAllPositions = function () {\n            if (!angular.isArray(this.models)) {\n                return [];\n            }\n\n            return this.models.map(function (model) {\n                return this.getPosition(model);\n            }, this);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getPosition\n         * @param {Object} model Model to get position for\n         * @returns {Array<Map~position>|<Map~position>} Position for a model\n         *\n         * @description Default maker position getter. We use it if coords is set to 'self'\n         */\n        MapElementsCtrl.prototype.getPosition = function (model) {\n            return {\n                latitude: model.latitude,\n                longitude: model.longitude\n            };\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#isModelEmpty\n         * @param {Object} model Model to check position for\n         * @returns {boolean} True if current model is empty\n         *\n         * @description Checks whether model is empty\n         */\n        MapElementsCtrl.prototype.isModelEmpty = function (model) {\n            var position = this.getPosition(model);\n            return !position.latitude || !position.longitude;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#onClick\n         * @param {Map~eventObj} eventObj Event object\n         *\n         * @description Handler on model click\n         */\n        MapElementsCtrl.prototype.onDblclick = function (eventObj) {\n            this.externalDblclick(eventObj);\n            //this.correctCircleModel(eventObj);\n            //this.togglePopup(eventObj);\n        };\n\n        MapElementsCtrl.prototype.onClick = function (eventObj) {\n            this.externalClick(eventObj);\n            if (this.longClick) {\n                this.correctCircleModel(eventObj);\n                this.togglePopup(eventObj);\n                this.longClick = false;\n            } else {\n                this.closePopup();\n            }\n            \n        };\n\n        MapElementsCtrl.prototype.correctCircleModel = function (eventObj) {\n            if (eventObj.gModel.radius && eventObj.gModel.center) {\n                let model = {};\n\n                _.each(this.models, (m) => {\n                    if (m[this.options.center] && m[this.options.radius]) {\n                        if (m[this.options.center].latitude.toFixed(5) == eventObj.gModel.center.lat().toFixed(5) &&\n                            m[this.options.center].longitude.toFixed(5) == eventObj.gModel.center.lng().toFixed(5) &&\n                            m[this.options.radius].toFixed(5) === eventObj.gModel.radius.toFixed(5)) {\n                            model = m;\n                        }\n                    }\n                });\n\n                eventObj.model = model;\n            }\n        };\n\n        MapElementsCtrl.prototype.onRightclick = function (eventObj) {\n            this.externalRightclick(eventObj);\n            this.correctCircleModel(eventObj);\n            this.togglePopup(eventObj);\n        };\n\n        MapElementsCtrl.prototype.onMousedown = function (eventObj) {\n            this.start = new Date().getTime();\n        };\n\n        MapElementsCtrl.prototype.onMouseup = function (eventObj) {\n            this.end = new Date().getTime();\n            this.longClick = (this.end - this.start > 300);\n        };\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#togglePopup\n         * @param {Map~eventObj} eventObj Event object\n         *\n         * @description Toggles popup\n         */\n        MapElementsCtrl.prototype.togglePopup = function (eventObj) {\n            if (!this.popup) {\n                return;\n            }\n\n            this.popup.toggle(eventObj);\n        };\n\n        MapElementsCtrl.prototype.closePopup = function (eventObj) {\n            if (!this.popup) {\n                return;\n            }\n\n            this.popup.close();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getModels\n         * @returns {Array<Object>} Array of current models\n         *\n         * @description Returns current models list\n         */\n        MapElementsCtrl.prototype.getModels = function () {\n            return this.models;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#checkContainsModel\n         * @param {Object} model Model to check\n         * @returns {boolean} True if contains\n         *\n         * @description Check whether current element contains given model\n         */\n        MapElementsCtrl.prototype.checkContainsModel = function (model) {\n            return this.models.indexOf(model) > -1;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getPlural\n         * @param {*} id Id of the model to get plural for\n         * @returns {Object} Plural model with given id\n         *\n         * @description Returns plural models with given id.\n         */\n        MapElementsCtrl.prototype.getPlural = function (id) {\n            return this.getPlurals().get(id);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getPlurals\n         * @returns {Object} Plural object with methods\n         *\n         * @description Returns plurals models\n         */\n        MapElementsCtrl.prototype.getPlurals = function () {\n            return this.control.getPlurals();\n        };\n\n        MapElementsCtrl.prototype.updatePopupPosition = function (objEvent) {\n            if (this.popUpOpened === objEvent.model.id) {\n                this.popup.setPosition({\n                    latitude: objEvent.position.lat(),\n                    longitude: objEvent.position.lng()\n                });\n            }\n        }\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#freezeMap\n         *\n         * @description Freezes map\n         */\n        MapElementsCtrl.prototype.freezeMap = function () {\n            return this.mapCtrl.freeze();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#unfreezeMap\n         *\n         * @description unfreezes map\n         */\n        MapElementsCtrl.prototype.unfreezeMap = function () {\n            return this.mapCtrl.unfreeze();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#setCursor\n         * @param {string} [cursor] Cursor code. If empty - the default behaviour is restored\n         *\n         * @description Overrides cursor for the map or set back default behaviour if cursor is not provided\n         * @todo: This is not used currently. It was developed to able change cursors from actions\n         */\n        MapElementsCtrl.prototype.setCursor = function (cursor) {\n            return this.mapCtrl.setCursor(cursor);\n        };\n\n\n        return MapElementsCtrl;\n    }\n\n    angular.module('pipMapsElements')\n        .factory('MapElementsCtrlFct', MapElementsCtrlFct);\n})();","(function () {\n    'use strict';\n\n    /**\n     * @typedef {Object} Map~PopupBreakpoint\n     * @property {string} name Name of the breakpoint (according to material docs)\n     * @property {number} width Width of the offset\n     * @property {number} height Height of the offset\n     */\n    /**\n     * @ngdoc service\n     * @name pipMapComponent.pipMapElementsFct\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Models array\n     * @property {Object} pipOptions Options for a map elements\n     * @property {boolean} [pipOptions.fitBounds = true] Whether map fit bounds method should work\n     * @property {boolean|Object} [pipOptions.popup = false] Popup for an element settings.\n     * If set to false - popup is disabled\n     * @property {string} [pipOptions.popup.className] Class name to add to a popup\n     * @property {string} [pipOptions.popup.templateUrl] Template url for a popup\n     * @property {Object} [pipOptions.popup.offset] Offset for a popup from current position\n     * @property {number} [pipOptions.popup.width] Width of the offset\n     * @property {number} [pipOptions.popup.height] Height of the offset\n     * @property {Array.<Map~PopupBreakpoint>} [pipOptions.popup.breakpoints] Breakpoints to change offset for\n     * Array is used for ability to prioritize them. If no breakpoint is matched - default offset is used\n     *\n     * @description\n     * This is a template for a directive.\n     * You SHOULD provide proper 'require', 'controller' and 'template' properties\n     * Also you can decorate anything in it\n     */\n    function pipMapElementsFct($timeout) {\n        return {\n            strict: 'AE',\n            scope: {},\n            require: ['^pipMap', 'pipMapElements'],\n            link: function ($scope, $element, $attrs, $controllers) {\n                var mapCtrl = $controllers[0];\n                var elementController = $controllers[1];\n\n                elementController.init(mapCtrl);\n\n                $scope.$watch('ctrl.models', function (models) {\n                    if (models) {\n                        elementController.getBoundsToFitAsync().then(function (bounds) {\n                            // fix issue with map zooming.\n                            // We need timeout because map is fit bound on this call, but then it fits given zoom and bounds are lost\n                            $timeout(mapCtrl.fitMapToBounds.bind(mapCtrl, bounds), 200);\n                        });\n                    }\n                });\n\n                $scope.$watch('ctrl.componentOptions.popup', (popupOptions) => {\n                    elementController.setNewOptions(popupOptions);\n                }, true);\n            },\n\n            bindToController: {\n                componentOptions: '=pipOptions',\n                models: '=pipModels'\n            },\n\n            controller: 'MapElementsCtrl',\n            controllerAs: 'ctrl',\n            templateUrl: 'elements/map-elements.html'\n        };\n    }\n\n    angular.module('pipMapsElements')\n        .factory('pipMapElementsFct', pipMapElementsFct);\n})();","(function () {\n  'use strict';\n\n  /**\n   * @ngdoc service\n   * @name pipMapComponent.mapElementsRequireFct\n   *\n   * @description Provide methods for requiring elements, detect there controllers and types\n   */\n  function mapElementsRequireFct() {\n    return {\n      /**\n       * @ngdoc property\n       * @propertyOf pipMapComponent.mapElementsRequireFct\n       * @name pipMapComponent.mapElementsRequireFct#elements\n       *\n       * @type {Array<string>}\n       */\n      elements: ['?^pipMapMarkers', '?^pipMapPolylines', '?^pipMapPolygons', '?^pipMapKml'],\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.mapElementsRequireFct\n       * @name pipMapComponent.mapElementsRequireFct#getType\n       *\n       * @param {Array<Object>} $controllers Controllers instances which were required\n       * @param {number} [startIndex = 0] Index to start searching from\n       * @returns {string} Type of the element on which this directive is used\n       *\n       * @description Detects by controllers names element type on which this directive is being used\n       */\n      getType: function ($controllers, startIndex) {\n        try {\n          return $controllers.slice(startIndex)\n            .map(function (ctrl, index) {\n              return ctrl && this.elements[index];\n            }, this)\n            .filter(function (ctrlName) {\n              return ctrlName;\n            })[0]\n            .replace('?^pipMap', '')\n            .toLowerCase();\n        } catch (e) {\n          throw new Error('pip-map-editable-element can be used only with map elements directives');\n        }\n      },\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.mapElementsRequireFct\n       * @name pipMapComponent.mapElementsRequireFct#getController\n       *\n       * @param {Array<Object>} $controllers Controllers instances which were required\n       * @param {number} [startIndex = 0] Index to start searching from\n       * @returns {Object} Instance of the controller\n       *\n       * @description Returns element's controllers among other controllers instances\n       */\n      getController: function ($controllers, startIndex) {\n        return $controllers.slice(startIndex)\n          .filter(function (ctrl) {\n            return ctrl;\n          })[0];\n      }\n    };\n  }\n\n  angular.module('pipMapsElements')\n    .factory('mapElementsRequireFct', mapElementsRequireFct);\n})();\n","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.pipMapCircles\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Circles array\n     * @property {Object} pipOptions Options for a map circles\n     *\n     * @description  it extends pipMapElementsFct\n     * @see pipMapComponent.pipMapElementsFct\n     */\n\n    function MapCirclesCtrlFct(MapElementsCtrlFct) {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapCirclesCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         * @extends pipMapComponent.MapElementsCtrl\n         *\n         * @description Controller for a map circles\n         */\n        function MapCirclesCtrl($injector, $scope) {\n            MapElementsCtrlFct.call(this, $injector, $scope);\n            this.$parse = $injector.get('$parse');\n        }\n\n\n        var _super = MapElementsCtrlFct.prototype;\n        MapCirclesCtrl.prototype = Object.create(_super);\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#defaultOptions\n         * @type {Object}\n         *\n         * @description Default map components\n         */\n        MapCirclesCtrl.prototype.defaultOptions = angular.merge({}, _super.defaultOptions, {\n            stroke: 'stroke',\n            fill: 'fill',\n            radius: 'radius',\n            center: 'center',\n            fitBounds: false\n        });\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#$onInit\n         *\n         * @description Init component\n         */\n        MapCirclesCtrl.prototype.$onInit = function () {\n            _super.$onInit.call(this);\n            this.setPositionGetterSetter();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#setPositionGetterSetter\n         *\n         * @description Sets getter for coordinates or null if it not needed. Treats options.model.coords\n         */\n        MapCirclesCtrl.prototype.setPositionGetterSetter = function () {\n            var pathProp = this.options.path;\n\n            this.getPosition = this.$parse(pathProp);\n            this.setPosition = this.getPosition.assign;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#setDefaultPositionsIfNeeded\n         * @param {Object} model Marker to set position for\n         *\n         * @description Checks if current positions is empty and sets default if needed\n         */\n        MapCirclesCtrl.prototype.setDefaultPositionsIfNeeded = function (model) {\n            var positions = this.getPosition(model);\n\n            if (!angular.isArray(positions)) {\n                this.setPosition(model, []);\n            }\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#getAllPositions\n         * @returns {Array<Object>} Positions for given model or an empty array\n         *\n         * @description Gets model positions array.\n         */\n        MapCirclesCtrl.prototype.getAllPositions = function () {\n            var paths = _super.getAllPositions.call(this);\n            return Array.prototype.concat.apply([], paths); //flatten array of arrays\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#setPosition\n         * @param {Object} model Marker to set position for\n         * @param {Array<Map~position>|<Map~position>} position Position to set\n         *\n         * @description Default maker position setter. We use it if coords is set to 'self'\n         */\n        MapCirclesCtrl.prototype.setPosition = function (model, position) {\n            model[this.defaultOptions.center] = position;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#getPosition\n         * @param {Object} model Marker to get position for\n         * @returns {Array<Map~position>|<Map~position>} Position for a model\n         *\n         * @description Default polygon position getter. We use it if coords is set to 'self'\n         */\n        MapCirclesCtrl.prototype.getPosition = function (model) {\n            return model[this.defaultOptions.center];\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#isModelEmpty\n         * @param {Object} model Model to check position for\n         * @returns {boolean} True if current model is empty\n         *\n         * @description Checks whether model is empty\n         */\n        MapCirclesCtrl.prototype.isModelEmpty = function (model) {\n            var position = this.getPosition(model);\n            return !position;\n        };\n\n\n        return MapCirclesCtrl;\n    }\n\n\n    /**\n     * Create controller\n     */\n    function MapCirclesCtrlBuilder($controller, $scope, MapCirclesCtrlFct) {\n        var instance = $controller(MapCirclesCtrlFct, {\n            $scope: $scope\n        });\n\n        angular.extend(instance, this);\n        instance.$onInit();\n\n        return instance;\n    }\n\n    function pipMapCircles(pipMapElementsFct) {\n        return angular.extend({}, pipMapElementsFct, {\n            require: ['^pipMap', 'pipMapCircles'],\n            controller: 'MapCirclesCtrl',\n            templateUrl: 'elements/circles/map-circles.html'\n        });\n    }\n\n    angular.module('pipMapsElements')\n        .factory('MapCirclesCtrlFct', MapCirclesCtrlFct)\n        .controller('MapCirclesCtrl', MapCirclesCtrlBuilder)\n        .directive('pipMapCircles', pipMapCircles);\n})();","angular.module('pipMapsElements', []);\n\nimport './MapElementControllerService';\nimport './MapElementDirectiveService';\nimport './MapElementRequireService';\n\nimport './kml/MapKml';\nimport './markers/MapMarkers';\nimport './polygons/MapPolygons';\nimport './polylines/MapPolylines';\nimport './circles/MapCircles';","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.pipMapKml\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Kml array\n     * @property {Object} pipOptions Options for a map markers\n     * @property {boolean|Object} [pipOptions.connect = false] Connection lines settings\n     * (connect markers or groups together). If set to false - connections are disabled\n     * @property {Object} [pipOptions.connect.stroke] Settings for connections stroke\n     * @property {Object} [pipOptions.connect.icons] Settings for connection icons\n     * @property {Object} [pipOptions.connect.property] Settings for connection data\n     * from which property it should take data to show connections.\n     *\n     * @description  it extends pipMapElementsFct\n     * @see pipMapComponent.pipMapElementsFct\n     */\n\n    function MapKmlCtrlFct(MapElementsCtrlFct) {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapKmlCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         * @extends pipMapComponent.MapElementsCtrl\n         *\n         * @description Controller for a map KML\n         */\n        function MapKmlCtrl($injector, $scope) {\n            MapElementsCtrlFct.call(this, $injector, $scope);\n\n            this.pipMapHelperSrv = $injector.get('pipMapHelperSrv');\n            this.existingModels = [];\n        }\n\n\n        var _super = MapElementsCtrlFct.prototype;\n        MapKmlCtrl.prototype = Object.create(_super);\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#defaultOptions\n         * @type {Object}\n         *\n         * @description Default map components\n         */\n        MapKmlCtrl.prototype.defaultOptions = angular.merge({}, _super.defaultOptions, {\n            layer: {\n                preserveViewport: true,\n                suppressInfoWindows: true\n            }\n        });\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#getPopupParameters\n         * @returns {Object} Parameters object\n         *\n         * @description Gets parameters object for a popup template\n         * @todo: Check whether this code is actual after moving to one popup instance per map\n         */\n        MapKmlCtrl.prototype.getPopupParameters = function (): any {\n            if (!this.popup.model) {\n                return {};\n            }\n\n            return {\n                model: this.popup.model,\n                position: this.popup.position,\n                meta: this.popup.model.instance.getMetadata()\n            };\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#update\n         *\n         * @description Updates models\n         */\n        MapKmlCtrl.prototype.update = function () {\n            this.pipMapHelperSrv.whenReady.then(function () {\n                this.removeOldModels();\n                this.addNewModels();\n            }.bind(this));\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#removeOldModels\n         *\n         * @description Removes old models\n         */\n        MapKmlCtrl.prototype.removeOldModels = function () {\n            this.getOldModels()\n                .forEach(function (model) {\n                    model.instance.setMap(null);\n                    this.deRegisterModel(model);\n                }, this);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#getOldModels\n         * @returns {Array<Object>} Old models\n         *\n         * @description Returns old models\n         */\n        MapKmlCtrl.prototype.getOldModels = function () {\n            var newUrls = this.models.map(function (model) {\n                return model.url;\n            });\n\n            return this.existingModels\n                .filter(function (model) {\n                    return newUrls.indexOf(model.url) === -1;\n                });\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#addNewModels\n         *\n         * @description Adds new models to the map models\n         */\n        MapKmlCtrl.prototype.addNewModels = function () {\n            this.getNewModels()\n                .forEach(function (model) {\n                    var copy = angular.copy(model);\n                    this.addModel(copy);\n                    this.registerModel(copy);\n                    this.addEvents(copy);\n                }, this);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#getNewModels\n         * @returns {Array<Object>} New models\n         *\n         * @description Returns array of models to add\n         */\n        MapKmlCtrl.prototype.getNewModels = function () {\n            var existingUrls = this.existingModels.map(function (model) {\n                return model.url;\n            });\n\n            return this.models\n                .filter(function (model) {\n                    return existingUrls.indexOf(model.url) === -1;\n                });\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#addModel\n         * @param {Object} model Model to add\n         *\n         * @description Adds a model to the map\n         */\n        MapKmlCtrl.prototype.addModel = function (model) {\n            var mapInstance = this.mapCtrl.getMapInstance();\n            var options = angular.merge({\n                map: mapInstance,\n                url: model.url\n            }, this.options.layer);\n\n            model.instance = this.pipMapHelperSrv.createKML(options);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#addEvents\n         * @param {Object} model Model to add\n         * @param {Object} model.instance Instance of the model's map element\n         *\n         * @description Adds events to a model\n         */\n        MapKmlCtrl.prototype.addEvents = function (model) {\n            var clickHandler = this.onEvent.bind(this, model, 'click');\n            model.instance.addListener('click', clickHandler);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#onEvent\n         * @param {Object} model Model to add\n         * @param {Object} model.instance Instance of the model's map element\n         * @param {string} name Event name\n         *\n         * @description Event handler - adapter between mixin's handler and native events\n         */\n        MapKmlCtrl.prototype.onEvent = function (model, name) {\n            var args = this.copyArguments(arguments, 2);\n            this.onEventHandler(model.instance, name, model, args);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#copyArguments\n         *\n         * @param {Arguments} args Arguments array\n         * @param {number} startIndex Starting index for copying\n         * @return {Array} Copied arguments\n         *\n         * @description Copies arguments into an array.\n         * @see https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#3-managing-arguments\n         */\n        MapKmlCtrl.prototype.copyArguments = function (args, startIndex) {\n            var result = [];\n\n            for (var i = 0; i < args.length - startIndex; ++i) {\n                result[i] = args[i + startIndex];\n            }\n\n            return result;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#getPopupMetaData\n         * @returns {?Object} Metadata for current model in popup\n         *\n         * @description Returns metadata\n         * @todo: Check whether this code is actual after moving to one popup instance per map\n         */\n        MapKmlCtrl.prototype.getPopupMetaData = function () {\n            return this.popup.model && this.popup.model.instance.getMetadata();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#registerModel\n         * @param {Object} model Model to register\n         *\n         * @description Registers model as existing\n         */\n        MapKmlCtrl.prototype.registerModel = function (model) {\n            this.existingModels.push(model);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#deRegisterModel\n         * @param {Object} model Model to de-register\n         *\n         * @description De-registers model as existing\n         */\n        MapKmlCtrl.prototype.deRegisterModel = function (model) {\n            var index = this.existingModels.indexOf(model);\n            this.existingModels.splice(index, 1);\n        };\n\n\n        return MapKmlCtrl;\n    }\n\n\n    /**\n     * Create controller\n     */\n    function MapKmlCtrlBuilder($controller, $scope, MapKmlCtrlFct) {\n        var instance = $controller(MapKmlCtrlFct, {\n            $scope: $scope\n        });\n\n        angular.extend(instance, this);\n        instance.$onInit();\n\n        return instance;\n    }\n\n\n    function pipMapKml(pipMapElementsFct) {\n        var definition = angular.extend({}, pipMapElementsFct, {\n            require: ['^pipMap', 'pipMapKml'],\n            controller: 'MapKmlCtrl',\n            templateUrl: 'elements/kml/map-kml.html'\n        });\n\n        var link = definition.link;\n        definition.link = function ($scope, $element, $attrs, $controllers) {\n            link.apply(this, arguments);\n\n            var mapCtrl = $controllers[0];\n            var elementController = $controllers[1];\n\n            elementController.mapCtrl = mapCtrl;\n            $scope.$watchCollection('ctrl.models', function (models) {\n                if (models) {\n                    elementController.update();\n                }\n            });\n        };\n\n        return definition;\n    }\n\n    angular.module('pipMapsElements')\n        .directive('pipMapKml', pipMapKml)\n        .factory('MapKmlCtrlFct', MapKmlCtrlFct)\n        .controller('MapKmlCtrl', MapKmlCtrlBuilder);\n})();","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.pipMapMarkers\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Markers array\n     * @property {Object} pipOptions Options for a map markers\n     * @property {boolean|Object} [pipOptions.connect = false] Connection lines settings\n     * (connect markers or groups together). If set to false - connections are disabled\n     * @property {Object} [pipOptions.connect.stroke] Settings for connections stroke\n     * @property {Object} [pipOptions.connect.icons] Settings for connection icons\n     * @property {Object} [pipOptions.connect.property] Settings for connection data\n     * from which property it should take data to show connections.\n     *\n     * @description  it extends pipMapElementsFct\n     * @see pipMapComponent.pipMapElementsFct\n     */\n\n    function MapMarkersCtrlFct(MapElementsCtrlFct) {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapMarkersCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         * @extends pipMapComponent.MapElementsCtrl\n         *\n         * @description Controller for a map marker\n         */\n        function MapMarkersCtrl($injector, $scope) {\n            MapElementsCtrlFct.call(this, $injector, $scope);\n\n            this.$parse = $injector.get('$parse');\n            this.pipMapHelperSrv = $injector.get('pipMapHelperSrv');\n        }\n\n\n        var _super = MapElementsCtrlFct.prototype;\n        MapMarkersCtrl.prototype = Object.create(_super);\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#defaultOptions\n         * @type {Object}\n         *\n         * @description Default map components\n         */\n        MapMarkersCtrl.prototype.defaultOptions = angular.merge({}, _super.defaultOptions, {\n            model: {\n                coords: 'self',\n                icon: 'icon'\n            },\n            connect: false\n        });\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#$onInit\n         *\n         * @description Init component\n         */\n        MapMarkersCtrl.prototype.$onInit = function () {\n            _super.$onInit.call(this);\n            this.setPositionGetterSetter();\n            this.initConnect();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#initConnect\n         *\n         * @description Init polyline configuration for connections\n         */\n        MapMarkersCtrl.prototype.initConnect = function () {\n            if (!this.options.connect) {\n                return;\n            }\n\n            var options = this.options.connect;\n\n            this.connect = angular.merge({\n                show: true\n            }, options);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#setPositionGetterSetter\n         *\n         * @description Sets getter for coordinates or null if it not needed. Treats options.model.coords\n         */\n        MapMarkersCtrl.prototype.setPositionGetterSetter = function () {\n            var coordsProp = this.options.model.coords;\n\n            if (coordsProp === 'self') { // take object with coordinates\n                return;\n            }\n\n            this.getPosition = this.$parse(coordsProp);\n            this.setPosition = this.getPosition.assign;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#setPosition\n         * @param {Object} model Marker to set position for\n         * @param {Array<Map~position>|<Map~position>} position Position to set\n         *\n         * @description Default maker position setter. We use it if coords is set to 'self'\n         */\n        MapMarkersCtrl.prototype.setPosition = function (model, position) {\n            angular.extend(model, position);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#onShowPopup\n         * @param {Object} model Model to which popup is shown\n         *\n         * @description Closes popup window and clears related data\n         */\n        MapMarkersCtrl.prototype.onShowPopup = function (model) {\n            //this.resetIconActive();\n            this.popUpOpened = model.id;\n            if (!this.options.popup.options.setPosition) {\n                return;\n            }\n\n            //this.setIconActive(model);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#onClosePopup\n         *\n         * @description Closes popup window and clears related data\n         */\n        MapMarkersCtrl.prototype.onClosePopup = function () {\n            //this.resetIconActive();\n            this.popUpOpened = null;\n        };\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#setIconActive\n         * @param {Object} model Model to set icon for\n         *\n         * @description Sets icon for the marker active\n         */\n        MapMarkersCtrl.prototype.setIconActive = function (model) {\n            if (!model || !model.icon) {\n                return;\n            }\n\n            this.popupModel = model;\n            this.pipMapHelperSrv.setIcon(this.popupModel.icon, true);\n        };\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#resetIconActive\n         *\n         * @description Sets icon for the marker inactive\n         */\n        MapMarkersCtrl.prototype.resetIconActive = function () {\n            if (!this.popupModel || !this.popupModel.icon) {\n                return;\n            }\n\n            this.pipMapHelperSrv.setIcon(this.popupModel.icon, false);\n            this.popupModel = null;\n        };\n\n        return MapMarkersCtrl;\n    }\n\n    /**\n     * Create controller\n     */\n    function MapMarkersCtrlBuilder($controller, $scope, MapMarkersCtrlFct) {\n        var instance = $controller(MapMarkersCtrlFct, {\n            $scope: $scope\n        });\n\n        angular.extend(instance, this);\n        instance.$onInit();\n\n        return instance;\n    }\n\n    function pipMapMarkers(pipMapElementsFct) {\n        return angular.extend({}, pipMapElementsFct, {\n            require: ['^pipMap', 'pipMapMarkers'],\n            controller: 'MapMarkersCtrl',\n            templateUrl: 'elements/markers/map-markers.html'\n        });\n    }\n\n    angular.module('pipMapsElements')\n        .factory('MapMarkersCtrlFct', MapMarkersCtrlFct)\n        .controller('MapMarkersCtrl', MapMarkersCtrlBuilder)\n        .directive('pipMapMarkers', pipMapMarkers);\n})();","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.pipMapPolygons\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Polygons array\n     * @property {Object} pipOptions Options for a map polygons\n     *\n     * @description  it extends pipMapElementsFct\n     * @see pipMapComponent.pipMapElementsFct\n     */\n\n    function MapPolygonsCtrlFct(MapElementsCtrlFct) {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapPolygonsCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         * @extends pipMapComponent.MapElementsCtrl\n         *\n         * @description Controller for a map polygons\n         */\n        function MapPolygonsCtrl($injector, $scope) {\n            MapElementsCtrlFct.call(this, $injector, $scope);\n            this.$parse = $injector.get('$parse');\n        }\n\n\n        var _super = MapElementsCtrlFct.prototype;\n        MapPolygonsCtrl.prototype = Object.create(_super);\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#defaultOptions\n         * @type {Object}\n         *\n         * @description Default map components\n         */\n        MapPolygonsCtrl.prototype.defaultOptions = angular.merge({}, _super.defaultOptions, {\n            path: 'path',\n            stroke: {\n                color: '#ff6262',\n                weight: 5\n            },\n            fitBounds: false\n        });\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#$onInit\n         *\n         * @description Init component\n         */\n        MapPolygonsCtrl.prototype.$onInit = function () {\n            _super.$onInit.call(this);\n            this.setPositionGetterSetter();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#setPositionGetterSetter\n         *\n         * @description Sets getter for coordinates or null if it not needed. Treats options.model.coords\n         */\n        MapPolygonsCtrl.prototype.setPositionGetterSetter = function () {\n            var pathProp = this.options.path;\n\n            this.getPosition = this.$parse(pathProp);\n            this.setPosition = this.getPosition.assign;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#setDefaultPositionsIfNeeded\n         * @param {Object} model Marker to set position for\n         *\n         * @description Checks if current positions is empty and sets default if needed\n         */\n        MapPolygonsCtrl.prototype.setDefaultPositionsIfNeeded = function (model) {\n            var positions = this.getPosition(model);\n\n            if (!angular.isArray(positions)) {\n                this.setPosition(model, []);\n            }\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#getAllPositions\n         * @returns {Array<Object>} Positions for given model or an empty array\n         *\n         * @description Gets model positions array.\n         */\n        MapPolygonsCtrl.prototype.getAllPositions = function () {\n            var paths = _super.getAllPositions.call(this);\n            return Array.prototype.concat.apply([], paths); //flatten array of arrays\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#setPosition\n         * @param {Object} model Marker to set position for\n         * @param {Array<Map~position>|<Map~position>} position Position to set\n         *\n         * @description Default maker position setter. We use it if coords is set to 'self'\n         */\n        MapPolygonsCtrl.prototype.setPosition = function (model, position) {\n            model[this.defaultOptions.path] = position;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#getPosition\n         * @param {Object} model Marker to get position for\n         * @returns {Array<Map~position>|<Map~position>} Position for a model\n         *\n         * @description Default polygon position getter. We use it if coords is set to 'self'\n         */\n        MapPolygonsCtrl.prototype.getPosition = function (model) {\n            return model[this.defaultOptions.path];\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#isModelEmpty\n         * @param {Object} model Model to check position for\n         * @returns {boolean} True if current model is empty\n         *\n         * @description Checks whether model is empty\n         */\n        MapPolygonsCtrl.prototype.isModelEmpty = function (model) {\n            var position = this.getPosition(model);\n            return !position || !position.length || !position[0].latitude || !position[0].longitude;\n        };\n\n\n        return MapPolygonsCtrl;\n    }\n\n\n    /**\n     * Create controller\n     */\n    function MapPolygonsCtrlBuilder($controller, $scope, MapPolygonsCtrlFct) {\n        var instance = $controller(MapPolygonsCtrlFct, {\n            $scope: $scope\n        });\n\n        angular.extend(instance, this);\n        instance.$onInit();\n\n        return instance;\n    }\n\n    function pipMapPolygons(pipMapElementsFct) {\n        return angular.extend({}, pipMapElementsFct, {\n            require: ['^pipMap', 'pipMapPolygons'],\n            controller: 'MapPolygonsCtrl',\n            templateUrl: 'elements/polygons/map-polygons.html'\n        });\n    }\n\n    angular.module('pipMapsElements')\n        .factory('MapPolygonsCtrlFct', MapPolygonsCtrlFct)\n        .controller('MapPolygonsCtrl', MapPolygonsCtrlBuilder)\n        .directive('pipMapPolygons', pipMapPolygons);\n})();","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.pipMapPolylines\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Polylines array\n     * @property {Object} pipOptions Options for a map polylines\n     *\n     * @description  it extends pipMapElementsFct\n     * @see pipMapComponent.pipMapElementsFct\n     */\n\n    function MapPolylinesCtrlFct(MapPolygonsCtrlFct) {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapPolylinesCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         * @extends pipMapComponent.MapPolygonsCtrl\n         * @description Controller for a map polylines\n         */\n        function MapPolylinesCtrl($injector, $scope) {\n            MapPolygonsCtrlFct.call(this, $injector, $scope);\n        }\n\n\n        var _super = MapPolygonsCtrlFct.prototype;\n        MapPolylinesCtrl.prototype = Object.create(_super);\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapPolylinesCtrl\n         * @name pipMapComponent.MapPolylinesCtrl#defaultOptions\n         * @type {Object}\n         * @description Default map components\n         */\n        MapPolylinesCtrl.prototype.defaultOptions = angular.merge({}, _super.defaultOptions, {});\n\n\n        return MapPolylinesCtrl;\n    }\n\n    /**\n     * Create controller\n     */\n    function MapPolylinesCtrlBuilder($controller, $scope, MapPolylinesCtrlFct) {\n        var instance = $controller(MapPolylinesCtrlFct, {\n            $scope: $scope\n        });\n\n        angular.extend(instance, this);\n        instance.$onInit();\n\n        return instance;\n    }\n\n    function pipMapPolylines(pipMapElementsFct) {\n        return angular.extend({}, pipMapElementsFct, {\n            require: ['^pipMap', 'pipMapPolylines'],\n            controller: 'MapPolylinesCtrl',\n            templateUrl: 'elements/polylines/map-polylines.html'\n        });\n    }\n\n    angular.module('pipMapsElements')\n        .factory('MapPolylinesCtrlFct', MapPolylinesCtrlFct)\n        .controller('MapPolylinesCtrl', MapPolylinesCtrlBuilder)\n        .directive('pipMapPolylines', pipMapPolylines);\n})();","/// <reference path=\"../typings/tsd.d.ts\" />\n\nimport './popup';\nimport './elements';\nimport './edit';\n//import './editable_element/EditableElement';\n\n{\n    angular.module('pipMaps', [\n        'uiGmapgoogle-maps',\n        // Map services\n        'pipMaps.Templates',\n        'pipMapsPopup',\n        'pipMapsElements',\n  //      'pipMapsEditableElement',\n        'pipMapsEdit'\n    ]);\n}\n\nimport './config';\nimport './GoogleMapsRemoveAfterService';\nimport './HelpService';\nimport './Map';\nimport './MapEventHandlerService';\n","\n(() => {\n  'use strict';\n\n  function MapElementPopupFct($injector) {\n    var pipMapHelperSrv = $injector.get('pipMapHelperSrv');\n    var $rootScope = $injector.get('$rootScope');\n\n    /**\n     * @ngdoc service\n     * @name pipMapComponent.MapElementPopupFct\n     *\n     * @class\n     * @description Element popup class\n     */\n    function MapElementPopupFct(options) {\n      var er = new Error();\n      var offset = pipMapHelperSrv.createSize(options.offset.width, options.offset.height);\n\n      this.options = angular.merge({\n        boxClass: 'pip-map-info-window ' + options.className,\n        closeBoxURL: '',\n        pixelOffset: offset\n      }, options.options);\n\n      this.templateUrl = options.templateUrl;\n\n      this.onShow = options.onShow;\n      this.onClose = options.onClose;\n\n      this.initBreakpoints(options.offset.breakpoints);\n    }\n\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.MapElementPopupFct\n     * @name pipMapComponent.MapElementPopupFct#initBreakpoints\n     * @private\n     *\n     * @param {Array<Object>} breakpoints Array of breakpoint to init\n     *\n     * @description Init popup breakpoints if any\n     */\n    MapElementPopupFct.prototype.initBreakpoints = function (breakpoints) {\n      breakpoints = breakpoints || [];\n\n      this.breakpoints = breakpoints.map(function (breakpoint) {\n        return {\n          name: breakpoint.name,\n          offset: pipMapHelperSrv.createSize(breakpoint.width, breakpoint.height)\n        };\n      }, this);\n\n      this.defaultOffset = this.options.pixelOffset;\n    };\n\n    MapElementPopupFct.prototype.setNewOptions = function (options) {\n      var offset = pipMapHelperSrv.createSize(options.offset.width, options.offset.height);\n\n      this.options = angular.merge({\n        boxClass: 'pip-map-info-window ' + options.className,\n        closeBoxURL: '',\n        pixelOffset: offset\n      }, options.options);\n\n      this.initBreakpoints(options.offset.breakpoints);\n      this.fitOffset();\n    }\n\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.MapElementPopupFct\n     * @name pipMapComponent.MapElementPopupFct#close\n     *\n     * @description Closes element popup\n     */\n    MapElementPopupFct.prototype.close = function () {\n      this.onClose();\n    };\n\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.MapElementPopupFct\n     * @name pipMapComponent.MapElementPopupFct#show\n     * @param {Object} model to show popup for\n     *\n     * @description Shows element popup\n     */\n    MapElementPopupFct.prototype.show = function (model) {\n      this.onShow(model);\n      this.fitOffset();\n    };\n\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.MapElementPopupFct\n     * @name pipMapComponent.MapElementPopupFct#setPosition\n     *\n     * @description Sets position of the element popup\n     */\n    MapElementPopupFct.prototype.setPosition = function () {\n      this.fitOffset();\n    };\n\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.MapElementPopupFct\n     * @name pipMapComponent.MapElementPopupFct#fitOffset\n     *\n     * @description\n     */\n    MapElementPopupFct.prototype.fitOffset = function () {\n      var hasBreakpoint = this.breakpoints.some(function (breakpoint) {\n        var isTargetBreakpoint = $rootScope.utils.hasBreakpoint(breakpoint.name);\n\n        if (isTargetBreakpoint) {\n          this.options.pixelOffset = breakpoint.offset;\n          return true;\n        }\n      }, this);\n\n      if (!hasBreakpoint) {\n        this.options.pixelOffset = this.defaultOffset;\n      }\n    };\n\n\n    return {\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.MapElementPopupFct\n       * @name pipMapComponent.MapElementPopupFct#fitOffset\n       * @static\n       *\n       * @description\n       */\n      create: function (options) {\n        return new MapElementPopupFct(options);\n      }\n    };\n  }\n\n  angular.module('pipMapsPopup')\n    .factory('MapElementPopupFct', MapElementPopupFct);\n\n})();\n","(() => {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.mapPopup\n     * @restrict A\n     *\n     * @description Directive for popup for map elements. Also treats editable elements properly\n     */\n    function mapPopup() {\n        return {\n            strict: 'A',\n            scope: {\n                popup: '=pipMapPopup'\n            },\n            templateUrl: 'popup/map-popup.html'\n        };\n    }\n\n    angular.module('pipMapsPopup')\n        .directive('pipMapPopup', mapPopup);\n})();","(() => {\n  'use strict';\n\n  /**\n   * @ngdoc directive\n   * @name pipMapComponent.mapPopupContent\n   * @restrict AE\n   *\n   * @description Directive for basic popup content. Transcluded.\n   */\n  function mapPopupContent() {\n    return {\n      strict     : 'AE',\n      transclude : true,\n      templateUrl: 'popup/map-popup-content.html'\n    };\n  }\n\n  angular.module('pipMapsPopup')\n    .directive('pipMapPopupContent', mapPopupContent);\n})();\n","(() => {\n    'use strict';\n\n    function MapPopupFct($injector) {\n        var MapElementPopup = $injector.get('MapElementPopupFct');\n        var $rootScope = $injector.get('$rootScope');\n        var $timeout = $injector.get('$timeout');\n\n        /**\n         * @ngdoc service\n         * @name pipMapComponent.MapPopupFct\n         *\n         * @description Controller for popup for map elements directive\n         */\n        function MapPopupFct() {\n            this.elements = [];\n        }\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#add\n         *\n         * @param {Object} options Popup options\n         * @returns {Object}\n         *\n         * @description Init popup configuration\n         */\n        MapPopupFct.prototype.add = function (options) {\n            var element = MapElementPopup.create(options);\n            this.elements.push(element);\n\n            return {\n                toggle: this.toggle.bind(this, element),\n                close: this.close.bind(this, element),\n                setPosition: (position) => {\n                    if (this.element.options.updatePosition === false) return;\n\n                    this.position = position;\n                },\n                setNewOptions: (options) => {\n                    element.setNewOptions(options);\n                }\n            };\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#toggle\n         *\n         * @param {pipMapComponent.MapElementPopupFct} element Element popup to show\n         * @param {Map~eventObj} eventObj Event object for popup\n         *\n         * @description Toggles popup\n         */\n        MapPopupFct.prototype.toggle = function (element, eventObj) {\n            if (this.isNewModel(eventObj)) {\n                // if (this.element !== element) {\n                this.close();\n\n                this.element = element;\n                $timeout(function () {\n                    this.show(element);\n                }.bind(this), 10); //magic number to let info-popup-window to be destroyed and init once again\n                // }\n\n                this.setPosition(eventObj);\n                return;\n            }\n\n            this.close();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#isNewModel\n         *\n         * @param {Map~eventObj} eventObj Event object for popup\n         * @returns {boolean} true if new\n         *\n         * @description Checks whether this is new popup to show\n         */\n        MapPopupFct.prototype.isNewModel = function (eventObj) {\n            return this.model !== eventObj.model;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#show\n         *\n         * @param {pipMapComponent.MapElementPopupFct} element Element popup to show\n         *\n         * @description Shows popup for an element with given event object\n         */\n        MapPopupFct.prototype.show = function (element) {\n            if (!this.model || !this.position) {\n                return;\n            }\n\n            this.isEnabled = true;\n\n            this.setBreakpointHandler(element);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#setPosition\n         *\n         * @param {Map~eventObj} eventObj Event for showing popup\n         *\n         * @description Closes popup window and clears related data\n         */\n        MapPopupFct.prototype.setPosition = function (eventObj) {\n            this.position = this.getPosition(eventObj);\n            this.model = eventObj.model;\n            this.element.show(this.model);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#setBreakpointHandler\n         * @param {pipMapComponent.MapElementPopupFct} element Element popup to show\n         *\n         * @description Sets breakpoint handler\n         */\n        MapPopupFct.prototype.setBreakpointHandler = function (element) {\n            this.removeBreakpointHandler = $rootScope.$on('pipMainLayoutResized', element.setPosition.bind(element));\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#resetBreakpointHandler\n         *\n         * @description Resets breakpoint handler\n         */\n        MapPopupFct.prototype.resetBreakpointHandler = function () {\n            if (this.removeBreakpointHandler) this.removeBreakpointHandler();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#close\n         *\n         * @description Closes popup window and clears related data\n         */\n        MapPopupFct.prototype.close = function () {\n            if (!this.element) {\n                return;\n            }\n\n            this.element.close();\n\n            this.resetBreakpointHandler();\n\n            this.model = null;\n            this.isEnabled = false;\n            this.position = null;\n            this.element = null;\n        };\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#getPosition\n         * @private\n         *\n         * @param {Map~eventObj} eventObj Event for showing popup\n         *\n         * @description Gets position for a popup\n         */\n        MapPopupFct.prototype.getPosition = function (eventObj) {\n            return eventObj.position;\n        };\n\n\n        return {\n            /**\n             * @ngdoc method\n             * @methodOf pipMapComponent.MapPopupFct\n             * @name pipMapComponent.MapPopupFct#create\n             * @returns {pipMapComponent.MapPopupFct} Popup service instance\n             *\n             * @static\n             * @description Creates popup service instance\n             */\n            create: function () {\n                return new MapPopupFct();\n            }\n        };\n    }\n\n    angular.module('pipMapsPopup')\n        .factory('MapPopupFct', MapPopupFct);\n})();","{\n    angular.module('pipMapsPopup', []);\n}\n\nimport './MapElementPopupService';\nimport './MapPopup';\nimport './MapPopupContent';\nimport './MapPopupService';","(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('map.html',\n    '<div class=\"pip-map-side-panel flex-fixed flex-order-1\" ng-if=\"ctrl.sidePanel.show\"><ng-include src=\"ctrl.sidePanel.template\"></ng-include></div><ui-gmap-google-map class=\"flex pip-map-provider-wrapper\" control=\"ctrl.componentOptions.control\" center=\"ctrl.map.center\" zoom=\"ctrl.map.zoom\" options=\"ctrl.map.options\" bounds=\"ctrl.map.bounds\" events=\"ctrl.map.events\"><div pip-map-popup=\"ctrl.popup\" ng-if=\"ctrl.popup\"></div><ng-transclude></ng-transclude></ui-gmap-google-map>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('edit/MapEdit.html',\n    '<pip-map pip-options=\"$ctrl.map\"><ui-gmap-drawing-manager options=\"$ctrl.drawingManagerOptions\" control=\"$ctrl.drawingManagerControl\"></ui-gmap-drawing-manager><pip-map-polygons pip-models=\"$ctrl.disabledPolygons\" pip-options=\"$ctrl.disabledPolygonsOptions\"></pip-map-polygons><pip-map-polylines pip-models=\"$ctrl.disabledPolylines\" pip-options=\"$ctrl.disabledPolylinesOptions\"></pip-map-polylines><pip-map-circles pip-models=\"$ctrl.disabledCircles\" pip-options=\"$ctrl.disabledCirclesOptions\"></pip-map-circles></pip-map><div class=\"action-panel w-stretch layout-row layout-align-center-center\" ng-if=\"$ctrl.showPanel\"><div class=\"action-buttons color-primary-bg flex-fixed\"><md-button ng-click=\"$ctrl.clearMap()\" ng-if=\"$ctrl.showAction(\\'clear\\')\">{{ \\'CLEAR_MAP\\' | translate }}</md-button><md-button ng-click=\"$ctrl.addCircle()\" ng-if=\"$ctrl.showAction(\\'circle\\')\">{{ \\'ADD_CIRCLE\\' | translate }}</md-button><md-button ng-click=\"$ctrl.addPolygon()\" ng-if=\"$ctrl.showAction(\\'polygon\\')\">{{ \\'ADD_POLYGON\\' | translate }}</md-button><md-button ng-click=\"$ctrl.addLine()\" ng-if=\"$ctrl.showAction(\\'line\\')\">{{ \\'ADD_LINE\\' | translate }}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('edit_old/map-edit-tool.html',\n    '<div layout=\"column\" class=\"pip-map-edit-tool theme-text-primary\" ng-init=\"currentElement = editCtrl.currentElement; tool = currentElement.tool; model = tool.currentModel\"><header hide-xs=\"\" class=\"pip-map-edit-header\" layout=\"column\" layout-align=\"space-between\"><h2 class=\"md-title\">{{:: currentElement.getEditTitle() }}</h2><div class=\"pip-map-edit-actions\" layout=\"row\"><span class=\"pip-map-edit-actions-block-main\"><md-button ng-click=\"tool.undo()\" ng-disabled=\"tool.isUndoDisabled()\"><md-icon md-svg-icon=\"map:undo\" aria-label=\"Undo\"></md-icon></md-button></span><md-divider></md-divider><span class=\"pip-map-edit-actions-block-tool\"><md-button ng-repeat=\"action in tool.actions\" ng-disabled=\"tool.isActionDisabled(action)\" ng-click=\"tool.setAction(action)\"><md-icon md-svg-icon=\"{{:: action.definition.icon }}\" aria-label=\"{{:: action.definition.name }}\" ng-class=\"{ active: tool.isActionActive(action) }\"></md-icon></md-button></span></div></header><header hide-gt-xs=\"\" class=\"pip-map-edit-header\" layout=\"column\" layout-align=\"space-between\"><form name=\"editCtrl.modelForm\" ng-include=\"editCtrl.currentElement.tool.template\"></form></header><md-divider></md-divider><section flex=\"auto\" class=\"pip-map-edit-content\"><form hide-xs=\"\" name=\"editCtrl.modelForm\" ng-include=\"editCtrl.currentElement.tool.template\"></form></section><md-divider></md-divider><footer hide-xs=\"\" class=\"pip-map-edit-footer\" layout=\"row\" layout-align=\"end center\"><div flex=\"\"><md-button ng-click=\"editCtrl.remove()\">{{:: \\'DELETE\\' | translate }} {{:: currentElement.name }}</md-button></div><md-button ng-click=\"editCtrl.cancel()\">{{:: \\'CANCEL\\' | translate }}</md-button><md-button ng-click=\"editCtrl.save()\" ng-disabled=\"editCtrl.modelForm.$invalid\">{{:: tool.titleSave | translate }}</md-button></footer><footer hide-gt-xs=\"\" class=\"pip-map-edit-footer\" layout=\"row\" layout-align=\"start center\"><div layout=\"row\" layout-align=\"space-around\"><md-button ng-click=\"tool.undo()\" ng-disabled=\"tool.isUndoDisabled()\"><md-icon md-svg-icon=\"map:undo\" aria-label=\"Remove\"></md-icon></md-button></div><md-divider></md-divider><md-menu flex=\"\" layout=\"column\"><md-button class=\"pip-map-edit-actions-trigger\" ng-click=\"$mdOpenMenu($event)\"><md-icon class=\"active\" md-svg-icon=\"{{ tool.currentAction.definition.icon }}\" aria-label=\"Trigger menu\" md-menu-origin=\"\"></md-icon><md-icon md-svg-icon=\"map:tools\" aria-label=\"Triangle down\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"action in tool.actions\"><md-button ng-click=\"tool.setAction(action)\" ng-disabled=\"tool.isActionDisabled(action)\"><md-icon md-svg-icon=\"{{:: action.definition.icon }}\" aria-label=\"{{:: action.definition.name }}\" ng-class=\"{ active: tool.isActionActive(action) }\" md-menu-align-target=\"\"></md-icon>{{:: action.definition.name }}</md-button></md-menu-item></md-menu-content></md-menu><md-divider></md-divider><div layout=\"row\" layout-align=\"space-around\"><md-button ng-click=\"editCtrl.cancel()\"><md-icon md-svg-icon=\"map:cross\" aria-label=\"Close\"></md-icon></md-button><md-button ng-click=\"editCtrl.save()\" ng-disabled=\"editCtrl.modelForm.$invalid\"><md-icon md-svg-icon=\"map:check\" aria-label=\"Sumbit\"></md-icon></md-button></div></footer></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('edit_old/map-edit-tools-list.html',\n    '<md-fab-speed-dial class=\"pip-floating-button map-add-button md-scale\" md-direction=\"up\" md-open=\"fab.isOpen\"><md-fab-trigger><md-button class=\"md-fab\" ng-class=\"{\\'md-accent md-raised\\': !fab.isOpen, \\'md-warn\\': fab.isOpen}\"><md-icon md-svg-icon=\"map:plus\" aria-label=\"Open\" class=\"md-headline centered-add-icon\" ng-if=\"!fab.isOpen\"></md-icon><md-icon md-svg-icon=\"map:cross\" aria-label=\"Close\" class=\"md-headline centered-add-icon\" ng-if=\"fab.isOpen\"></md-icon></md-button></md-fab-trigger><md-fab-actions class=\"pip-map-edit-tools-list\"><div ng-repeat=\"element in ::editCtrl.elements\"><span class=\"pip-map-edit-tooltip\">{{:: element.name }}</span><md-button class=\"md-fab md-raised md-mini\" ng-click=\"editCtrl.createElement(element)\"><md-icon md-svg-icon=\"{{:: element.icon }}\" aria-label=\"{{:: element.icon }}\"></md-icon></md-button></div></md-fab-actions></md-fab-speed-dial>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('edit_old/map-edit.html',\n    '<script type=\"text/ng-template\" id=\"map-icons.svg\"><svg xmlns=\"http://www.w3.org/2000/svg\"> <defs> <g id=\"trash\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M128 107c0-24 19-43 43-43l170 0c24 0 43 19 43 43l0 256-256 0z m277 320l-74 0-22 21-106 0-22-21-74 0 0-43 298 0z\"/></g> <g id=\"plus\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M405 235l-128 0 0-128-42 0 0 128-128 0 0 42 128 0 0 128 42 0 0-128 128 0z\"/></g> <g id=\"cross\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M405 375l-30 30-119-119-119 119-30-30 119-119-119-119 30-30 119 119 119-119 30 30-119 119z\"/></g> <g id=\"undo\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M213 320l0 85-149-149 149-149 0 87c107 0 182-34 235-109-21 107-85 214-235 235z\"/></g> <g id=\"check\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M192 167l-89 89-30-30 119-119 256 256-30 30z\"/></g> <g id=\"tools\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M149 299l107-107 107 107z\"/></g> <g id=\"add-point\" transform=\"translate(0,0) scale(25)\"><path class=\"cls-1\" d=\"M8.46,9l2.81-.17a0.31,0.31,0,0,0,.2-0.53L3.4,0.09A0.31,0.31,0,0,0,2.87.3V11.81a0.31,0.31,0,0,0,.51.23L5.51,10.2l1.9,4.64a0.31,0.31,0,0,0,.4.17l2.37-1a0.31,0.31,0,0,0,.17-0.4Z\"/><polygon class=\"cls-1\" points=\"14.96 15.62 14.96 12.72 13.49 12.72 13.49 15.62 10.59 15.62 10.59 17.1 13.49 17.1 13.49 20 14.96 20 14.96 17.1 17.87 17.1 17.87 15.62 14.96 15.62\"/></g> <g id=\"remove-point\" transform=\"translate(0,0) scale(25)\"><path class=\"cls-1\" d=\"M8.46,9l2.81-.17a0.31,0.31,0,0,0,.2-0.53L3.4,0.09a0.31,0.31,0,0,0-.53.22V11.82a0.31,0.31,0,0,0,.51.23l2.12-1.84,1.9,4.64a0.31,0.31,0,0,0,.4.17l2.37-1a0.31,0.31,0,0,0,.17-0.4Z\"/><rect class=\"cls-1\" x=\"10.58\" y=\"15.63\" width=\"7.28\" height=\"1.48\"/></g> <g id=\"pan\" transform=\"translate(0,0) scale(25)\"><path d=\"M15.28,6.56V9H11V4.74h2.41a0.31,0.31,0,0,0,.24-0.51L10.24,0.13a0.31,0.31,0,0,0-.47,0L6.31,4.23a0.31,0.31,0,0,0,.24.51H9V9H4.72V6.56a0.31,0.31,0,0,0-.51-0.24L0.11,9.78a0.31,0.31,0,0,0,0,.47l4.11,3.46a0.31,0.31,0,0,0,.51-0.24V11.07H9v4.23H6.54a0.31,0.31,0,0,0-.24.51l3.46,4.11a0.31,0.31,0,0,0,.47,0l3.46-4.11a0.31,0.31,0,0,0-.24-0.51H11V11.07h4.23v2.41a0.31,0.31,0,0,0,.51.24l4.11-3.46a0.31,0.31,0,0,0,0-.47L15.78,6.32A0.31,0.31,0,0,0,15.28,6.56Z\"/></g> <g id=\"pen\" transform=\"translate(0,0) scale(25)\"><path d=\"M18.92,1.08a3.27,3.27,0,0,0-2.33-1,3.9,3.9,0,0,0-2.71,1.25,3.47,3.47,0,0,0-.44.54L5.66,10.66l-0.43-.43A0.36,0.36,0,0,0,5,10.12a0.39,0.39,0,0,0-.27.11L3.62,11.31a0.38,0.38,0,0,0,0,.53l0.45,0.45a8,8,0,0,1-2.46,1.09,0.54,0.54,0,0,0-.35.38v0S1,18.13,0,19.43a0.36,0.36,0,0,0,0,.36h0l0.13,0.14h0A0.57,0.57,0,0,0,.43,20a0.27,0.27,0,0,0,.13,0c1.42-.82,5.62-1.22,5.66-1.22h0a0.55,0.55,0,0,0,.38-0.35,9.52,9.52,0,0,1,1.1-2.45l0.44,0.44a0.36,0.36,0,0,0,.26.11,0.38,0.38,0,0,0,.27-0.11l1.07-1.07A0.39,0.39,0,0,0,9.87,15a0.36,0.36,0,0,0-.11-0.27l-0.43-.43,8.83-7.79a3.46,3.46,0,0,0,.54-0.44,4,4,0,0,0,1.24-2.47A3.22,3.22,0,0,0,18.92,1.08ZM4.66,17a1.15,1.15,0,1,1,0-1.63A1.15,1.15,0,0,1,4.66,17Z\"/></g> <g id=\"select\" transform=\"translate(0,0) scale(25)\"><path d=\"M15.66,11.25L4.71,0.09a0.31,0.31,0,0,0-.53.22V15.94a0.31,0.31,0,0,0,.51.23l3-2.57,2.54,6.21a0.31,0.31,0,0,0,.4.17l3.31-1.35a0.31,0.31,0,0,0,.17-0.4L11.54,12l3.92-.24A0.31,0.31,0,0,0,15.66,11.25Z\"/></g> <g id=\"hand\" transform=\"translate(0,0) scale(25)\"><path d=\"M16.9,3.52a0.92,0.92,0,0,0-.92.92v4a0.44,0.44,0,0,1-.88,0V1.76a1.1,1.1,0,0,0-2.21,0V8.44h0a0.42,0.42,0,0,1-.83,0V1.2a1.2,1.2,0,0,0-2.39,0s0,7.19,0,7.27a0.4,0.4,0,0,1-.8,0V2.24a1.2,1.2,0,1,0-2.39,0c0,8.67,0,7.67,0,8.39a2,2,0,0,1-.13,1c-0.11.08-.25,0-0.43-0.26C5.51,10.79,4.13,9,2.79,9.63a1.33,1.33,0,0,0-.33,1.93s3,4.34,4,5.84c0.59,0.88.75,1.16,1,1.45C8.15,20,8.58,20,9.84,20H15c2.79,0,2.79-3.31,2.79-4.73V4.94C17.82,3.93,17.41,3.52,16.9,3.52Z\"/></g> <g id=\"draw\" transform=\"translate(0,0) scale(25)\"><path d=\"M1.94,4.37L0,2.49A2.08,2.08,0,0,1,.19,2.27L0.41,2l0.27-.26A2.84,2.84,0,0,0,1,1.48l0.39-.34A5.66,5.66,0,0,1,2,.68,6.24,6.24,0,0,1,2.92.27,3,3,0,0,1,4,.09a2.72,2.72,0,0,1,.81.15A2.6,2.6,0,0,1,5.7.79a2.85,2.85,0,0,1,.74,1,3.49,3.49,0,0,1,.3,1.54,4.64,4.64,0,0,1-.1,1,4.76,4.76,0,0,1-.28.88Q6.14,5.59,5.88,6t-0.59.88l-0.46.75q-0.28.46-.59,1L3.68,9.75a9.54,9.54,0,0,0-.43,1,4.27,4.27,0,0,0-.15.85,2,2,0,0,0,.05.67,1,1,0,0,0,.19.45,0.42,0.42,0,0,0,.32.17A0.72,0.72,0,0,0,4,12.79a1.59,1.59,0,0,0,.34-0.26,2.42,2.42,0,0,0,.3-0.3L4.9,12l0.4-.48L6,10.65l0.77-.93q0.39-.46.62-0.77T8.26,8A9.38,9.38,0,0,1,9.5,7a8.58,8.58,0,0,1,1.57-.84,4.66,4.66,0,0,1,1.78-.35,4,4,0,0,1,2,.46,4.25,4.25,0,0,1,1.33,1.16A4.89,4.89,0,0,1,17,9a8.61,8.61,0,0,1,.32,1.48H20V13.2H17.29a9.87,9.87,0,0,1-.74,3.25,7.19,7.19,0,0,1-1.33,2.06,4.55,4.55,0,0,1-1.6,1.08,4.31,4.31,0,0,1-1.5.31,3.5,3.5,0,0,1-1.37-.27,3.43,3.43,0,0,1-1.11-.74,3.47,3.47,0,0,1-.77-1.08,3.12,3.12,0,0,1-.28-1.32,4.63,4.63,0,0,1,.35-1.61A6.43,6.43,0,0,1,10,13.1a7.75,7.75,0,0,1,1.85-1.55,7.63,7.63,0,0,1,2.67-1q-0.05-.31-0.1-0.66a1.6,1.6,0,0,0-.23-0.63,1.25,1.25,0,0,0-.55-0.49,2.45,2.45,0,0,0-1-.18A2.09,2.09,0,0,0,11.5,9a8.11,8.11,0,0,0-1.17.9q-0.57.57-1.15,1.24T8.1,12.4L7.23,13.46a10.26,10.26,0,0,1-.83.88,6.4,6.4,0,0,1-.81.7,2.76,2.76,0,0,1-.86.41,3.09,3.09,0,0,1-.75.12,4.28,4.28,0,0,1-.75,0,4,4,0,0,1-.74-0.22,3,3,0,0,1-.66-0.37A3.32,3.32,0,0,1,.72,13.56a5.4,5.4,0,0,1-.28-0.92,4.69,4.69,0,0,1-.1-1A5.76,5.76,0,0,1,.8,9.5a21.73,21.73,0,0,1,1-2.15q0.57-1,1.07-1.74l0.61-.89,0.27-.46A3,3,0,0,0,4,3.75,0.91,0.91,0,0,0,4.05,3.3,0.38,0.38,0,0,0,3.82,3a0.42,0.42,0,0,0-.34.05A2.67,2.67,0,0,0,3,3.34L2.5,3.81Q2.22,4.06,1.94,4.37ZM12.15,17.23A1.36,1.36,0,0,0,12.81,17a2.31,2.31,0,0,0,.68-0.63,4.77,4.77,0,0,0,.62-1.17,7.65,7.65,0,0,0,.41-1.85A4.78,4.78,0,0,0,13,14a4.59,4.59,0,0,0-1,.85,3.77,3.77,0,0,0-.53.88,1.89,1.89,0,0,0-.17.67,0.74,0.74,0,0,0,.08.34,0.76,0.76,0,0,0,.21.26,0.66,0.66,0,0,0,.25.15A0.79,0.79,0,0,0,12.15,17.23Z\"/></g> <g id=\"point\" transform=\"translate(0,0) scale(25)\"><path d=\"M10,0a6.88,6.88,0,0,1,4.94,2.06A6.88,6.88,0,0,1,17,7q0,3.93-7,13Q3,10.94,3,7A6.88,6.88,0,0,1,5.06,2.06,6.88,6.88,0,0,1,10,0Zm0,9.51a2.41,2.41,0,0,0,1-.2,2.34,2.34,0,0,0,.78-0.55A2.34,2.34,0,0,0,12.31,8a2.47,2.47,0,0,0,0-1.94,2.34,2.34,0,0,0-.55-0.78A2.34,2.34,0,0,0,11,4.7,2.47,2.47,0,0,0,9,4.7a2.34,2.34,0,0,0-.78.55A2.34,2.34,0,0,0,7.69,6,2.47,2.47,0,0,0,7.69,8a2.34,2.34,0,0,0,.55.78A2.34,2.34,0,0,0,9,9.31,2.41,2.41,0,0,0,10,9.51Z\"/></g> </defs></svg></script>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popup/map-popup-content.html',\n    '<div class=\"map-popup-content\"><md-content md-theme=\"{{:: $root.$theme || \\'blue\\' }}\" flex=\"\"><md-button class=\"md-icon-button pip-map-info-window-close-button\" ng-click=\"closeClick(); $event.stopPropagation()\" tabindex=\"-1\" aria-label=\"close\"><md-icon class=\"theme-icon-active\" md-svg-icon=\"icons:cross\"></md-icon></md-button><ng-transclude></ng-transclude></md-content><div class=\"pip-map-info-window-arrow-wrapper\"><div><div></div></div><div><div></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popup/map-popup.html',\n    '<ui-gmap-window ng-if=\"popup.isEnabled\" show=\"popup.isEnabled\" coords=\"popup.position\" templateurl=\":: popup.element.templateUrl\" templateparameter=\":: popup\" options=\":: popup.element.options\" closeclick=\"popup.close()\"></ui-gmap-window>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('elements/circles/map-circles.html',\n    '<ui-gmap-circle ng-repeat=\"c in ctrl.models\" center=\"c[ctrl.options.center]\" stroke=\"c[ctrl.options.stroke]\" fill=\"c[ctrl.options.fill]\" radius=\"c[ctrl.options.radius]\" geodesic=\"c.geodesic\" events=\"ctrl.events\" visible=\"true\"></ui-gmap-circle>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('elements/kml/map-kml.html',\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('elements/markers/map-markers.html',\n    '<ui-gmap-markers models=\"ctrl.models\" coords=\":: ctrl.options.model.coords\" icon=\":: ctrl.options.model.icon\" options=\"\\'options\\'\" control=\":: ctrl.control\" events=\":: ctrl.events\" fit=\":: ctrl.options.fitBounds\"></ui-gmap-markers><ui-gmap-polylines ng-if=\":: ctrl.connect\" models=\"ctrl.models\" path=\":: ctrl.connect.property\" stroke=\":: ctrl.connect.stroke\" icons=\":: ctrl.connect.icons\"></ui-gmap-polylines>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('elements/polylines/map-polylines.html',\n    '<ui-gmap-polylines models=\"ctrl.models\" path=\"ctrl.options.path\" stroke=\"ctrl.options.stroke\" icons=\"ctrl.options.icons\" control=\"ctrl.control\" events=\"ctrl.events\" visible=\"\\'visible\\'\" geodesic=\"\\'geodesic\\'\" editable=\"\\'editable\\'\" draggable=\"\\'draggable\\'\" static=\"ctrl.options.static\" fit=\"ctrl.options.fitBounds\"></ui-gmap-polylines>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('elements/polygons/map-polygons.html',\n    '<ui-gmap-polygons models=\"ctrl.models\" path=\"ctrl.options.path\" stroke=\"ctrl.options.stroke\" fill=\"ctrl.options.fill\" control=\"ctrl.control\" events=\"ctrl.events\" visible=\"\\'visible\\'\" geodesic=\"\\'geodesic\\'\" editable=\"\\'editable\\'\" draggable=\"\\'draggable\\'\" fit=\":: ctrl.options.fitBounds\"></ui-gmap-polygons>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-map-html.min.js.map\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR29vZ2xlTWFwc1JlbW92ZUFmdGVyU2VydmljZS50cyIsInNyYy9IZWxwU2VydmljZS50cyIsInNyYy9NYXAudHMiLCJzcmMvTWFwRXZlbnRIYW5kbGVyU2VydmljZS50cyIsInNyYy9jb25maWcudHMiLCJzcmMvZWRpdC9NYXBFZGl0LnRzIiwic3JjL2VkaXQvaW5kZXgudHMiLCJzcmMvZWxlbWVudHMvTWFwRWxlbWVudENvbnRyb2xsZXJTZXJ2aWNlLnRzIiwic3JjL2VsZW1lbnRzL01hcEVsZW1lbnREaXJlY3RpdmVTZXJ2aWNlLnRzIiwic3JjL2VsZW1lbnRzL01hcEVsZW1lbnRSZXF1aXJlU2VydmljZS50cyIsInNyYy9lbGVtZW50cy9jaXJjbGVzL01hcENpcmNsZXMudHMiLCJzcmMvZWxlbWVudHMvaW5kZXgudHMiLCJzcmMvZWxlbWVudHMva21sL01hcEttbC50cyIsInNyYy9lbGVtZW50cy9tYXJrZXJzL01hcE1hcmtlcnMudHMiLCJzcmMvZWxlbWVudHMvcG9seWdvbnMvTWFwUG9seWdvbnMudHMiLCJzcmMvZWxlbWVudHMvcG9seWxpbmVzL01hcFBvbHlsaW5lcy50cyIsInNyYy9pbmRleC50cyIsInNyYy9wb3B1cC9NYXBFbGVtZW50UG9wdXBTZXJ2aWNlLnRzIiwic3JjL3BvcHVwL01hcFBvcHVwLnRzIiwic3JjL3BvcHVwL01hcFBvcHVwQ29udGVudC50cyIsInNyYy9wb3B1cC9NYXBQb3B1cFNlcnZpY2UudHMiLCJzcmMvcG9wdXAvaW5kZXgudHMiLCJ0ZW1wL3BpcC1zdWl0ZS1tYXAtaHRtbC5taW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNFQSxDQUFDO0lBQ0csWUFBWSxDQUFDO0lBY2I7UUFFSSxJQUFJLFVBQVUsR0FBRztZQUNiLFNBQVMsRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTO1lBQzFDLGdC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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJkZWNsYXJlIGxldCBnb29nbGU6IGFueTtcblxuKCgpID0+IHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbW9kdWxlXG4gICAgICogQG5hbWUgcGlwR29vZ2xlTWFwc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogTW9kdWxlIHdpdGggY29tbW9uIGhlbHBlciBmdW5jdGlvbmFsaXR5IGZvciBHb29nbGUgTWFwc1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHByb3ZpZGVyXG4gICAgICogQG5hbWUgcGlwR29vZ2xlTWFwc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdvb2dsZU1hcHNQcm92aWRlcigpIHtcblxuICAgICAgICB2YXIgbWFwT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIG1hcFR5cGVJZDogZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlNBVEVMTElURSxcbiAgICAgICAgICAgIGRpc2FibGVEZWZhdWx0VUk6IHRydWUsXG4gICAgICAgICAgICBwYW5Db250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgIHpvb21Db250cm9sOiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXR0ZXIvc2V0dGVyIGZvciBHb29nbGUgTWFwcyBvcHRpb25zLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBAbGluayBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9tYXBzL2RvY3VtZW50YXRpb24vamF2YXNjcmlwdC9yZWZlcmVuY2UjTWFwT3B0aW9uc1xuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXBPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIG1hcE9wdGlvbnMgPSBfLmRlZmF1bHRzKHt9LCBvcHRpb25zLCBtYXBPcHRpb25zKTtcblxuICAgICAgICAgICAgcmV0dXJuIF8uY2xvbmVEZWVwKG1hcE9wdGlvbnMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uICgkcm9vdFNjb3BlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEdldHRlciBmb3IgR29vZ2xlIE1hcHMgb3B0aW9ucy5cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBAbGluayBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9tYXBzL2RvY3VtZW50YXRpb24vamF2YXNjcmlwdC9yZWZlcmVuY2UjTWFwT3B0aW9uc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIG1hcE9wdGlvbnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF8uY2xvbmVEZWVwKG1hcE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIG5ldyBBbmd1bGFyIEdvb2dsZSBNYXBzIG9iamVjdC4gQGxpbmsgaHR0cDovL2FuZ3VsYXItdWkuZ2l0aHViLmlvL2FuZ3VsYXItZ29vZ2xlLW1hcHMvIyEvYXBpL2dvb2dsZS1tYXBcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gKG9wdGlvbnM9e30pIC0gYWRkaXRpb25hbCBtYXAgb3B0aW9uc1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSAob3B0aW9ucy5tYXhab29tKSAtIG1heCBtYXAgem9vbSBsZXZlbFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSAob3B0aW9ucy5taW5ab29tKSAtIG1pbiBtYXAgem9vbSBsZXZlbFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSAoZ2VvUmVnaW9uKSAtIG9iamVjdCB3aXRoIGNvb3JkaW5hdGVzIG9mIG1hcCBib3VuZHMuIEhhcyBzcGVjaWZpYyBmb3JtYXQuXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGdlb1JlZ2lvbi5ib3VuZGFyeSAtIG1hcCBib3VuZHMgb2JqZWN0XG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGdlb1JlZ2lvbi5ib3VuZGFyeS5ud19sYXQgLSBOb3J0aC1XZXN0IGxhdGl0dWRlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGdlb1JlZ2lvbi5ib3VuZGFyeS5ud19sb2IgLSBOb3J0aC1XZXN0IGxvbmdpdHVkZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBnZW9SZWdpb24uYm91bmRhcnkuc2VfbGF0IC0gU291dGgtRWFzdCBsYXRpdHVkZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBnZW9SZWdpb24uYm91bmRhcnkuc2VfbG9uIC0gU291dGgtRWFzdCBsb25naXR1ZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSAob25NYXBDbGlja0NhbGxiYWNrKSAtIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBtYXAgaXRzZWxmIGlzIGNsaWNrZWRcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIG1hcDogZnVuY3Rpb24gKG9wdGlvbnMsIGdlb1JlZ2lvbiwgb25NYXBDbGlja0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG9uVGlsZXNMb2FkZWQgPSBfLm9uY2UoZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcihtYXAsICdyZXNpemUnKTsgIC8vIGZpeCBtYXAgaXMgbm90IGZ1bGx5IGxvYWRlZCBpc3N1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgdmFyIGJvdW5kYXJ5ID0gZ2VvUmVnaW9uICYmIGdlb1JlZ2lvbi5ib3VuZGFyeSB8fCB7fTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGU6ICAoYm91bmRhcnkubndfbGF0ICsgYm91bmRhcnkuc2VfbGF0KSAvIDIgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGU6IChib3VuZGFyeS5ud19sb24gKyBib3VuZGFyeS5zZV9sb24pIC8gMiB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMTYsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IF8uYXNzaWduKHt9LCBvcHRpb25zLCBtYXBPcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kczoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogb25NYXBDbGlja0NhbGxiYWNrIHx8IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVzbG9hZGVkOiBvblRpbGVzTG9hZGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb21fY2hhbmdlZDogb25ab29tQ2hhbmdlZFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uWm9vbUNoYW5nZWQobWFwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aXZlU3BlY2lmaWNNYXhab29tTGV2ZWwgPSBvcHRpb25zLm1heFpvb21MZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVTcGVjaWZpY01pblpvb21MZXZlbCA9IG9wdGlvbnMubWluWm9vbUxldmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFpvb21MZXZlbCA9IGRpcmVjdGl2ZVNwZWNpZmljTWF4Wm9vbUxldmVsID09IG51bGwgPyBtYXBPcHRpb25zWydtYXhab29tJ10gOiBkaXJlY3RpdmVTcGVjaWZpY01heFpvb21MZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5ab29tTGV2ZWwgPSBkaXJlY3RpdmVTcGVjaWZpY01pblpvb21MZXZlbCA9PSBudWxsID8gbWFwT3B0aW9uc1snbWluWm9vbSddIDogZGlyZWN0aXZlU3BlY2lmaWNNaW5ab29tTGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFpvb21MZXZlbCA9IG1hcC5nZXRab29tKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Wm9vbUxldmVsID4gbWF4Wm9vbUxldmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnNldFpvb20obWF4Wm9vbUxldmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFpvb21MZXZlbCA8IG1pblpvb21MZXZlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5zZXRab29tKG1pblpvb21MZXZlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBuZXcgaW5mbyB3aW5kb3cgb2JqZWN0LiBAbGluayBodHRwOi8vYW5ndWxhci11aS5naXRodWIuaW8vYW5ndWxhci1nb29nbGUtbWFwcy8jIS9hcGkvd2luZG93XG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IChhZGRpdGlvbmFsQ2xhc3M9XCJcIikgLSBhZGRpdGlvbmFsIGNsYXNzZXMgdG8gYXBwZW5kIHRvIGluZm8gd2luZG93IGFsb25nIHdpdGggZGVmYXVsdCBcInBpcC1tYXAtaW5mby13aW5kb3dcIlxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7Z29vZ2xlLm1hcHMuU2l6ZX0gKG9mZnNldD1uZXcgZ29vZ2xlLm1hcHMuU2l6ZSgtMTc1LCAtMjEwLCAncHgnLCAncHgnKSkgLSBvZmZzZXQgb2YgaW5mbyB3aW5kb3cgZnJvbSBtYXJrZXJcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGluZm9XaW5kb3c6IGZ1bmN0aW9uIChhZGRpdGlvbmFsQ2xhc3MsIG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3hDbGFzczogJ3BpcC1tYXAtaW5mby13aW5kb3cgJyArIGFkZGl0aW9uYWxDbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZUJveFVSTDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxPZmZzZXQ6IG9mZnNldCB8fCBuZXcgZ29vZ2xlLm1hcHMuU2l6ZSgtMTc1LCAtMjEwLCAncHgnLCAncHgnKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTZXQgbWFwIGJvdW5kc1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgLSBBbmd1bGFyIEdvb2dsZSBNYXBzIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBnZW9SZWdpb24gLSBvYmplY3Qgd2l0aCBjb29yZGluYXRlcyBvZiBtYXAgYm91bmRzLiBIYXMgc3BlY2lmaWMgZm9ybWF0LlxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBnZW9SZWdpb24uYm91bmRhcnkgLSBtYXAgYm91bmRzIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBnZW9SZWdpb24uYm91bmRhcnkubndfbGF0IC0gTm9ydGgtV2VzdCBsYXRpdHVkZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBnZW9SZWdpb24uYm91bmRhcnkubndfbG9iIC0gTm9ydGgtV2VzdCBsb25naXR1ZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gZ2VvUmVnaW9uLmJvdW5kYXJ5LnNlX2xhdCAtIFNvdXRoLUVhc3QgbGF0aXR1ZGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gZ2VvUmVnaW9uLmJvdW5kYXJ5LnNlX2xvbiAtIFNvdXRoLUVhc3QgbG9uZ2l0dWRlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc2V0TWFwQm91bmRzOiBmdW5jdGlvbiAobWFwLCBnZW9SZWdpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVud2F0Y2hCb3VuZHNDaGFuZ2UgPSAkcm9vdFNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXAuYm91bmRzO1xuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAobmV3VmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsLm5vcnRoZWFzdCAmJiBuZXdWYWwuc291dGh3ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwLmJvdW5kcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ydGhlYXN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZTogZ2VvUmVnaW9uLmJvdW5kYXJ5Lm53X2xhdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogZ2VvUmVnaW9uLmJvdW5kYXJ5LnNlX2xvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3V0aHdlc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlOiBnZW9SZWdpb24uYm91bmRhcnkuc2VfbGF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBnZW9SZWdpb24uYm91bmRhcnkubndfbG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW53YXRjaEJvdW5kc0NoYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRml0IG1hcCB0byBzcGVjaWZpZWQgYm91bmRzXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG1hcCAtIEFuZ3VsYXIgR29vZ2xlIE1hcHMgb2JqZWN0XG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtnb29nbGUubWFwcy5MYXRMbmdCb3VuZHN9IGJvdW5kcyAtIGJvdW5kcywgQGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vbWFwcy9kb2N1bWVudGF0aW9uL2phdmFzY3JpcHQvcmVmZXJlbmNlI0xhdExuZ0JvdW5kc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZpdE1hcFRvQm91bmRzOiBmdW5jdGlvbiAobWFwLCBib3VuZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFib3VuZHMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudE1hcEJvdW5kcyA9IG1hcC5nZXRCb3VuZHMoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF8uaXNFbXB0eShjdXJyZW50TWFwQm91bmRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICghXy5pc0VtcHR5KGN1cnJlbnRNYXBCb3VuZHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgY3VycmVudE1hcEJvdW5kcy5jb250YWluc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICghY3VycmVudE1hcEJvdW5kcy5jb250YWlucyhib3VuZHMuZ2V0Tm9ydGhFYXN0KCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgIWN1cnJlbnRNYXBCb3VuZHMuY29udGFpbnMoYm91bmRzLmdldFNvdXRoV2VzdCgpKSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwLmZpdEJvdW5kcyhib3VuZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3BpcE1hcHMnKVxuICAgICAgICAucHJvdmlkZXIoJ3BpcEdvb2dsZU1hcHMnLCA8YW55Pkdvb2dsZU1hcHNQcm92aWRlcik7XG59KSgpO1xuIiwiKCgpID0+IHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIHVpR21hcE1vZGVsS2V5RGVjb3JhdG9yKCRkZWxlZ2F0ZSkge1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgYSBob3QgZml4IHRvIHRoZSBzZXRDaGlsZFNjb3BlIHByb2JsZW1cbiAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXVpL2FuZ3VsYXItZ29vZ2xlLW1hcHMvaXNzdWVzLzE1NjJcbiAgICAgKiBUaGUgaXNzdWUgaXMgdGhhdCBNb2RlbEtleS5wcm90b3R5cGUuc2V0Q2hpbGRTY29wZSBzZXRzIGNoaWxkU2NvcGUubW9kZWwgPSBtb2RlbDtcbiAgICAgKiB3aGVyZSBtb2RlbCBpcyBhbHdheXMgZm9yIHNvbWUgcmVhc29uIGlzIHVuZGVmaW5lZFxuICAgICAqIHRoZW4gaW4gQmFzZVBvbHlzUGFyZW50TW9kZWwucHJvdG90eXBlLnBpZWNlTWVhbCBpdCBleHRlbmRzXG4gICAgICogXy5leHRlbmQob2JqLmNoaWxkLnNjb3BlLCBvYmoubW9kZWwpO1xuICAgICAqXG4gICAgICogaW4gc2NvcGUgd2UgaGF2ZSBjaGlsZFNjb3BlIHdpdGggbW9kZWw6IHt9IGFuZCBpbiBvYmoubW9kZWwgd2UgaGF2ZSBtb2RlbDogdW5kZWZpbmVkXG4gICAgICogdGhlbiB3ZSB3aWxsIGhhdmUgdW5kZWZpbmVkIGFzIGEgbW9kZWwgYW5kIGNyYXNoZXMuXG4gICAgICogRm9yIHNvbWUgcmVhc29uIGl0IGlzIG5vdCB3b3JraW5nIHRoaXMgd2F5IGFueXRpbWUsIGJlY2F1c2Ugc29tZXRpbWVzIHBheWxvYWQudXBkYXRlcyBpcyBlbXB0eVxuICAgICAqIGFuZCBpdCB3b3JrcyBhcyBleHBlY3RlZCBidXQgd2Ugc2hvdWxkIHJlbW92ZSB0aGlzIHVuZGVmaW5lZCBwcm9wZXJ0eSB0byBhdm9pZCB0aGlzIGlzc3Vlc1xuICAgICAqXG4gICAgICogVE9ETzogUmVtb3ZlIHRoaXMgaG90LWZpeCB3aGVuIGl0IGlzIHJlc29sdmVkIGluc2lkZSBhbmd1bGFyLWdvb2dsZS1tYXBzXG4gICAgICovXG5cblxuICAgIHZhciBzZXRDaGlsZFNjb3BlID0gJGRlbGVnYXRlLnByb3RvdHlwZS5zZXRDaGlsZFNjb3BlO1xuXG4gICAgJGRlbGVnYXRlLnByb3RvdHlwZS5zZXRDaGlsZFNjb3BlID0gZnVuY3Rpb24gKGtleXMsIGNoaWxkU2NvcGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBzZXRDaGlsZFNjb3BlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICAgIGlmIChjaGlsZFNjb3BlICYmIGNoaWxkU2NvcGUuaGFzT3duUHJvcGVydHkoJ21vZGVsJykgJiYgIWNoaWxkU2NvcGUubW9kZWwpIHtcbiAgICAgICAgZGVsZXRlIGNoaWxkU2NvcGUubW9kZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIHJldHVybiAkZGVsZWdhdGU7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBNYXB+R2VvUmVnaW9uXG4gICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBib3VuZGFyeSBNYXAgYm91bmRzIG9iamVjdFxuICAgKiBAcHJvcGVydHkge051bWJlcn0gYm91bmRhcnkubndfbGF0IE5vcnRoLVdlc3QgbGF0aXR1ZGVcbiAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGJvdW5kYXJ5Lm53X2xvbiBOb3J0aC1XZXN0IGxvbmdpdHVkZVxuICAgKiBAcHJvcGVydHkge051bWJlcn0gYm91bmRhcnkuc2VfbGF0IFNvdXRoLUVhc3QgbGF0aXR1ZGVcbiAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGJvdW5kYXJ5LnNlX2xvbiBTb3V0aC1FYXN0IGxvbmdpdHVkZVxuICAgKi9cblxuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBNYXB+cG9zaXRpb25cbiAgICogQHByb3BlcnR5IHsqfSBsYXRpdHVkZSBMYXRpdHVkZVxuICAgKiBAcHJvcGVydHkgeyp9IGxvbmdpdHVkZSBMb25naXR1ZGVcbiAgICovXG5cblxuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50LnBpcE1hcEhlbHBlclNydlByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvbiBIZWxwZXIgZm9yIG1hcC4gQ29udGFpbnMgbWV0aG9kcyB0byB3b3JrIHdpdGggaWNvbnMsIG1hcCBjb25zdGFudHMsIGV0Yy5cbiAgICovXG4gIGZ1bmN0aW9uIC8qQG5nSW5qZWN0Ki8gcGlwTWFwSGVscGVyU3J2KCkge1xuICAgIHZhciBkZWZhdWx0SWNvblBhcmFtZXRlcnMgPSB7XG4gICAgICBpY29uQmFzZVNpemU6IDk2LFxuICAgICAgaWNvbk5vcm1hbFNjYWxlRmFjdG9yOiAwLjUsXG4gICAgICBpY29uQWN0aXZlU2NhbGVGYWN0b3I6IDEsXG4gICAgICBpY29uc1BlclNwcml0ZTogMVxuICAgIH07XG5cbiAgICB2YXIgZGlyZWN0aW9ucyA9IFt7XG4gICAgICAgIG5hbWU6ICdOb3J0aCcsXG4gICAgICAgIG51bWJlckluU3ByaXRlOiAwLFxuICAgICAgICBzY29wZTogWy0yMi41LCAyMi41XVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ05vcnRoZWFzdCcsXG4gICAgICAgIG51bWJlckluU3ByaXRlOiAxLFxuICAgICAgICBzY29wZTogWzIyLjUsIDY3LjVdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnRWFzdCcsXG4gICAgICAgIG51bWJlckluU3ByaXRlOiAyLFxuICAgICAgICBzY29wZTogWzY3LjUsIDExMi41XVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ1NvdXRoZWFzdCcsXG4gICAgICAgIG51bWJlckluU3ByaXRlOiAzLFxuICAgICAgICBzY29wZTogWzExMi41LCAxNTcuNV1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdTb3V0aCcsXG4gICAgICAgIG51bWJlckluU3ByaXRlOiA0LFxuICAgICAgICBzY29wZTogWzE1Ny41LCAtMTU3LjVdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnU291dGhXZXN0JyxcbiAgICAgICAgbnVtYmVySW5TcHJpdGU6IDUsXG4gICAgICAgIHNjb3BlOiBbLTE1Ny41LCAtMTEyLjVdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnV2VzdCcsXG4gICAgICAgIG51bWJlckluU3ByaXRlOiA2LFxuICAgICAgICBzY29wZTogWy0xMTIuNSwgLTY3LjVdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnTm9ydGh3ZXN0JyxcbiAgICAgICAgbnVtYmVySW5TcHJpdGU6IDcsXG4gICAgICAgIHNjb3BlOiBbLTY3LjUsIC0yMi41XVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ1N0b3AnLFxuICAgICAgICBudW1iZXJJblNwcml0ZTogOCxcbiAgICAgICAgc2NvcGU6IFtdXG4gICAgICB9XG4gICAgXTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50LnBpcE1hcEhlbHBlclNydlByb3ZpZGVyXG4gICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50LnBpcE1hcEhlbHBlclNydlByb3ZpZGVyI3NldEljb25TZXR0aW5nc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzaXplcyBPYmplY3Qgd2l0aCBuZXcgc2l6ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemVzLmJhc2VTaXplXSBCYXNlIGljb24gc2l6ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZXMubm9ybWFsRmFjdG9yXSBTY2FsZSBmYWN0b3IgZm9yIG5vcm1hbCBpY29uIHN0YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplcy5hY3RpdmVGYWN0b3JdIFNjYWxlIGZhY29yIGZvciBhY3RpdmUgaWNvbiBzdGF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZXMucGVyU3ByaXRlXSA/P1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uIE92ZXJyaWRlIHNlcnZpY2UgZGVmYXVsdHNcbiAgICAgKi9cbiAgICB0aGlzLnNldEljb25TZXR0aW5ncyA9IGZ1bmN0aW9uIChzaXplcykge1xuICAgICAgYW5ndWxhci5leHRlbmQoZGVmYXVsdEljb25QYXJhbWV0ZXJzLCBzaXplcyk7XG4gICAgfTtcblxuXG4gICAgdGhpcy4kZ2V0ID0gKHVpR21hcEdvb2dsZU1hcEFwaSwgJHRpbWVvdXQpID0+IHtcbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5waXBNYXBIZWxwZXJTcnZcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb24gSGVscGVyIGZvciBtYXAuIENvbnRhaW5zIG1ldGhvZHMgdG8gd29yayB3aXRoIGljb25zLCBtYXAgY29uc3RhbnRzLCBldGMuXG4gICAgICAgKi9cbiAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICBpc1JlYWR5OiBmYWxzZSxcbiAgICAgICAgd2hlblJlYWR5OiB1aUdtYXBHb29nbGVNYXBBcGksXG4gICAgICAgIG1hcHM6IHt9LFxuICAgICAgICBnZXRJY29uRGltZW5zaW9uczogbnVsbCxcbiAgICAgICAgc2V0SWNvbjogbnVsbCxcbiAgICAgICAgdHJpZ2dlckV2ZW50OiBudWxsLFxuICAgICAgICBjcmVhdGVTaXplOiBudWxsLFxuICAgICAgICBjcmVhdGVQb2ludDogbnVsbCxcbiAgICAgICAgY3JlYXRlS01MOiBudWxsLFxuICAgICAgICBnZXRDZW50ZXJGcm9tUmVnaW9uOiBudWxsLFxuICAgICAgICBmaXRNYXBUb1JlZ2lvbjogbnVsbCxcbiAgICAgICAgZ2V0Qm91bmRzRnJvbVJlZ2lvbjogbnVsbCxcbiAgICAgICAgZ2V0Qm91bmRzRnJvbUNvb3JkaW5hdGVzOiBudWxsLFxuICAgICAgICBmaXRNYXBUb0JvdW5kczogbnVsbCxcbiAgICAgICAgZm9yY2VNYXBUb0ZpdEJvdW5kczogbnVsbCxcbiAgICAgICAgc2hvdWxkRml0Qm91bmQ6IG51bGwsXG4gICAgICAgIHNldE1vZGVsT3B0aW9uczogbnVsbCxcbiAgICAgICAgZ2V0RGVncmVlc0JldHdlZW5Ud29Qb2ludHM6IG51bGwsXG4gICAgICAgIGdldERpcmVjdGlvbjogbnVsbCxcbiAgICAgICAgZ2V0RGlyZWN0aW9uQnlBbmdsZTogbnVsbCxcbiAgICAgICAgZ2V0SWNvbk9yaWdpbkJ5RGlyZWN0aW9uOiBudWxsXG4gICAgICB9O1xuXG5cbiAgICAgIHVpR21hcEdvb2dsZU1hcEFwaS50aGVuKG9uSW5pdC5iaW5kKHNlcnZpY2UpKTtcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvY3MgbWV0aG9kXG4gICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50LnBpcE1hcEhlbHBlclNydlxuICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50LnBpcE1hcEhlbHBlclNydiNnZXRJY29uRGltZW5zaW9uc1xuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gaWNvbiBJY29uIHNldCBkaW1lbnNpb25zIHRvXG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2ljb24ubnVtYmVySW5TcHJpdGVdIEljb24gcG9zaXRpb24gaW4gc3ByaXRlXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0FjdGl2ZSA9IGZhbHNlXSBXaGV0aGVyIHRvIHNldCBhY3RpdmUgc2NhbGUgb3Igbm9ybWFsXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge09iamVjdH0gSWNvbiBkaW1lbnNpb25zXG4gICAgICAgKiBAc2VlIGh0dHA6Ly9ibG9nLm1yaWRleS5jb20vMjAxMC8wMy91c2luZy1tYXJrZXJpbWFnZS1pbi1tYXBzLWphdmFzY3JpcHQuaHRtbCBmb3IgbW9yZSBkZXRhaWxzXG4gICAgICAgKiBJbmNsdWRpbmcgbWV0aG9kIG5hbWVcbiAgICAgICAqIDEuIEl0IGlzIHVzZWQgb25seSBpbiB0aGlzIHNlcnZpY2VcbiAgICAgICAqIDIuIEl0IHNlZW1zIHRvIGNvdW50IHBvc2l0aW9uIG9mIGFuIGFycm93IG5lYXIgdGhlIGljb24sIHdoaWNoIHNob3dzIGl0J3MgbW92ZW1lbnQgZGlyZWN0aW9uXG4gICAgICAgKi9cbiAgICAgIHNlcnZpY2UuZ2V0SWNvbkRpbWVuc2lvbnMgPSBmdW5jdGlvbiAoaWNvbiwgaXNBY3RpdmUpIHtcbiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgZGVmYXVsdEljb25QYXJhbWV0ZXJzLCBpY29uKTtcbiAgICAgICAgdmFyIHNjYWxlRmFjdG9yID0gaXNBY3RpdmUgPyBwYXJhbWV0ZXJzLmljb25BY3RpdmVTY2FsZUZhY3RvciA6IHBhcmFtZXRlcnMuaWNvbk5vcm1hbFNjYWxlRmFjdG9yO1xuICAgICAgICB2YXIgc2l6ZSA9IHBhcmFtZXRlcnMuaWNvbkJhc2VTaXplICogc2NhbGVGYWN0b3I7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBvcmlnaW46IHRoaXMuY3JlYXRlUG9pbnQoMCwgc2l6ZSAqIGljb24ubnVtYmVySW5TcHJpdGUgfHwgMSksXG4gICAgICAgICAgYW5jaG9yOiB0aGlzLmNyZWF0ZVBvaW50KHNpemUgLyAyLCBzaXplIC8gMiksXG4gICAgICAgICAgc2l6ZTogdGhpcy5jcmVhdGVTaXplKHNpemUsIHNpemUpLFxuICAgICAgICAgIHNjYWxlZFNpemU6IHRoaXMuY3JlYXRlU2l6ZShzaXplLCBwYXJhbWV0ZXJzLmljb25zUGVyU3ByaXRlICogc2l6ZSksXG4gICAgICAgICAgaXNBY3RpdmU6IGlzQWN0aXZlXG4gICAgICAgIH07XG4gICAgICB9O1xuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jcyBtZXRob2RcbiAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQucGlwTWFwSGVscGVyU3J2XG4gICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQucGlwTWFwSGVscGVyU3J2I3NldEljb25cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gaWNvbiBJY29uIHRvIHNldCBwb3NpdGlvbiBmb3JcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ljb24uaXNBY3RpdmVdIFRydWUgaWYgaWNvbiBjdXJyZW50bHkgaXMgYWN0aXZlXG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2ljb24ubnVtYmVySW5TcHJpdGVdIEljb24gcG9zaXRpb24gaW4gc3ByaXRlXG4gICAgICAgKiBAcGFyYW0gez9ib29sZWFufSBpc0FjdGl2ZSBUcnVlIGlmIG1hcmtlciBpcyBhY3RpdmUuIElmIG5vdCBib29sZWFuIC0gaXQgd2lsbCBsZWF2ZSBvbGQgdmFsdWUgb2YgYWN0aXZlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uIEFkZHMgdG8gYW4gaWNvbiBzaXplIHByb3BlcnRpZXNcbiAgICAgICAqL1xuICAgICAgc2VydmljZS5zZXRJY29uID0gZnVuY3Rpb24gKGljb24sIGlzQWN0aXZlKSB7XG4gICAgICAgIGlzQWN0aXZlID0gdHlwZW9mIGlzQWN0aXZlID09PSAnYm9vbGVhbicgPyBpc0FjdGl2ZSA6IGljb24uaXNBY3RpdmU7XG5cbiAgICAgICAgc2VydmljZS53aGVuUmVhZHkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGljb25EaW1lbnNpb25zID0gdGhpcy5nZXRJY29uRGltZW5zaW9ucyhpY29uLCBpc0FjdGl2ZSk7XG4gICAgICAgICAgXy5leHRlbmQoaWNvbiwgaWNvbkRpbWVuc2lvbnMpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgfTtcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvY3MgbWV0aG9kXG4gICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50LnBpcE1hcEhlbHBlclNydlxuICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50LnBpcE1hcEhlbHBlclNydiN0cmlnZ2VyRXZlbnRcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb24gVHJpZ2dlcnMgZXZlbnQgd2l0aCBwcm92aWRlZCBhcmd1bWVudHNcbiAgICAgICAqL1xuICAgICAgc2VydmljZS50cmlnZ2VyRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBldmVudCA9IHRoaXMubWFwcy5ldmVudDtcblxuICAgICAgICBpZiAoIWV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXZlbnQudHJpZ2dlci5hcHBseShldmVudCwgYXJndW1lbnRzKTtcbiAgICAgIH07XG5cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2NzIG1ldGhvZFxuICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5waXBNYXBIZWxwZXJTcnZcbiAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5waXBNYXBIZWxwZXJTcnYjY3JlYXRlU2l6ZVxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFdpZHRoIHByb3BlcnR5IGZvciB0aGUgc2l6ZSBvYmplY3RcbiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0IHByb3BlcnR5IGZvciB0aGUgc2l6ZSBvYmplY3RcbiAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBzaXplIGluc3RhbmNlIG9yIGVtcHR5IG9iamVjdFxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBDcmVhdGVzIG5ldyBzaXplIG9iamVjdCBvZiBhIGdpdmVuIHdpZHRoIGFuZCBoZWlnaHQgaW4gcGl4ZWxzXG4gICAgICAgKi9cbiAgICAgIHNlcnZpY2UuY3JlYXRlU2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciBTaXplID0gdGhpcy5tYXBzLlNpemU7XG5cbiAgICAgICAgaWYgKCFTaXplKSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTaXplKHdpZHRoLCBoZWlnaHQsICdweCcsICdweCcpO1xuICAgICAgfTtcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvY3MgbWV0aG9kXG4gICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50LnBpcE1hcEhlbHBlclNydlxuICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50LnBpcE1hcEhlbHBlclNydiNjcmVhdGVQb2ludFxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHggWCBjb29yZGluYXRlIGZvciB0aGUgcG9pbnQgb2JqZWN0XG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0geSBZIGNvb3JkaW5hdGUgZm9yIHRoZSBwb2ludCBvYmplY3RcbiAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBwb2ludCBpbnN0YW5jZSBvciBlbXB0eSBvYmplY3RcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBuZXcgcG9pbnQgb2JqZWN0IG9mIGEgZ2l2ZW4gY29vcmRpbmF0ZXNcbiAgICAgICAqL1xuICAgICAgc2VydmljZS5jcmVhdGVQb2ludCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHZhciBQb2ludCA9IHRoaXMubWFwcy5Qb2ludDtcblxuICAgICAgICBpZiAoIVBvaW50KSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh4LCB5KTtcbiAgICAgIH07XG5cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2NzIG1ldGhvZFxuICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5waXBNYXBIZWxwZXJTcnZcbiAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5waXBNYXBIZWxwZXJTcnYjY3JlYXRlUG9pbnRcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIFNldHRpbmdzIGZvciBLTUwgbGF5ZXJcbiAgICAgICAqIEBwYXJhbSB7Z29vZ2xlLm1hcHMuTWFwfSBvcHRpb25zLm1hcCBNYXAgaW5zdGFuY2UgdG8gY3JlYXRlIGttbCBsYXllciBmb3JcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnVybCBVcmwgb2YgS01MIGZpbGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBuZXcgcG9pbnQgb2JqZWN0IG9mIGEgZ2l2ZW4gY29vcmRpbmF0ZXNcbiAgICAgICAqL1xuICAgICAgc2VydmljZS5jcmVhdGVLTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgTGF5ZXIgPSB0aGlzLm1hcHMuS21sTGF5ZXI7XG5cbiAgICAgICAgaWYgKCFMYXllcikge1xuICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgTGF5ZXIob3B0aW9ucyk7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQucGlwTWFwSGVscGVyU3J2XG4gICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQucGlwTWFwSGVscGVyU3J2I2dldENlbnRlckZyb21SZWdpb25cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge01hcH5HZW9SZWdpb259IGdlb1JlZ2lvbiAtIG9iamVjdCB3aXRoIGNvb3JkaW5hdGVzIG9mIG1hcCBib3VuZHMuIEhhcyBzcGVjaWZpYyBmb3JtYXQuXG4gICAgICAgKiBAcmV0dXJuIHtNYXB+cG9zaXRpb259IE1hcCBjZW50ZXJcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb24gR2V0IG1hcCBjZW50ZXIgZnJvbSBnZW8gcmVnaW9uXG4gICAgICAgKi9cbiAgICAgIHNlcnZpY2UuZ2V0Q2VudGVyRnJvbVJlZ2lvbiA9IGZ1bmN0aW9uIChnZW9SZWdpb24pIHtcbiAgICAgICAgaWYgKCFnZW9SZWdpb24gfHwgIWdlb1JlZ2lvbi5ib3VuZGFyeSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsYXRpdHVkZTogMCxcbiAgICAgICAgICAgIGxvbmdpdHVkZTogMFxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxhdGl0dWRlOiAoZ2VvUmVnaW9uLmJvdW5kYXJ5Lm53X2xhdCArIGdlb1JlZ2lvbi5ib3VuZGFyeS5zZV9sYXQpIC8gMixcbiAgICAgICAgICBsb25naXR1ZGU6IChnZW9SZWdpb24uYm91bmRhcnkubndfbG9uICsgZ2VvUmVnaW9uLmJvdW5kYXJ5LnNlX2xvbikgLyAyXG4gICAgICAgIH07XG4gICAgICB9O1xuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5waXBNYXBIZWxwZXJTcnZcbiAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5waXBNYXBIZWxwZXJTcnYjZml0TWFwVG9SZWdpb25cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2dvb2dsZS5tYXBzLk1hcH0gbWFwIE1hcCB0byBmaXQgYm91bmRzXG4gICAgICAgKiBAcGFyYW0ge01hcH5HZW9SZWdpb259IGdlb1JlZ2lvbiBib3VuZHNcbiAgICAgICAqIEBsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL21hcHMvZG9jdW1lbnRhdGlvbi9qYXZhc2NyaXB0L3JlZmVyZW5jZSNMYXRMbmdCb3VuZHNcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb24gRml0IG1hcCB0byBzcGVjaWZpZWQgZ2VvIHJlZ2lvblxuICAgICAgICovXG4gICAgICBzZXJ2aWNlLmZpdE1hcFRvUmVnaW9uID0gZnVuY3Rpb24gKG1hcCwgZ2VvUmVnaW9uKSB7XG4gICAgICAgIHZhciBib3VuZHMgPSB0aGlzLmdldEJvdW5kc0Zyb21SZWdpb24oZ2VvUmVnaW9uKTtcblxuICAgICAgICAvLyB3aXRob3V0IHRpbWVvdXQgaXQgc29tZXRpbWVzIGlzIG5vdCB3b3JraW5nXG4gICAgICAgICR0aW1lb3V0KHRoaXMuZm9yY2VNYXBUb0ZpdEJvdW5kcy5iaW5kKHRoaXMsIG1hcCwgYm91bmRzKSk7XG4gICAgICB9O1xuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5waXBNYXBIZWxwZXJTcnZcbiAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5waXBNYXBIZWxwZXJTcnYjZ2V0Qm91bmRzRnJvbVJlZ2lvblxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7TWFwfkdlb1JlZ2lvbn0gZ2VvUmVnaW9uIC0gb2JqZWN0IHdpdGggY29vcmRpbmF0ZXMgb2YgbWFwIGJvdW5kcy4gSGFzIHNwZWNpZmljIGZvcm1hdFxuICAgICAgICogQHJldHVybnMge2dvb2dsZS5tYXBzLkxhdExuZ0JvdW5kc3xPYmplY3R9IE5ldyBib3VuZGFyeSBvclxuICAgICAgICogZW1wdHkgb2JqZWN0IGlmIG5vIGdlb1JlZ2lvbiBpcyBub3QgcHJvdmlkZWQgb3IgZW1wdHlcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb24gR2V0IG1hcCBib3VuZHMgZnJvbSBnZW8gcmVnaW9uXG4gICAgICAgKi9cbiAgICAgIHNlcnZpY2UuZ2V0Qm91bmRzRnJvbVJlZ2lvbiA9IGZ1bmN0aW9uIChnZW9SZWdpb24pIHtcbiAgICAgICAgaWYgKCFnZW9SZWdpb24gfHwgIWdlb1JlZ2lvbi5ib3VuZGFyeSkge1xuICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmdldEJvdW5kc0Zyb21Db29yZGluYXRlcyhbe1xuICAgICAgICAgICAgbGF0aXR1ZGU6IGdlb1JlZ2lvbi5ib3VuZGFyeS5zZV9sYXQsXG4gICAgICAgICAgICBsb25naXR1ZGU6IGdlb1JlZ2lvbi5ib3VuZGFyeS5zZV9sb25cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGxhdGl0dWRlOiBnZW9SZWdpb24uYm91bmRhcnkubndfbGF0LFxuICAgICAgICAgICAgbG9uZ2l0dWRlOiBnZW9SZWdpb24uYm91bmRhcnkubndfbG9uXG4gICAgICAgICAgfVxuICAgICAgICBdKTtcbiAgICAgIH07XG5cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2NzIG1ldGhvZFxuICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5waXBNYXBIZWxwZXJTcnZcbiAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5waXBNYXBIZWxwZXJTcnYjZ2V0Qm91bmRzRnJvbUNvb3JkaW5hdGVzXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtBcnJheTxNYXB+cG9zaXRpb24+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcyB0byBnZXQgYm91bmRzIGZyb21cbiAgICAgICAqIEByZXR1cm5zIHtnb29nbGUubWFwcy5MYXRMbmdCb3VuZHN8T2JqZWN0fSBCb3VuZHMgZml0IGNvb3JkaW5hdGVzXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uIENyZWF0ZXMgZ29vZ2xlIGJvdW5kcyBpbnN0YW5jZSBmcm9tIGdpdmVuIGNvb3JkaW5hdGVzXG4gICAgICAgKi9cbiAgICAgIHNlcnZpY2UuZ2V0Qm91bmRzRnJvbUNvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGNvb3JkaW5hdGVzKSB7XG4gICAgICAgIHZhciBMYXRMbmdCb3VuZHMgPSB0aGlzLm1hcHMuTGF0TG5nQm91bmRzO1xuICAgICAgICB2YXIgTGF0TG5nID0gdGhpcy5tYXBzLkxhdExuZztcblxuICAgICAgICBpZiAoIUxhdExuZyB8fCAhTGF0TG5nQm91bmRzKSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJvdW5kcyA9IG5ldyBMYXRMbmdCb3VuZHMoKTtcblxuICAgICAgICBjb29yZGluYXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChjb29yZGluYXRlKSB7XG4gICAgICAgICAgaWYgKCFjb29yZGluYXRlLmxhdGl0dWRlIHx8ICFjb29yZGluYXRlLmxvbmdpdHVkZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJvdW5kcy5leHRlbmQobmV3IExhdExuZyhjb29yZGluYXRlLmxhdGl0dWRlLCBjb29yZGluYXRlLmxvbmdpdHVkZSkpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gYm91bmRzO1xuICAgICAgfTtcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQucGlwTWFwSGVscGVyU3J2XG4gICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQucGlwTWFwSGVscGVyU3J2I2ZpdE1hcFRvQm91bmRzXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtnb29nbGUubWFwcy5NYXB9IG1hcCBNYXAgdG8gZml0IGJvdW5kc1xuICAgICAgICogQHBhcmFtIHtnb29nbGUubWFwcy5MYXRMbmdCb3VuZHN9IGJvdW5kcyBib3VuZHNcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ZvcmNlID0gZmFsc2VdIGZvcmNlIElmIHRydWUgLSBmb3JjZXMgc2V0dGluZyBvZiB0aGUgYm91bmRzXG4gICAgICAgKiBAbGluayBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9tYXBzL2RvY3VtZW50YXRpb24vamF2YXNjcmlwdC9yZWZlcmVuY2UjTGF0TG5nQm91bmRzXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uIENoZWNrcyB3aGV0aGVyIGdpdmVuIGJvdW5kcyBpcyBsYXJnZXIgdGhlbiBjdXJyZW50XG4gICAgICAgKiBhbmQgZml0IG1hcCB0byBzcGVjaWZpZWQgYm91bmRzIGlmIHNvXG4gICAgICAgKi9cbiAgICAgIHNlcnZpY2UuZml0TWFwVG9Cb3VuZHMgPSBmdW5jdGlvbiAobWFwLCBib3VuZHMsIGZvcmNlKSB7XG4gICAgICAgIGlmIChib3VuZHMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZvcmNlIHx8IHRoaXMuc2hvdWxkRml0Qm91bmQobWFwLCBib3VuZHMpKSB7XG4gICAgICAgICAgbWFwLmZpdEJvdW5kcyhib3VuZHMpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5waXBNYXBIZWxwZXJTcnZcbiAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5waXBNYXBIZWxwZXJTcnYjZm9yY2VNYXBUb0ZpdEJvdW5kc1xuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Z29vZ2xlLm1hcHMuTWFwfSBtYXAgTWFwIHRvIGZpdCBib3VuZHNcbiAgICAgICAqIEBwYXJhbSB7Z29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzfSBib3VuZHMgYm91bmRzXG4gICAgICAgKiBAbGluayBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9tYXBzL2RvY3VtZW50YXRpb24vamF2YXNjcmlwdC9yZWZlcmVuY2UjTGF0TG5nQm91bmRzXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uIEZpdCBtYXAgdG8gc3BlY2lmaWVkIGJvdW5kc1xuICAgICAgICovXG4gICAgICBzZXJ2aWNlLmZvcmNlTWFwVG9GaXRCb3VuZHMgPSBmdW5jdGlvbiAobWFwLCBib3VuZHMpIHtcbiAgICAgICAgdGhpcy5maXRNYXBUb0JvdW5kcyhtYXAsIGJvdW5kcywgdHJ1ZSk7XG4gICAgICB9O1xuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5waXBNYXBIZWxwZXJTcnZcbiAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5waXBNYXBIZWxwZXJTcnYjc2hvdWxkRml0Qm91bmRcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2dvb2dsZS5tYXBzLk1hcH0gbWFwIE1hcCB0byBmaXQgYm91bmRzXG4gICAgICAgKiBAcGFyYW0ge2dvb2dsZS5tYXBzLkxhdExuZ0JvdW5kc30gYm91bmRzIGJvdW5kc1xuICAgICAgICpcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKiBAZGVzY3JpcHRpb24gQ2hlY2tzIGlmIG1hcCBzaG91bGQgZml0IGJvdW5kc1xuICAgICAgICovXG4gICAgICBzZXJ2aWNlLnNob3VsZEZpdEJvdW5kID0gZnVuY3Rpb24gKG1hcCwgYm91bmRzKSB7XG4gICAgICAgIHZhciBub3J0aEVhc3QgPSBib3VuZHMuZ2V0Tm9ydGhFYXN0KCk7XG4gICAgICAgIHZhciBzb3V0aFdlc3QgPSBib3VuZHMuZ2V0U291dGhXZXN0KCk7XG5cbiAgICAgICAgdmFyIGN1cnJlbnRNYXBCb3VuZHMgPSBtYXAuZ2V0Qm91bmRzKCk7XG4gICAgICAgIHZhciBtYXBDb250YWluc0JvdW5kcyA9IGN1cnJlbnRNYXBCb3VuZHMuY29udGFpbnMgJiZcbiAgICAgICAgICAoIWN1cnJlbnRNYXBCb3VuZHMuY29udGFpbnMobm9ydGhFYXN0KSB8fCAhY3VycmVudE1hcEJvdW5kcy5jb250YWlucyhzb3V0aFdlc3QpKTtcblxuICAgICAgICByZXR1cm4gXy5pc0VtcHR5KGN1cnJlbnRNYXBCb3VuZHMpIHx8IG1hcENvbnRhaW5zQm91bmRzO1xuICAgICAgfTtcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQucGlwTWFwSGVscGVyU3J2XG4gICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQucGlwTWFwSGVscGVyU3J2I3NldE1vZGVsT3B0aW9uc1xuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwbHVyYWxNb2RlbCBQbHVyYWwgbW9kZWwgdG8gc2V0IG9wdGlvbnMgZm9yXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gW3BsdXJhbE1vZGVsLmdPYmplY3RdIEdvb2dsZSBvYmplY3RcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE5ldyBvcHRpb25zXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uIFNldHMgb3B0aW9ucyBmb3IgcGx1cmFsIG1vZGVsIGlmIGl0IGlzIHBvc3NpYmxlXG4gICAgICAgKi9cbiAgICAgIHNlcnZpY2Uuc2V0TW9kZWxPcHRpb25zID0gZnVuY3Rpb24gKHBsdXJhbE1vZGVsLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBwbGFpbk9iamVjdCA9IHBsdXJhbE1vZGVsICYmIHBsdXJhbE1vZGVsLmdPYmplY3Q7XG5cbiAgICAgICAgaWYgKHBsYWluT2JqZWN0ICYmIGFuZ3VsYXIuaXNGdW5jdGlvbihwbGFpbk9iamVjdC5zZXRPcHRpb25zKSkge1xuICAgICAgICAgIHBsYWluT2JqZWN0LnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cblxuICAgICAgc2VydmljZS5nZXREZWdyZWVzQmV0d2VlblR3b1BvaW50cyA9IGZ1bmN0aW9uIChwb2ludDEsIHBvaW50Mikge1xuICAgICAgICBsZXQgcDEgPSB7XG4gICAgICAgICAgbGF0OiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcG9pbnQxLmxhdCB8fCBwb2ludDEubGF0aXR1ZGVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxuZzogKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHBvaW50MS5sbmcgfHwgcG9pbnQxLmxvbmdpdHVkZVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHAyID0ge1xuICAgICAgICAgIGxhdDogKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHBvaW50Mi5sYXQgfHwgcG9pbnQyLmxhdGl0dWRlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBsbmc6ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwb2ludDIubG5nIHx8IHBvaW50Mi5sb25naXR1ZGVcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGdvb2dsZS5tYXBzLmdlb21ldHJ5LnNwaGVyaWNhbC5jb21wdXRlSGVhZGluZyhwMSwgcDIpO1xuICAgICAgfVxuXG5cbiAgICAgIHNlcnZpY2UuZ2V0RGlyZWN0aW9uID0gZnVuY3Rpb24gKHBvaW50MSwgcG9pbnQyKSB7XG4gICAgICAgIGNvbnN0IGRlZ3JlZSA9IHRoaXMuZ2V0RGVncmVlc0JldHdlZW5Ud29Qb2ludHMocG9pbnQxLCBwb2ludDIpO1xuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKHBvaW50MS5sYXQgfHwgcG9pbnQxLmxhdGl0dWRlKSA9PT0gKHBvaW50Mi5sYXQgfHwgcG9pbnQyLmxhdGl0dWRlKSAmJlxuICAgICAgICAgICAgKHBvaW50MS5sbmcgfHwgcG9pbnQxLmxvbmdpdHVkZSkgPT09IChwb2ludDIubG5nIHx8IHBvaW50Mi5sb25naXR1ZGUpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aW9uc1s4XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgICBpZiAoZGVncmVlID49IGRpcmVjdGlvbnNbaV0uc2NvcGVbMF0gJiYgZGVncmVlIDw9IGRpcmVjdGlvbnNbaV0uc2NvcGVbMV0pIHtcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3Rpb25zW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkaXJlY3Rpb25zWzhdO1xuICAgICAgfVxuXG4gICAgICBzZXJ2aWNlLmdldERpcmVjdGlvbkJ5QW5nbGUgPSBmdW5jdGlvbihkZWdyZWUpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgICBpZiAoZGVncmVlID49IGRpcmVjdGlvbnNbaV0uc2NvcGVbMF0gJiYgZGVncmVlIDw9IGRpcmVjdGlvbnNbaV0uc2NvcGVbMV0pIHtcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3Rpb25zW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkaXJlY3Rpb25zWzhdO1xuICAgICAgfVxuXG4gICAgICBzZXJ2aWNlLmdldEljb25PcmlnaW5CeURpcmVjdGlvbiA9IGZ1bmN0aW9uIChwb2ludDEsIHBvaW50MiwgaWNvblNpemU6IG51bWJlciA9IDgyLCBndXR0ZXI6IG51bWJlciA9IDE1KSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuZ2V0RGlyZWN0aW9uKHBvaW50MSwgcG9pbnQyKTtcblxuICAgICAgICByZXR1cm4gbmV3IGdvb2dsZS5tYXBzLlBvaW50KDAsIGRpcmVjdGlvbi5udW1iZXJJblNwcml0ZSAqIGljb25TaXplICsgZGlyZWN0aW9uLm51bWJlckluU3ByaXRlICogZ3V0dGVyKTtcbiAgICAgIH1cblxuXG4gICAgICBmdW5jdGlvbiBvbkluaXQobWFwcykge1xuICAgICAgICB2YXIgbWFwVHlwZUlkID0gbWFwcy5NYXBUeXBlSWQgfHwge307XG4gICAgICAgIHZhciBtYXBUeXBlcyA9IHtcbiAgICAgICAgICByb2FkTWFwOiBtYXBUeXBlSWQuUk9BRE1BUCxcbiAgICAgICAgICBzYXRlbGxpdGU6IG1hcFR5cGVJZC5TQVRFTExJVEUsXG4gICAgICAgICAgaHlicmlkOiBtYXBUeXBlSWQuSFlCUklELFxuICAgICAgICAgIHRlcnJhaW46IG1hcFR5cGVJZC5URVJSQUlOXG4gICAgICAgIH07XG5cblxuICAgICAgICB2YXIgc3ltYm9sUGF0aCA9IG1hcHMuU3ltYm9sUGF0aCB8fCB7fTtcbiAgICAgICAgdmFyIHN5bWJvbHMgPSB7XG4gICAgICAgICAgY2lyY2xlOiBzeW1ib2xQYXRoLkNJUkNMRSxcbiAgICAgICAgICBiYWNrd2FyZENsb3NlZDogc3ltYm9sUGF0aC5CQUNLV0FSRF9DTE9TRURfQVJST1csXG4gICAgICAgICAgZm9yd2FyZENsb3NlZDogc3ltYm9sUGF0aC5GT1JXQVJEX0NMT1NFRF9BUlJPVyxcbiAgICAgICAgICBiYWNrd2FyZE9wZW5lZDogc3ltYm9sUGF0aC5CQUNLV0FSRF9PUEVOX0FSUk9XLFxuICAgICAgICAgIGZvcndhcmRDT3BlbmVkOiBzeW1ib2xQYXRoLkZPUldBUkRfT1BFTl9BUlJPV1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuaXNSZWFkeSA9IHRydWU7XG5cbiAgICAgICAgYW5ndWxhci5leHRlbmQodGhpcywge1xuICAgICAgICAgIG1hcFR5cGVzOiBtYXBUeXBlcyxcbiAgICAgICAgICBzeW1ib2xzOiBzeW1ib2xzLFxuICAgICAgICAgIG1hcHM6IG1hcHNcbiAgICAgICAgfSk7XG4gICAgICB9XG5cblxuICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgfTtcbiAgfVxuXG4gIGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzJylcbiAgICAucHJvdmlkZXIoJ3BpcE1hcEhlbHBlclNydicsIDwgYW55ID4gcGlwTWFwSGVscGVyU3J2KVxuICAgIC5kZWNvcmF0b3IoJ3VpR21hcE1vZGVsS2V5JywgdWlHbWFwTW9kZWxLZXlEZWNvcmF0b3IpO1xufSkoKTsiLCIoKCkgPT4ge1xuICAndXNlIHN0cmljdCc7XG4gIFVTR1NPdmVybGF5LnByb3RvdHlwZSA9IG5ldyBnb29nbGUubWFwcy5PdmVybGF5VmlldygpO1xuXG4gIC8qKiBAY29uc3RydWN0b3IgKi9cbiAgZnVuY3Rpb24gVVNHU092ZXJsYXkoYm91bmRzLCBpbWFnZSwgbWFwLCBvcGFjaXR5KSB7XG5cbiAgICAvLyBJbml0aWFsaXplIGFsbCBwcm9wZXJ0aWVzLlxuICAgIHRoaXMuYm91bmRzXyA9IGJvdW5kcztcbiAgICB0aGlzLmltYWdlXyA9IGltYWdlO1xuICAgIHRoaXMubWFwXyA9IG1hcDtcblxuICAgIHRoaXMub3BhY2l0eSA9IG9wYWNpdHkgPyBvcGFjaXR5IDogbnVsbDtcbiAgICAvLyBEZWZpbmUgYSBwcm9wZXJ0eSB0byBob2xkIHRoZSBpbWFnZSdzIGRpdi4gV2UnbGxcbiAgICAvLyBhY3R1YWxseSBjcmVhdGUgdGhpcyBkaXYgdXBvbiByZWNlaXB0IG9mIHRoZSBvbkFkZCgpXG4gICAgLy8gbWV0aG9kIHNvIHdlJ2xsIGxlYXZlIGl0IG51bGwgZm9yIG5vdy5cbiAgICB0aGlzLmRpdl8gPSBudWxsO1xuXG4gICAgLy8gRXhwbGljaXRseSBjYWxsIHNldE1hcCBvbiB0aGlzIG92ZXJsYXkuXG4gICAgdGhpcy5zZXRNYXAobWFwKTtcbiAgfVxuXG4gIFVTR1NPdmVybGF5LnByb3RvdHlwZS5vbkFkZCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnbm9uZSc7XG4gICAgZGl2LnN0eWxlLmJvcmRlcldpZHRoID0gJzBweCc7XG4gICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBpZiAodGhpcy5vcGFjaXR5KSBkaXYuc3R5bGUub3BhY2l0eSA9IHRoaXMub3BhY2l0eTtcblxuICAgIC8vIENyZWF0ZSB0aGUgaW1nIGVsZW1lbnQgYW5kIGF0dGFjaCBpdCB0byB0aGUgZGl2LlxuICAgIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpbWcuc3JjID0gdGhpcy5pbWFnZV87XG4gICAgaW1nLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIGltZy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgaW1nLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBkaXYuYXBwZW5kQ2hpbGQoaW1nKTtcblxuICAgIHRoaXMuZGl2XyA9IGRpdjtcblxuICAgIC8vIEFkZCB0aGUgZWxlbWVudCB0byB0aGUgXCJvdmVybGF5TGF5ZXJcIiBwYW5lLlxuICAgIHZhciBwYW5lcyA9IHRoaXMuZ2V0UGFuZXMoKTtcbiAgICBwYW5lcy5vdmVybGF5TGF5ZXIuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgfTtcblxuICBVU0dTT3ZlcmxheS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChib3VuZHMpIHtcblxuICAgIC8vIFdlIHVzZSB0aGUgc291dGgtd2VzdCBhbmQgbm9ydGgtZWFzdFxuICAgIC8vIGNvb3JkaW5hdGVzIG9mIHRoZSBvdmVybGF5IHRvIHBlZyBpdCB0byB0aGUgY29ycmVjdCBwb3NpdGlvbiBhbmQgc2l6ZS5cbiAgICAvLyBUbyBkbyB0aGlzLCB3ZSBuZWVkIHRvIHJldHJpZXZlIHRoZSBwcm9qZWN0aW9uIGZyb20gdGhlIG92ZXJsYXkuXG4gICAgdmFyIG92ZXJsYXlQcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgaWYgKCFvdmVybGF5UHJvamVjdGlvbikgcmV0dXJuO1xuXG4gICAgLy8gUmV0cmlldmUgdGhlIHNvdXRoLXdlc3QgYW5kIG5vcnRoLWVhc3QgY29vcmRpbmF0ZXMgb2YgdGhpcyBvdmVybGF5XG4gICAgLy8gaW4gTGF0TG5ncyBhbmQgY29udmVydCB0aGVtIHRvIHBpeGVsIGNvb3JkaW5hdGVzLlxuICAgIC8vIFdlJ2xsIHVzZSB0aGVzZSBjb29yZGluYXRlcyB0byByZXNpemUgdGhlIGRpdi5cbiAgICBpZiAoYm91bmRzKSB7XG4gICAgICB0aGlzLmJvdW5kc18gPSBib3VuZHNcbiAgICB9XG4gICAgdmFyIHN3ID0gb3ZlcmxheVByb2plY3Rpb24uZnJvbUxhdExuZ1RvRGl2UGl4ZWwodGhpcy5ib3VuZHNfLmdldFNvdXRoV2VzdCgpKTtcbiAgICB2YXIgbmUgPSBvdmVybGF5UHJvamVjdGlvbi5mcm9tTGF0TG5nVG9EaXZQaXhlbCh0aGlzLmJvdW5kc18uZ2V0Tm9ydGhFYXN0KCkpO1xuXG5cbiAgICAvLyBSZXNpemUgdGhlIGltYWdlJ3MgZGl2IHRvIGZpdCB0aGUgaW5kaWNhdGVkIGRpbWVuc2lvbnMuXG4gICAgdmFyIGRpdiA9IHRoaXMuZGl2XztcblxuICAgIGlmICghZGl2KSByZXR1cm47XG5cbiAgICAvLyBkaXYuc3R5bGUubGVmdCA9IHN3LnggKyAncHgnO1xuICAgIC8vIGRpdi5zdHlsZS50b3AgPSBuZS55ICsgJ3B4JztcbiAgICAvLyBkaXYuc3R5bGUud2lkdGggPSAobmUueCAtIHN3LngpICsgJ3B4JztcbiAgICAvLyBkaXYuc3R5bGUuaGVpZ2h0ID0gKHN3LnkgLSBuZS55KSArICdweCc7XG4gICAgZGl2LnN0eWxlLmxlZnQgPSBzdy54ICsgJ3B4JztcbiAgICBkaXYuc3R5bGUudG9wID0gc3cueSArICdweCc7XG4gICAgZGl2LnN0eWxlLndpZHRoID0gKG5lLnggLSBzdy54KSArICdweCc7XG4gICAgZGl2LnN0eWxlLmhlaWdodCA9IChuZS55IC0gc3cueSkgKyAncHgnO1xuICAgIGlmICh0aGlzLm9wYWNpdHkpIGRpdi5zdHlsZS5vcGFjaXR5ID0gdGhpcy5vcGFjaXR5O1xuICB9O1xuXG4gIC8vIFRoZSBvblJlbW92ZSgpIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGZyb20gdGhlIEFQSSBpZlxuICAvLyB3ZSBldmVyIHNldCB0aGUgb3ZlcmxheSdzIG1hcCBwcm9wZXJ0eSB0byAnbnVsbCcuXG4gIFVTR1NPdmVybGF5LnByb3RvdHlwZS5vblJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5kaXZfICYmIHRoaXMuZGl2Xy5wYXJlbnROb2RlKSB0aGlzLmRpdl8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdl8pO1xuICAgIHRoaXMuZGl2XyA9IG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50LnBpcE1hcFxuICAgKiBAcmVzdHJpY3QgQUVcbiAgICpcbiAgICogQHNjb3BlXG4gICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBwaXBPcHRpb25zIE9wdGlvbnMgZm9yIGEgbWFwIChpbmNsdWRpbmcgb3B0aW9ucyBmb3IgbWFwIHByb3ZpZGVyKVxuICAgKlxuICAgKiBAcHJvcGVydHkge01hcH5HZW9SZWdpb259IHBpcE9wdGlvbnMuZ2VvUmVnaW9uIEdlbyByZWdpb24gdG8gc2V0IG1hcCBjZW50ZXIgYW5kIGJvdW5kc1xuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL21hcHMvZG9jdW1lbnRhdGlvbi9qYXZhc2NyaXB0L3JlZmVyZW5jZSNNYXBPcHRpb25zXG4gICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbcGlwT3B0aW9ucy5tYXBdIE9wdGlvbnMgZm9yIG1hcCBwcm92aWRlclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtwaXBPcHRpb25zLm1hcC5tYXBUeXBlSWQgPSBzYXRlbGxpdGVdIE1hcCB2aWV3XG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3BpcE9wdGlvbnMubWFwLmRpc2FibGVEZWZhdWx0VUkgPSB0cnVlXSBEaXNhYmxpbmcgZGVmYXVsdCBVSSBjb250cm9sc1xuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtwaXBPcHRpb25zLm1hcC5wYW5Db250cm9sID0gZmFsc2VdIEFsbG93cyBwYW4gY29udHJvbFxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtwaXBPcHRpb25zLm1hcC56b29tQ29udHJvbCA9IGZhbHNlXSBBbGxvd3Mgem9vbSBjb250cm9sXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3BpcE9wdGlvbnMuc2V0SW5pdEJvdW5kcyA9IGZhbHNlXSBUcnVlIGlmIG5lZWQgdG8gc2V0IGJvdW5kcyBvbiBpbml0IGZyb20gZ2VvUmVnaW9uXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBwaXBJbnN0YW5jZSBJbnN0YW5jZSBvZiB0aGUgZGlyZWN0aXZlJ3MgY29udHJvbGxlciB0byBiZSBhYmxlIHRvIHVzZSBpdCdzIG1ldGhvZHMgbWFudWFsbHlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uIERpcmVjdGl2ZSB0byBjcmVhdGUgbWFwLiBJdCBpcyBhbiBhYnN0cmFjdGlvbiBiZXR3ZWVuIGEgbWFwIHByb3ZpZGVyIGFuZCB0aGUgZnJhbWV3b3JrXG4gICAqIEFsc28gaXQgcHJvdmlkZXMgbWV0aG9kcyB3aXRoIGNvbnRyb2xsZXIgdG8gem9vbSwgZml0IG1hcCwgZXRjXG4gICAqL1xuXG4gIGZ1bmN0aW9uIE1hcENvbXBvbmVudEN0cmwoJGluamVjdG9yLCAkc2NvcGUsICRlbGVtZW50KSB7XG4gICAgdmFyIG1hcEV2ZW50SGFuZGxlck1peGluRmN0ID0gJGluamVjdG9yLmdldCgnbWFwRXZlbnRIYW5kbGVyTWl4aW5GY3QnKTtcbiAgICBtYXBFdmVudEhhbmRsZXJNaXhpbkZjdC5taXhUbyh0aGlzLCAkc2NvcGUuJGFwcGx5QXN5bmMuYmluZCgkc2NvcGUpKTtcbiAgICB0aGlzLnNpZGVQYW5lbCA9IHt9O1xuXG4gICAgdGhpcy5lbWJlZGVkTWFwID0gbnVsbDtcblxuICAgIHRoaXMucGlwTWFwSGVscGVyU3J2ID0gJGluamVjdG9yLmdldCgncGlwTWFwSGVscGVyU3J2Jyk7XG4gICAgdGhpcy51aUdtYXBJc1JlYWR5ID0gJGluamVjdG9yLmdldCgndWlHbWFwSXNSZWFkeScpO1xuICAgIHRoaXMuJHRpbWVvdXQgPSAkaW5qZWN0b3IuZ2V0KCckdGltZW91dCcpO1xuICAgIHRoaXMuJHJvb3RTY29wZSA9ICRpbmplY3Rvci5nZXQoJyRyb290U2NvcGUnKTtcbiAgICB0aGlzLk1hcFBvcHVwRmN0ID0gJGluamVjdG9yLmdldCgnTWFwUG9wdXBGY3QnKTtcblxuICAgIHRoaXMucGlwTWFwSGVscGVyU3J2LndoZW5SZWFkeS50aGVuKHRoaXMuaW5pdC5iaW5kKHRoaXMpKTtcblxuICAgICRlbGVtZW50LmFkZENsYXNzKCdwaXAtbWFwIGZsZXggbGF5b3V0LXJvdycpO1xuXG4gICAgJHNjb3BlLiR3YXRjaCgnY3RybC5jb21wb25lbnRPcHRpb25zLmNlbnRlcicsIChuZXdWYWwpID0+IHtcbiAgICAgIGlmICh0aGlzLmp1c3RSZXNpemVkID09IHRydWUpIHtcbiAgICAgICAgLy90aGlzLmp1c3RSZXNpemVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZ01hcCAmJiBuZXdWYWwpIHtcbiAgICAgICAgbGV0IG5ld0NlbnRlciA9IHsgbGF0OiBuZXdWYWwubGF0aXR1ZGUgfHwgbmV3VmFsLmxhdCwgbG5nOiBuZXdWYWwubG9uZ2l0dWRlIHx8IG5ld1ZhbC5sbmcgfTtcblxuICAgICAgICBpZiAoXy5pc051bWJlcihuZXdDZW50ZXIubGF0KSAmJiBfLmlzTnVtYmVyKG5ld0NlbnRlci5sbmcpKSB7XG4gICAgICAgICAgdGhpcy5nTWFwLnBhblRvKG5ld0NlbnRlcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB0cnVlKTtcblxuICAgICRzY29wZS4kd2F0Y2goJ2N0cmwuY29tcG9uZW50T3B0aW9ucy56b29tJywgKG5ld1ZhbCkgPT4ge1xuICAgICAgaWYgKHRoaXMubWFwKSB0aGlzLm1hcC56b29tID0gbmV3VmFsO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLiR3YXRjaCgnY3RybC5jb21wb25lbnRPcHRpb25zLmVtYmVkZWRNYXAnLCAobmV3VmFsLCBvbGRWYWwpID0+IHtcbiAgICAgIGlmIChuZXdWYWwgJiYgb2xkVmFsICYmIG5ld1ZhbC5lbWJlZGVkU3JjICYmIG9sZFZhbC5lbWJlZGVkU3JjICYmIG5ld1ZhbC5lbWJlZGVkU3JjID09IG9sZFZhbC5lbWJlZGVkU3JjKSB7XG4gICAgICAgIGlmICh0aGlzLmVtYmVkZWRPdmVybGF5KSB7XG4gICAgICAgICAgdmFyIGJvdW5kcyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMobmV3IGdvb2dsZS5tYXBzLkxhdExuZyhuZXdWYWwubWFwX25vcnRoLCBuZXdWYWwubWFwX3dlc3QpLCBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKG5ld1ZhbC5tYXBfc291dGgsIG5ld1ZhbC5tYXBfZWFzdCkpO1xuICAgICAgICAgIHRoaXMuZW1iZWRlZE92ZXJsYXkuZHJhdyhib3VuZHMpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnNldEVtYmVkZWRCb3VuZHMoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuJHJvb3RTY29wZS4kb24oJ3BpcE1haW5SZXNpemVkJywgKCkgPT4ge1xuICAgICAgLy90aGlzLiR0aW1lb3V0KHRoaXMudXBkYXRlTWFwVGlsZXModHJ1ZSkpO1xuICAgICAgdGhpcy50aHJvdHRsZVJlc2l6ZSgpO1xuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogQG5nZG9jIHByb3BlcnR5XG4gICAqIEBwcm9wZXJ0eU9mIHBpcE1hcENvbXBvbmVudC5NYXBDb21wb25lbnRDdHJsXG4gICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBDb21wb25lbnRDdHJsI2RlZmF1bHRPcHRpb25zXG4gICAqIEB0eXBlIHt7bWFwVHlwZUlkOiAqLCBkaXNhYmxlRGVmYXVsdFVJOiBib29sZWFuLCBwYW5Db250cm9sOiBib29sZWFuLCB6b29tQ29udHJvbDogYm9vbGVhbn19XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvbiBEZWZhdWx0IG1hcCBjb21wb25lbnRzXG4gICAqL1xuICBNYXBDb21wb25lbnRDdHJsLnByb3RvdHlwZS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBtYXA6IHtcbiAgICAgIGRpc2FibGVEZWZhdWx0VUk6IHRydWUsXG4gICAgICBwYW5Db250cm9sOiBmYWxzZSxcbiAgICAgIHpvb21Db250cm9sOiBmYWxzZSxcbiAgICAgIGRpc2FibGVEb3VibGVDbGlja1pvb206IHRydWVcbiAgICB9LFxuXG4gICAgc2V0SW5pdEJvdW5kczogZmFsc2UsXG5cbiAgICBwb3B1cDoge31cbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwQ29tcG9uZW50Q3RybFxuICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwQ29tcG9uZW50Q3RybCNpbml0XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvbiBJbml0IG1hcFxuICAgKi9cbiAgTWFwQ29tcG9uZW50Q3RybC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgKiBAcHJvcGVydHlPZiBwaXBNYXBDb21wb25lbnQuTWFwQ29tcG9uZW50Q3RybFxuICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBDb21wb25lbnRDdHJsI2NvbXBvbmVudE9wdGlvbnNcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uIE9wdGlvbnMgZnJvbSBvdXRlciBzY29wZVxuICAgICAqL1xuICAgIHRoaXMub3B0aW9ucyA9IGFuZ3VsYXIubWVyZ2Uoe1xuICAgICAgbWFwOiB7XG4gICAgICAgIG1hcFR5cGVJZDogdGhpcy5waXBNYXBIZWxwZXJTcnYubWFwVHlwZXMuc2F0ZWxsaXRlXG4gICAgICB9XG4gICAgfSwgdGhpcy5kZWZhdWx0T3B0aW9ucywgdGhpcy5jb21wb25lbnRPcHRpb25zKTtcblxuICAgIGlmICghdGhpcy5jb21wb25lbnRPcHRpb25zLmNvbnRyb2wpIHRoaXMuY29tcG9uZW50T3B0aW9ucy5jb250cm9sID0ge307XG4gICAgdGhpcy5tYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgIHRoaXMubWFwLnpvb20gPSB0aGlzLmNvbXBvbmVudE9wdGlvbnMuem9vbTtcbiAgICB0aGlzLm1hcC5jZW50ZXIgPSB0aGlzLmNvbXBvbmVudE9wdGlvbnMuY2VudGVyO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zaWRlUGFuZWwgJiYgdGhpcy5vcHRpb25zLnNpZGVQYW5lbC50ZW1wbGF0ZVVybCkge1xuICAgICAgdGhpcy5zaG93U2lkZVBhbmVsKHRoaXMub3B0aW9ucy5zaWRlUGFuZWwudGVtcGxhdGVVcmwpO1xuICAgIH1cblxuICAgIHRoaXMudWlHbWFwSXNSZWFkeS5wcm9taXNlKClcbiAgICAgIC5maW5hbGx5KHRoaXMub25NYXBSZWFkeS5iaW5kKHRoaXMpKTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwQ29tcG9uZW50Q3RybFxuICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwQ29tcG9uZW50Q3RybCNvbk1hcFJlYWR5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvbiBPbiBtYXAgcmVhZHkgaGFuZGxlclxuICAgKi9cbiAgTWFwQ29tcG9uZW50Q3RybC5wcm90b3R5cGUub25NYXBSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnNldEluaXRCb3VuZHMoKTtcbiAgICB0aGlzLnNldEVtYmVkZWRCb3VuZHMoKTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwQ29tcG9uZW50Q3RybFxuICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwQ29tcG9uZW50Q3RybCNzZXRJbml0Qm91bmRzXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvbiBPbiBtYXAgcmVhZHkgaGFuZGxlclxuICAgKi9cbiAgTWFwQ29tcG9uZW50Q3RybC5wcm90b3R5cGUuc2V0SW5pdEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbWFwID0gdGhpcy5nZXRNYXBJbnN0YW5jZSgpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zZXRJbml0Qm91bmRzICYmIG1hcCkge1xuICAgICAgdGhpcy5waXBNYXBIZWxwZXJTcnYuZml0TWFwVG9SZWdpb24obWFwLCB0aGlzLm9wdGlvbnMuZ2VvUmVnaW9uKTtcbiAgICB9XG4gIH07XG5cbiAgTWFwQ29tcG9uZW50Q3RybC5wcm90b3R5cGUuc2V0RW1iZWRlZEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbWFwID0gdGhpcy5nZXRNYXBJbnN0YW5jZSgpO1xuICAgIGlmICh0aGlzLmNvbXBvbmVudE9wdGlvbnMuZW1iZWRlZE1hcCAmJiB0aGlzLmNvbXBvbmVudE9wdGlvbnMuZW1iZWRlZE1hcC5lbWJlZGVkU3JjKSB7XG4gICAgICB2YXIgYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcyhuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHRoaXMuY29tcG9uZW50T3B0aW9ucy5lbWJlZGVkTWFwLm1hcF9ub3J0aCwgdGhpcy5jb21wb25lbnRPcHRpb25zLmVtYmVkZWRNYXAubWFwX3dlc3QpLCBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHRoaXMuY29tcG9uZW50T3B0aW9ucy5lbWJlZGVkTWFwLm1hcF9zb3V0aCwgdGhpcy5jb21wb25lbnRPcHRpb25zLmVtYmVkZWRNYXAubWFwX2Vhc3QpKTtcbiAgICAgIHZhciBzcmNJbWFnZSA9IHRoaXMuY29tcG9uZW50T3B0aW9ucy5lbWJlZGVkTWFwLmVtYmVkZWRTcmM7XG4gICAgICB0aGlzLmVtYmVkZWRPdmVybGF5ID0gbmV3IFVTR1NPdmVybGF5KGJvdW5kcywgc3JjSW1hZ2UsIG1hcCwgdGhpcy5jb21wb25lbnRPcHRpb25zLmVtYmVkZWRNYXAub3BhY2l0eSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmVtYmVkZWRPdmVybGF5KSB0aGlzLmVtYmVkZWRPdmVybGF5Lm9uUmVtb3ZlKCk7XG4gICAgICB0aGlzLmVtYmVkZWRPdmVybGF5ID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBDb21wb25lbnRDdHJsXG4gICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBDb21wb25lbnRDdHJsI2dldE1hcEluc3RhbmNlXG4gICAqIEByZXR1cm5zIHtnb29nbGUubWFwcy5NYXB9IEdvb2dsZSBtYXAgaW5zdGFuY2VcbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBHb29nbGUgbWFwIG9iamVjdFxuICAgKi9cbiAgTWFwQ29tcG9uZW50Q3RybC5wcm90b3R5cGUuZ2V0TWFwSW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLmdNYXAgJiYgdGhpcy5jb21wb25lbnRPcHRpb25zICYmIHRoaXMuY29tcG9uZW50T3B0aW9ucy5jb250cm9sICYmIHRoaXMuY29tcG9uZW50T3B0aW9ucy5jb250cm9sLmdldEdNYXApIHtcbiAgICAgIHRoaXMuZ01hcCA9IHRoaXMuY29tcG9uZW50T3B0aW9ucy5jb250cm9sLmdldEdNYXAoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5nTWFwO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBDb21wb25lbnRDdHJsXG4gICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBDb21wb25lbnRDdHJsI2dldE1hcFxuICAgKlxuICAgKiBAbGluayBodHRwOi8vYW5ndWxhci11aS5naXRodWIuaW8vYW5ndWxhci1nb29nbGUtbWFwcy8jIS9hcGkvZ29vZ2xlLW1hcFxuICAgKiBAZGVzY3JpcHRpb24gSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBuZXcgQW5ndWxhciBHb29nbGUgTWFwcyBvYmplY3QuXG4gICAqL1xuICBNYXBDb21wb25lbnRDdHJsLnByb3RvdHlwZS5nZXRNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IGV4dGVybmFsQ2xpY2sgPSB0aGlzLm9wdGlvbnMuZXZlbnRzICYmIHRoaXMub3B0aW9ucy5ldmVudHMuY2xpY2sgPyB0aGlzLm9wdGlvbnMuZXZlbnRzLmNsaWNrIDogYW5ndWxhci5ub29wO1xuICAgIGxldCBleHRlcm5hbFpvb20gPSB0aGlzLm9wdGlvbnMuZXZlbnRzICYmIHRoaXMub3B0aW9ucy5ldmVudHMuem9vbV9jaGFuZ2VkID8gdGhpcy5vcHRpb25zLmV2ZW50cy56b29tX2NoYW5nZWQgOiBhbmd1bGFyLm5vb3A7XG4gICAgbGV0IGV4dGVybmFsQ2VudGVyID0gdGhpcy5vcHRpb25zLmV2ZW50cyAmJiB0aGlzLm9wdGlvbnMuZXZlbnRzLmNlbnRlcl9jaGFuZ2VkID8gdGhpcy5vcHRpb25zLmV2ZW50cy5jZW50ZXJfY2hhbmdlZCA6IGFuZ3VsYXIubm9vcDtcbiAgICB2YXIgZGVib3VuY2VDZW50ZXJDaGFuZ2UgPSBfLmRlYm91bmNlKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXh0ZXJuYWxDZW50ZXIoZXZlbnQpO1xuICAgIH0sIDUwMClcbiAgICAvLyB2YXIgZGVib3VuY2Vab29tQ2hhbmdlID0gXy5kZWJvdW5jZShmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAvLyAgIGV4dGVybmFsWm9vbShldmVudCk7XG4gICAgLy8gfSwgNTApXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnRyb2w6IHt9LFxuICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLm1hcCxcbiAgICAgIGJvdW5kczogdGhpcy5vcHRpb25zLmJvdW5kcyB8fCB7fSxcbiAgICAgIGV2ZW50czogXy5leHRlbmQodGhpcy5vcHRpb25zLmV2ZW50cywge1xuICAgICAgICBjbGljazogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgdGhpcy5vbkNsaWNrKGV2ZW50KTtcbiAgICAgICAgICBleHRlcm5hbENsaWNrKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHpvb21fY2hhbmdlZDogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50ICYmIHRoaXMuY29tcG9uZW50T3B0aW9ucyAmJiB0aGlzLmNvbXBvbmVudE9wdGlvbnMubWFwSWQpIHtcbiAgICAgICAgICAgIGV2ZW50Lm1hcElkID0gdGhpcy5jb21wb25lbnRPcHRpb25zLm1hcElkO1xuICAgICAgICAgICAgZXh0ZXJuYWxab29tKGV2ZW50KTtcbiAgICAgICAgICAgIC8vIGRlYm91bmNlWm9vbUNoYW5nZShldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjZW50ZXJfY2hhbmdlZDogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50ICYmIHRoaXMuY29tcG9uZW50T3B0aW9ucyAmJiB0aGlzLmNvbXBvbmVudE9wdGlvbnMubWFwSWQpIHtcbiAgICAgICAgICAgIGV2ZW50Lm1hcElkID0gdGhpcy5jb21wb25lbnRPcHRpb25zLm1hcElkO1xuICAgICAgICAgICAgLy8gZXh0ZXJuYWxDZW50ZXIoZXZlbnQpO1xuICAgICAgICAgICAgZGVib3VuY2VDZW50ZXJDaGFuZ2UoZXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGJsY2xpY2s6IHRoaXMub25FdmVudEhhbmRsZXIuYmluZCh0aGlzKSxcbiAgICAgICAgdGlsZXNsb2FkZWQ6IHRoaXMudXBkYXRlTWFwVGlsZXMuYmluZCh0aGlzKVxuICAgICAgfSlcbiAgICB9O1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBDb21wb25lbnRDdHJsXG4gICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBDb21wb25lbnRDdHJsI3VwZGF0ZU1hcFRpbGVzXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvbiBVcGRhdGVzIG1hcCB0aWxlcy4gSXQgaXMgZml4IGZvciBhbGwgcHJvYmxlbXMgcmVsYXRlZCB0byBub3QgZnVsbHkgbG9hZGVkIHRpbGVzXG4gICAqL1xuICBNYXBDb21wb25lbnRDdHJsLnByb3RvdHlwZS51cGRhdGVNYXBUaWxlcyA9IGZ1bmN0aW9uICh1cGRhdGVDZW50ZXIgPSBmYWxzZSkge1xuICAgIHZhciBnTWFwID0gdGhpcy5nZXRNYXBJbnN0YW5jZSgpO1xuICAgIGlmICghZ01hcCkgcmV0dXJuO1xuICAgIHRoaXMucGlwTWFwSGVscGVyU3J2LnRyaWdnZXJFdmVudChnTWFwLCAncmVzaXplJyk7IC8vIGZpeCBtYXAgaXMgbm90IGZ1bGx5IGxvYWRlZCBpc3N1ZVxuICB9O1xuXG4gIHZhciB0aHJvdHRsZVVwZGF0aW5nQ2VudGVyID0gXy50aHJvdHRsZSgoZ01hcCwgY2VudGVyKSA9PiB7XG4gICAgaWYgKCFjZW50ZXIpIHJldHVybjtcblxuICAgIGdNYXAucGFuVG8oY2VudGVyKTtcbiAgICBnTWFwLnNldENlbnRlcihjZW50ZXIpO1xuICB9LCA0MDApO1xuXG4gIE1hcENvbXBvbmVudEN0cmwucHJvdG90eXBlLnRocm90dGxlUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBnTWFwID0gdGhpcy5nZXRNYXBJbnN0YW5jZSgpO1xuICAgIGlmICghZ01hcClcbiAgICAgIHJldHVybjtcbiAgICBpZiAodGhpcy5qdXN0UmVzaXplZCAhPSB0cnVlKSB7XG4gICAgICB0aGlzLmp1c3RSZXNpemVkID0gdHJ1ZTtcbiAgICAgIHZhciBjZW50ZXIgPSBnTWFwLmdldENlbnRlcigpO1xuICAgICAgdGhpcy4kdGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRocm90dGxlVXBkYXRpbmdDZW50ZXIoZ01hcCwgY2VudGVyKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy4kdGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuanVzdFJlc2l6ZWQgPSBmYWxzZTtcbiAgICAgIH0sIDQwMClcbiAgICB9XG5cbiAgICB0aGlzLnBpcE1hcEhlbHBlclNydi50cmlnZ2VyRXZlbnQoZ01hcCwgJ3Jlc2l6ZScpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwQ29tcG9uZW50Q3RybFxuICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwQ29tcG9uZW50Q3RybCNmaXRNYXBUb0JvdW5kc1xuICAgKlxuICAgKiBAcGFyYW0ge2dvb2dsZS5tYXBzLkxhdExuZ0JvdW5kc30gYm91bmRzIGJvdW5kc1xuICAgKiBAbGluayBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9tYXBzL2RvY3VtZW50YXRpb24vamF2YXNjcmlwdC9yZWZlcmVuY2UjTGF0TG5nQm91bmRzXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvbiBGaXQgbWFwIHRvIHNwZWNpZmllZCBib3VuZHNcbiAgICovXG4gIE1hcENvbXBvbmVudEN0cmwucHJvdG90eXBlLmZpdE1hcFRvQm91bmRzID0gZnVuY3Rpb24gKGJvdW5kcykge1xuICAgIHRoaXMucGlwTWFwSGVscGVyU3J2LmZpdE1hcFRvQm91bmRzKHRoaXMuZ2V0TWFwSW5zdGFuY2UoKSwgYm91bmRzKTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwQ29tcG9uZW50Q3RybFxuICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwQ29tcG9uZW50Q3RybCNzaG93U2lkZVBhbmVsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZSBUZW1wbGF0ZSB1cmwgdG8gcGFzcyB0byBuZy1pbmNsdWRlIGRpcmVjdGl2ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb24gU2hvd3Mgc2lkZSBwYW5lbFxuICAgKi9cbiAgTWFwQ29tcG9uZW50Q3RybC5wcm90b3R5cGUuc2hvd1NpZGVQYW5lbCA9IGZ1bmN0aW9uICh0ZW1wbGF0ZSkge1xuICAgIHRoaXMuc2lkZVBhbmVsLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgdGhpcy5zaWRlUGFuZWwuc2hvdyA9IHRydWU7XG4gICAgdGhpcy4kdGltZW91dCh0aGlzLnVwZGF0ZU1hcFRpbGVzLmJpbmQodGhpcykpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBDb21wb25lbnRDdHJsXG4gICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBDb21wb25lbnRDdHJsI2hpZGVTaWRlUGFuZWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uIEhpZGVzIHNpZGUgcGFuZWxcbiAgICovXG4gIE1hcENvbXBvbmVudEN0cmwucHJvdG90eXBlLmhpZGVTaWRlUGFuZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zaWRlUGFuZWwudGVtcGxhdGUgPSBudWxsO1xuICAgIHRoaXMuc2lkZVBhbmVsLnNob3cgPSBmYWxzZTtcbiAgICB0aGlzLiR0aW1lb3V0KHRoaXMudXBkYXRlTWFwVGlsZXMuYmluZCh0aGlzKSk7XG4gIH07XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcENvbXBvbmVudEN0cmxcbiAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcENvbXBvbmVudEN0cmwjb25DbGlja1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb24gT24gY2xpY2sgZGVmYXVsdCBoYW5kbGVyXG4gICAqL1xuICBNYXBDb21wb25lbnRDdHJsLnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBDb21wb25lbnRDdHJsXG4gICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBDb21wb25lbnRDdHJsI2ZyZWV6ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb24gRnJlZXplcyBtYXAncyBwYW4gYW5kIHpvb20gd2l0aCBtb3VzZVxuICAgKi9cbiAgTWFwQ29tcG9uZW50Q3RybC5wcm90b3R5cGUuZnJlZXplID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmlzRnJvemVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRNYXBPcHRpb25zKHtcbiAgICAgIGRyYWdnYWJsZTogZmFsc2UsXG4gICAgICBkaXNhYmxlRG91YmxlQ2xpY2tab29tOiB0cnVlLFxuICAgICAgc2Nyb2xsd2hlZWw6IGZhbHNlXG4gICAgfSk7XG4gICAgdGhpcy5pc0Zyb3plbiA9IHRydWU7XG4gIH07XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcENvbXBvbmVudEN0cmxcbiAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcENvbXBvbmVudEN0cmwjdW5mcmVlemVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uIFVuZnJlZXplcyBtYXAncyBwYW4gYW5kIHpvb20gd2l0aCBtb3VzZVxuICAgKi9cbiAgTWFwQ29tcG9uZW50Q3RybC5wcm90b3R5cGUudW5mcmVlemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLmlzRnJvemVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRNYXBPcHRpb25zKHtcbiAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgIGRpc2FibGVEb3VibGVDbGlja1pvb206IHRydWUsXG4gICAgICBzY3JvbGx3aGVlbDogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuaXNGcm96ZW4gPSBmYWxzZTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwQ29tcG9uZW50Q3RybFxuICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwQ29tcG9uZW50Q3RybCNzZXRDdXJzb3JcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtjdXJzb3JdIEN1cnNvciBjb2RlLiBJZiBlbXB0eSAtIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBpcyByZXN0b3JlZFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb24gT3ZlcnJpZGVzIGN1cnNvciBmb3IgdGhlIG1hcCBvciBzZXQgYmFjayBkZWZhdWx0IGJlaGF2aW91ciBpZiBjdXJzb3IgaXMgbm90IHByb3ZpZGVkXG4gICAqIEB0b2RvOiBJIGNvdWxkbid0IGZpbmQgYW55IHBvc3NpYmlsaXR5IHRvIHNldCBhIGN1cnNvciBmb3IgYSBtYXAuXG4gICAqIFdlIGNhbiBvbmx5IHNldCBjdXJzb3IgZm9yIGRyYWdnYWJsZU1hcCBhbmQgbWFwIGRyYWdnaW5nLlxuICAgKiBBbHNvIGl0IGlzIHBvc3NpYmxlIHRvIHNldCBjdXJzb3JzIGZvciBtYXJrZXJzIChub3QgcG9seXMpXG4gICAqL1xuICBNYXBDb21wb25lbnRDdHJsLnByb3RvdHlwZS5zZXRDdXJzb3IgPSBmdW5jdGlvbiAoY3Vyc29yKSB7XG4gICAgdGhpcy5jdXJzb3IgPSBjdXJzb3I7XG4gIH07XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcENvbXBvbmVudEN0cmxcbiAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcENvbXBvbmVudEN0cmwjc2V0TWFwT3B0aW9uc1xuICAgKiBAcGFyYW0ge2dvb2dsZS5tYXBzLk1hcE9wdGlvbnN9IG9wdGlvbnMgT3B0aW9ucyB0byBzZXRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uIFNldHMgbWFwIG9wdGlvbnMgZnJvbSBnaXZlbiBvcHRpb25zIG9iamVjdFxuICAgKi9cbiAgTWFwQ29tcG9uZW50Q3RybC5wcm90b3R5cGUuc2V0TWFwT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIG1hcEluc3RhbmNlID0gdGhpcy5nZXRNYXBJbnN0YW5jZSgpO1xuICAgIG1hcEluc3RhbmNlLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gIH07XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcENvbXBvbmVudEN0cmxcbiAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcENvbXBvbmVudEN0cmwjY3JlYXRlRWxlbWVudFBvcHVwXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIFBvcHVwIG9wdGlvbnNcbiAgICogQHJldHVybnMge09iamVjdH0gUG9wdXAgaW5zdGFuY2VcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uIENyZWF0ZXMgcG9wdXAgaW5zdGFuY2UgYW5kIHJldHVybnMgaXRcbiAgICovXG4gIE1hcENvbXBvbmVudEN0cmwucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRQb3B1cCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdGhpcy5jcmVhdGVQb3B1cEluc3RhbmNlKCk7XG5cbiAgICByZXR1cm4gdGhpcy5wb3B1cC5hZGQob3B0aW9ucyk7XG4gIH07XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcENvbXBvbmVudEN0cmxcbiAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcENvbXBvbmVudEN0cmwjY3JlYXRlUG9wdXBJbnN0YW5jZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBwb3B1cCBpbnN0YW5jZVxuICAgKi9cbiAgTWFwQ29tcG9uZW50Q3RybC5wcm90b3R5cGUuY3JlYXRlUG9wdXBJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5wb3B1cCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucG9wdXAgPSB0aGlzLk1hcFBvcHVwRmN0LmNyZWF0ZSgpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBDb21wb25lbnRDdHJsXG4gICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBDb21wb25lbnRDdHJsI2Nsb3NlUG9wdXBcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uIENsb3NlcyBwb3B1cFxuICAgKi9cbiAgTWFwQ29tcG9uZW50Q3RybC5wcm90b3R5cGUuY2xvc2VQb3B1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMucG9wdXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc29sZS5sb2coJ3RoaXMucG9wdXAnLCB0aGlzLnBvcHVwKTtcbiAgICB0aGlzLnBvcHVwLmNsb3NlKCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gcGlwTWFwQ29tcG9uZW50KCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdHJpY3Q6ICdBRScsXG4gICAgICBzY29wZTogdHJ1ZSxcbiAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB7XG4gICAgICAgIGNvbXBvbmVudE9wdGlvbnM6ICc9cGlwT3B0aW9ucydcbiAgICAgIH0sXG4gICAgICBjb250cm9sbGVyOiAnTWFwQ29tcG9uZW50Q3RybCcsXG4gICAgICBjb250cm9sbGVyQXM6ICdjdHJsJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnbWFwLmh0bWwnXG4gICAgfTtcbiAgfVxuXG4gIGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzJylcbiAgICAuY29udHJvbGxlcignTWFwQ29tcG9uZW50Q3RybCcsIE1hcENvbXBvbmVudEN0cmwpXG4gICAgLmRpcmVjdGl2ZSgncGlwTWFwJywgcGlwTWFwQ29tcG9uZW50KTtcbn0pKCk7IiwiXG4oKCkgPT4ge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IE1hcH5ldmVudE9ialxuICAgKiBAcHJvcGVydHkge09iamVjdH0gZ01vZGVsIEdvb2dsZSBuYXRpdmUgbW9kZWwgcGFzc2VkIHRvIGV2ZW50IGhhbmRsZXJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IGV2ZW50TmFtZSBFdmVudCBuYW1lXG4gICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGFyZ3MgQXJndW1lbnRzIHBhc3NlZCB0byB0aGUgb3JpZ2luYWwgaGFuZGxlclxuICAgKiBAcHJvcGVydHkge09iamVjdH0gW21vZGVsXSBNb2RlbCByZWxhdGVkIHRvIGFuIGVsZW1lbnQsIGZpcmVkIGFuIGV2ZW50XG4gICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbcG9zaXRpb25dIENsaWNrZWQgcG9zaXRpb24gY29vcmRpbmF0ZXNcbiAgICogQHByb3BlcnR5IHtPYmplY3R9IFtwb3NpdGlvbi5sYXRpdHVkZV0gQ2xpY2tlZCBwb3NpdGlvbiBsYXRpdHVkZVxuICAgKiBAcHJvcGVydHkge09iamVjdH0gW3Bvc2l0aW9uLmxvbmdpdHVkZV0gQ2xpY2tlZCBwb3NpdGlvbiBsb25naXR1ZGVcbiAgICovXG5cblxuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lm1hcEV2ZW50SGFuZGxlck1peGluRmN0XG4gICAqIEBkZXNjcmlwdGlvbiBQcm92aWRlcyBtZXRob2RzIGZvciB0eXBlcyBjb252ZXJzaW9uXG4gICAqIEBtaXhpblxuICAgKi9cbiAgZnVuY3Rpb24gbWFwRXZlbnRIYW5kbGVyTWl4aW5GY3QoKSB7XG4gICAgLyoqXG4gICAgICogIEBwYXJhbSB7T2JqZWN0fSBnTW9kZWwgR29vZ2xlIGVsZW1lbnQgY2xhc3MgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIEZpcmVkIGV2ZW50IG5hbWVcbiAgICAgKiBAcGFyYW0ge09iamVjdHxBcnJheX0gbW9kZWwgRWxlbWVudCBtb2RlbCAoc2V0dGluZ3Mgb2JqZWN0IGxpa2Ugd2UgY3JlYXRlIGhlcmUpIG9yICdhcmdzJ1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdzXSBBcmd1bWVudHMgcGFzc2VkIHRvIGdvb2dsZSBuYXRpdmUgaGFuZGxlclxuICAgICAqIEByZXR1cm5zIHtNYXB+ZXZlbnRPYmp9XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBkZXNjcmlwdGlvbiBDcmVhdGVzIGV2ZW50IG9iamVjdCBmcm9tIGFyZ3VtZW50c1xuICAgICAqIENhbiBiZSB1c2VkIGZvciBib3RoIG1hcCBhbmQgbW9kZWwgY2xpY2tlcnNcbiAgICAgKi9cblxuICAgIHZhciBjcmVhdGVFdmVudE9iakZyb21IYW5kbGVyQXJndW1lbnRzID0gZnVuY3Rpb24gKGdNb2RlbCwgZXZlbnROYW1lLCBtb2RlbCwgYXJncykge1xuICAgICAgaWYgKCFhcmdzIHx8ICFhcmdzLmxlbmd0aCkge1xuICAgICAgICBhcmdzICA9IG1vZGVsO1xuICAgICAgICBtb2RlbCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBwb3NpdGlvbiA9IGFyZ3NbMF0gJiYgYXJnc1swXS5sYXRMbmcgJiYgZ2V0UG9zaXRpb25Gcm9tTGF0TG5nKGFyZ3NbMF0ubGF0TG5nKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ01vZGVsICAgOiBnTW9kZWwsXG4gICAgICAgIGV2ZW50TmFtZTogZXZlbnROYW1lLFxuICAgICAgICBhcmdzICAgICA6IGFyZ3MsXG4gICAgICAgIG1vZGVsICAgIDogbW9kZWwsXG4gICAgICAgIHBvc2l0aW9uIDogcG9zaXRpb25cbiAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBsYXRMbmcgR29vZ2xlIGxvbmdpdHVkZS1sYXRpdHVkZSBjbGFzcyBpbnN0YW5jZVxuICAgICAqIEByZXR1cm5zIHtNYXB+cG9zaXRpb259XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBkZXNjcmlwdGlvbiBHZXRzIGxhdGl0dWRlIGFuZCBsb25naXR1ZGUgZnJvbSBsYXRMbmcgaW5zdGFuY2VcbiAgICAgKi9cbiAgICB2YXIgZ2V0UG9zaXRpb25Gcm9tTGF0TG5nID0gZnVuY3Rpb24gKGxhdExuZykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGF0aXR1ZGUgOiBsYXRMbmcubGF0KCksXG4gICAgICAgIGxvbmdpdHVkZTogbGF0TG5nLmxuZygpXG4gICAgICB9O1xuICAgIH07XG5cblxuICAgIHZhciBtaXhpbiA9IGZ1bmN0aW9uIChwb3N0SGFuZGxlcikge1xuICAgICAgcG9zdEhhbmRsZXIgPSBwb3N0SGFuZGxlciB8fCBhbmd1bGFyLm5vb3A7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQubWFwRXZlbnRIYW5kbGVyTWl4aW5GY3RcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lm1hcEV2ZW50SGFuZGxlck1peGluRmN0I2FkZEV2ZW50SGFuZGxlclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIEV2ZW50IG5hbWVcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gY2FsbFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJlbW92ZSBoYW5kbGVyIG1ldGhvZFxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkIGV2ZW50IGhhbmRsZXIgZm9yIGdpdmVuIGV2ZW50IG5hbWVcbiAgICAgICAgICovXG4gICAgICAgIGFkZEV2ZW50SGFuZGxlcjogZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICB2YXIgaGFuZGxlck5hbWUgICA9ICdfX29uRXZlbnRPdmVycmlkZGVuXycgKyBldmVudE5hbWU7XG4gICAgICAgICAgdGhpc1toYW5kbGVyTmFtZV0gPSBjYWxsYmFjaztcblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzW2hhbmRsZXJOYW1lXSA9IG51bGw7XG4gICAgICAgICAgfS5iaW5kKHRoaXMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQubWFwRXZlbnRIYW5kbGVyTWl4aW5GY3RcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lm1hcEV2ZW50SGFuZGxlck1peGluRmN0I29uRXZlbnRIYW5kbGVyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBnT2JqZWN0IEdvb2dsZSBtYXAgY2xhc3MgaW5zdGFuY2VcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSBGaXJlZCBldmVudCBuYW1lXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBhcmdzIE1vZGVsIG9uIHdoaWNoIGV2ZW50IHdhcyBmaXJlZCBvciBhcmdzXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IFttb2RlbF0gQXJndW1lbnRzIHBhc3NlZCB0byBnb29nbGUgbmF0aXZlIGhhbmRsZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEV2ZW50IGhhbmRsZXJcbiAgICAgICAgICovXG4gICAgICAgIG9uRXZlbnRIYW5kbGVyOiBmdW5jdGlvbiAoZ09iamVjdCwgZXZlbnROYW1lKSB7XG4gICAgICAgICAgdmFyIGhhbmRsZXJOYW1lID0gJ19fb25FdmVudE92ZXJyaWRkZW5fJyArIGV2ZW50TmFtZTtcbiAgICAgICAgICB2YXIgZXZlbnRPYmogICAgPSBjcmVhdGVFdmVudE9iakZyb21IYW5kbGVyQXJndW1lbnRzLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXNbaGFuZGxlck5hbWVdKSkge1xuICAgICAgICAgICAgdGhpc1toYW5kbGVyTmFtZV0oZXZlbnRPYmopO1xuICAgICAgICAgICAgcG9zdEhhbmRsZXIoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBkZWZhdWx0SGFuZGxlck5hbWUgPSAnb24nICsgZXZlbnROYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZXZlbnROYW1lLnNsaWNlKDEpO1xuXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0aGlzW2RlZmF1bHRIYW5kbGVyTmFtZV0pKSB7XG4gICAgICAgICAgICB0aGlzW2RlZmF1bHRIYW5kbGVyTmFtZV0oZXZlbnRPYmopO1xuICAgICAgICAgICAgcG9zdEhhbmRsZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBtaXhUbzogZnVuY3Rpb24gKG9iaiwgJHNjb3BlKSB7XG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKG9iaiwgbWl4aW4oJHNjb3BlKSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzJylcbiAgICAuZmFjdG9yeSgnbWFwRXZlbnRIYW5kbGVyTWl4aW5GY3QnLCBtYXBFdmVudEhhbmRsZXJNaXhpbkZjdCk7XG59KSgpO1xuIiwie1xuICAgIGNvbnN0IGNvbmZpZyA9IGZ1bmN0aW9uICh1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlcikge1xuICAgICAgICB1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlci5jb25maWd1cmUoe1xuICAgICAgICAgICAga2V5OiAnQUl6YVN5Qmc2Y20tRkRCRlBXelJjbjM5QXVTSEdRU3JkdFZJakVvJyxcbiAgICAgICAgICAgIHY6ICczLjIzJyxcbiAgICAgICAgICAgIGxpYnJhcmllczogJ2dlb21ldHJ5J1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ3BpcE1hcHMnKVxuICAgICAgICAuY29uZmlnKGNvbmZpZyk7XG59IiwiaW50ZXJmYWNlIElNYXBFZGl0QmluZGluZ3Mge1xuICAgIFtrZXk6IHN0cmluZ106IGFueTtcblxuICAgIG92ZXJsYXk6IGFueTtcbiAgICBvbkVkaXQ6IGFueTtcbiAgICBtYXBPcHRpb25zOiBhbnk7XG4gICAgc2hvd0FjdGlvblBhbmVsOiBhbnk7XG4gICAgYWN0aW9uVHlwZXM6IGFueTtcbiAgICBjb250cm9sOiBhbnk7XG4gICAgZGlzYWJsZWQ6IGFueTtcbn1cblxuY29uc3QgTWFwRWRpdEJpbmRpbmdzOiBJTWFwRWRpdEJpbmRpbmdzID0ge1xuICAgIG92ZXJsYXk6ICc8cGlwT3ZlcmxheScsXG4gICAgb25FZGl0OiAnJj9waXBPbkVkaXQnLFxuICAgIG1hcE9wdGlvbnM6ICc9P3BpcE1hcE9wdGlvbnMnLFxuICAgIHNob3dBY3Rpb25QYW5lbDogJzw/cGlwU2hvd0FjdGlvblBhbmVsJyxcbiAgICBhY3Rpb25UeXBlczogJzw/cGlwQWN0aW9uVHlwZXMnLFxuICAgIGNvbnRyb2w6ICcmP3BpcENvbnRyb2wnLFxuICAgIGRpc2FibGVkOiAnPD9waXBEaXNhYmxlZCcsXG4gICAgZGlzYWJsZWRQb2x5Z29uczogJzw/cGlwRGlzYWJsZWRQb2x5Z29ucycsXG4gICAgZGlzYWJsZWRQb2x5Z29uc09wdGlvbnM6ICc8P3BpcERpc2FibGVkUG9seWdvbnNPcHRpb25zJyxcbiAgICBkaXNhYmxlZFBvbHlsaW5lczogJzw/cGlwRGlzYWJsZWRQb2x5bGluZXMnLFxuICAgIGRpc2FibGVkUG9seWxpbmVzT3B0aW9uczogJzw/cGlwRGlzYWJsZWRQb2x5bGluZXNPcHRpb25zJyxcbiAgICBkaXNhYmxlZENpcmNsZXM6ICc8P3BpcERpc2FibGVkQ2lyY2xlcycsXG4gICAgZGlzYWJsZWRDaXJjbGVzT3B0aW9uczogJzw/cGlwRGlzYWJsZWRDaXJjbGVzT3B0aW9ucydcbn1cblxuY2xhc3MgYWN0aW9uVHlwZXMge1xuICAgIHB1YmxpYyBzdGF0aWMgY2xlYXJNYXA6IHN0cmluZyA9ICdjbGVhcic7XG4gICAgcHVibGljIHN0YXRpYyBhZGRDaXJjbGU6IHN0cmluZyA9ICdjaXJjbGUnO1xuICAgIHB1YmxpYyBzdGF0aWMgYWRkUmVjdGFuZ2xlOiBzdHJpbmcgPSAncmVjdGFuZ2xlJztcbiAgICBwdWJsaWMgc3RhdGljIGFkZFBvbHlnb246IHN0cmluZyA9ICdwb2x5Z29uJztcbiAgICBwdWJsaWMgc3RhdGljIGFkZExpbmU6IHN0cmluZyA9ICdsaW5lJztcbn1cblxuY2xhc3MgTWFwRWRpdENoYW5nZXMgaW1wbGVtZW50cyBuZy5JT25DaGFuZ2VzT2JqZWN0LCBJTWFwRWRpdEJpbmRpbmdzIHtcbiAgICBba2V5OiBzdHJpbmddOiBuZy5JQ2hhbmdlc09iamVjdDxhbnk+O1xuXG4gICAgb3ZlcmxheTogbmcuSUNoYW5nZXNPYmplY3Q8YW55PjtcbiAgICBtYXBPcHRpb25zOiBuZy5JQ2hhbmdlc09iamVjdDxhbnk+O1xuICAgIHNob3dBY3Rpb25QYW5lbDogbmcuSUNoYW5nZXNPYmplY3Q8Ym9vbGVhbj47XG4gICAgYWN0aW9uVHlwZXM6IG5nLklDaGFuZ2VzT2JqZWN0PGFueT47XG4gICAgZGlzYWJsZWQ6IG5nLklDaGFuZ2VzT2JqZWN0PGJvb2xlYW4+O1xuICAgIGNvbnRyb2w6IGFueTtcbiAgICBvbkVkaXQ6IGFueTtcbn1cblxuXG5jbGFzcyBNYXBFZGl0Q29udHJvbGxlciB7XG4gICAgcHVibGljIG1hcCA9IHtcbiAgICAgICAgY29udHJvbDoge30sXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGRpc2FibGVEZWZhdWx0VUk6IHRydWUsXG4gICAgICAgICAgICBtYXBUeXBlSWQ6IFwic2F0ZWxsaXRlXCIsXG4gICAgICAgICAgICBwYW5Db250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgIHpvb21Db250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgIG1hcFR5cGVDb250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgIHN0cmVldFZpZXdDb250cm9sOiBmYWxzZVxuICAgICAgICB9XG4gICAgfTtcbiAgICBwdWJsaWMgZHJhd2luZ01hbmFnZXJDb250cm9sOiBhbnkgPSB7fTtcbiAgICBwdWJsaWMgZHJhd2luZ01hbmFnZXJPcHRpb25zOiBhbnkgPSB7fTtcbiAgICBwdWJsaWMgY3VycmVudE92ZXJsYXk6IGFueSA9IHt9O1xuICAgIHB1YmxpYyBhY3Rpb25UeXBlczogYW55W107XG5cbiAgICBwdWJsaWMgc2hvd0FjdGlvblBhbmVsOiBib29sZWFuO1xuICAgIHB1YmxpYyBvdmVybGF5OiBhbnk7XG4gICAgcHVibGljIG1hcE9wdGlvbnM6IGFueTtcbiAgICBwdWJsaWMgb25FZGl0OiBGdW5jdGlvbjtcbiAgICBwdWJsaWMgY29udHJvbDogRnVuY3Rpb247XG4gICAgcHVibGljIGRpc2FibGVkOiBib29sZWFuO1xuXG4gICAgcHJpdmF0ZSBfY2lyY2xlT3B0aW9ucyA9IHtcbiAgICAgICAgZmlsbENvbG9yOiAnI0Y4RTgxQycsXG4gICAgICAgIGZpbGxPcGFjaXR5OiAwLjIsXG4gICAgICAgIHN0cm9rZVdlaWdodDogMyxcbiAgICAgICAgc3Ryb2tlQ29sb3I6ICcjRjhFODFDJyxcbiAgICAgICAgY2xpY2thYmxlOiBmYWxzZSxcbiAgICAgICAgZWRpdGFibGU6ICF0aGlzLmRpc2FibGVkLFxuICAgICAgICB6SW5kZXg6IDFcbiAgICB9O1xuICAgIHByaXZhdGUgX3BvbHlnb25PcHRpb25zID0ge1xuICAgICAgICBmaWxsQ29sb3I6ICcjRjhFODFDJyxcbiAgICAgICAgZmlsbE9wYWNpdHk6IDAuMixcbiAgICAgICAgc3Ryb2tlV2VpZ2h0OiAzLFxuICAgICAgICBzdHJva2VDb2xvcjogJyNGOEU4MUMnLFxuICAgICAgICBjbGlja2FibGU6IGZhbHNlLFxuICAgICAgICBlZGl0YWJsZTogIXRoaXMuZGlzYWJsZWQsXG4gICAgICAgIGRyYWdnYWJsZTogIXRoaXMuZGlzYWJsZWQsXG4gICAgICAgIHpJbmRleDogMVxuICAgIH07XG4gICAgcHJpdmF0ZSBfcG9seWxpbmVPcHRpb25zID0ge1xuICAgICAgICBzdHJva2VXZWlnaHQ6IDYsXG4gICAgICAgIHN0cm9rZUNvbG9yOiAnI0Y4RTgxQycsXG4gICAgICAgIGNsaWNrYWJsZTogZmFsc2UsXG4gICAgICAgIGVkaXRhYmxlOiAhdGhpcy5kaXNhYmxlZCxcbiAgICAgICAgekluZGV4OiAxXG4gICAgfTtcbiAgICBwcml2YXRlIF9tYXJrZXJPcHRpb25zID0ge1xuICAgICAgICBpY29uOiB7XG4gICAgICAgICAgICBwYXRoOiAwLFxuICAgICAgICAgICAgc2NhbGU6IDQsXG4gICAgICAgICAgICBzdHJva2VXZWlnaHQ6IDgsXG4gICAgICAgICAgICBmaWxsQ29sb3I6ICcjRjhFODFDJyxcbiAgICAgICAgICAgIHN0cm9rZUNvbG9yOiAnI0Y4RTgxQycsXG4gICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLjksXG4gICAgICAgICAgICBkcmFnZ2FibGU6ICF0aGlzLmRpc2FibGVkXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBfcmVjdGFuZ2xlT3B0aW9ucyA9IHtcbiAgICAgICAgZmlsbENvbG9yOiAnI0Y4RTgxQycsXG4gICAgICAgIGZpbGxPcGFjaXR5OiAwLjIsXG4gICAgICAgIHN0cm9rZVdlaWdodDogMyxcbiAgICAgICAgc3Ryb2tlQ29sb3I6ICcjRjhFODFDJyxcbiAgICAgICAgY2xpY2thYmxlOiBmYWxzZSxcbiAgICAgICAgZWRpdGFibGU6ICF0aGlzLmRpc2FibGVkLFxuICAgICAgICBkcmFnZ2FibGU6ICF0aGlzLmRpc2FibGVkLFxuICAgICAgICB6SW5kZXg6IDFcbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgJGVsZW1lbnQ6IEpRdWVyeSxcbiAgICAgICAgcHJpdmF0ZSAkc2NvcGU6IG5nLklTY29wZSxcbiAgICAgICAgcHJpdmF0ZSAkbWRDb25zdGFudDogYW55LFxuICAgICAgICBwcml2YXRlICRkb2N1bWVudDogbmcuSURvY3VtZW50U2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHVpR21hcEdvb2dsZU1hcEFwaTogYW55XG4gICAgKSB7XG4gICAgICAgICRlbGVtZW50LmFkZENsYXNzKCdwaXAtbWFwLWVkaXQnKTtcblxuICAgICAgICB1aUdtYXBHb29nbGVNYXBBcGkudGhlbigobWFwcykgPT4ge1xuICAgICAgICAgICAgdGhpcy5kcmF3aW5nTWFuYWdlck9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgZHJhd2luZ0NvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRyYXdpbmdDb250cm9sT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogZ29vZ2xlLm1hcHMuQ29udHJvbFBvc2l0aW9uLlRPUF9DRU5URVIsXG4gICAgICAgICAgICAgICAgICAgIGRyYXdpbmdNb2RlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZHJhd2luZy5PdmVybGF5VHlwZS5DSVJDTEUsXG4gICAgICAgICAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5kcmF3aW5nLk92ZXJsYXlUeXBlLlBPTFlHT04sXG4gICAgICAgICAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5kcmF3aW5nLk92ZXJsYXlUeXBlLlBPTFlMSU5FXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNpcmNsZU9wdGlvbnM6IHRoaXMuX2NpcmNsZU9wdGlvbnMsXG4gICAgICAgICAgICAgICAgcG9seWdvbk9wdGlvbnM6IHRoaXMuX3BvbHlnb25PcHRpb25zLFxuICAgICAgICAgICAgICAgIHBvbHlsaW5lT3B0aW9uczogdGhpcy5fcG9seWxpbmVPcHRpb25zLFxuICAgICAgICAgICAgICAgIG1hcmtlck9wdGlvbnM6IHRoaXMuX21hcmtlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgcmVjdGFuZ2xlT3B0aW9uczogdGhpcy5fcmVjdGFuZ2xlT3B0aW9uc1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnJGN0cmwubWFwLmNvbnRyb2wuZ2V0R01hcCcsICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRPdmVybGF5ICYmIHRoaXMuY3VycmVudE92ZXJsYXkuc2V0TWFwICYmIF8uaXNGdW5jdGlvbih0aGlzLm1hcC5jb250cm9sWydnZXRHTWFwJ10pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50T3ZlcmxheS5zZXRNYXAodGhpcy5tYXAuY29udHJvbFsnZ2V0R01hcCddKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZml0Qm91bmRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJyRjdHJsLm1hcE9wdGlvbnMuZW1iZWRlZE1hcCcsICgpID0+IHtcbiAgICAgICAgICAgIF8uYXNzaWduKHRoaXMubWFwLCB0aGlzLm1hcE9wdGlvbnMpO1xuICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICAkc2NvcGUuJHdhdGNoKCckY3RybC5tYXBPcHRpb25zLmlzRW1iZWRlZCcsICgpID0+IHtcbiAgICAgICAgICAgIF8uYXNzaWduKHRoaXMubWFwLCB0aGlzLm1hcE9wdGlvbnMpO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJyRjdHJsLmRyYXdpbmdNYW5hZ2VyQ29udHJvbC5nZXREcmF3aW5nTWFuYWdlcicsICh2YWwpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5kcmF3aW5nTWFuYWdlckNvbnRyb2wuZ2V0RHJhd2luZ01hbmFnZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHRoaXMuZHJhd2luZ01hbmFnZXJDb250cm9sLmdldERyYXdpbmdNYW5hZ2VyKCksICdvdmVybGF5Y29tcGxldGUnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd2luZ01hbmFnZXJDb250cm9sLmdldERyYXdpbmdNYW5hZ2VyKCkuc2V0RHJhd2luZ01vZGUobnVsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRPdmVybGF5KGUub3ZlcmxheSwgZS50eXBlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkVkaXRPdmVybGF5KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIodGhpcy5kcmF3aW5nTWFuYWdlckNvbnRyb2wuZ2V0RHJhd2luZ01hbmFnZXIoKSwgJ2RyYXdpbmdtb2RlX2NoYW5nZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZHJhd2luZ01hbmFnZXJDb250cm9sLmdldERyYXdpbmdNYW5hZ2VyKCkuZ2V0RHJhd2luZ01vZGUoKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50T3ZlcmxheSAmJiB0aGlzLmN1cnJlbnRPdmVybGF5Lm1hcCkgdGhpcy5jdXJyZW50T3ZlcmxheS5zZXRNYXAobnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZERvbUxpc3RlbmVyKGRvY3VtZW50LCAna2V5dXAnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvZGUgPSAoZS5rZXlDb2RlID8gZS5rZXlDb2RlIDogZS53aGljaCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gMjcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3aW5nTWFuYWdlckNvbnRyb2wuZ2V0RHJhd2luZ01hbmFnZXIoKS5zZXREcmF3aW5nTW9kZShudWxsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gNDYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhck1hcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyAkb25EZXN0cm95KCk6IHZvaWQge1xuXG4gICAgfVxuXG4gICAgcHVibGljICRvbkNoYW5nZXMoY2hhbmdlczogTWFwRWRpdENoYW5nZXMpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNoYW5nZXMub3ZlcmxheSAmJiBjaGFuZ2VzLm92ZXJsYXkuY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNldE92ZXJsYXkodGhpcy5jb252ZXJ0VG9Hb29nbGVNYXBPdmVybGF5KGNoYW5nZXMub3ZlcmxheS5jdXJyZW50VmFsdWUpLCBjaGFuZ2VzLm92ZXJsYXkuY3VycmVudFZhbHVlLnR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRPdmVybGF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50T3ZlcmxheS5zZXREcmFnZ2FibGUoIWNoYW5nZXMuZGlzYWJsZWQuY3VycmVudFZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50T3ZlcmxheS5zZXRFZGl0YWJsZSkgdGhpcy5jdXJyZW50T3ZlcmxheS5zZXRFZGl0YWJsZSghY2hhbmdlcy5kaXNhYmxlZC5jdXJyZW50VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljICRvbkluaXQoKSB7XG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHRoaXMubWFwLCB0aGlzLm1hcE9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbnRyb2wpIHtcbiAgICAgICAgICAgIHRoaXMuY29udHJvbCh7IGNvbnRyb2w6IHRoaXMgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGZpdEJvdW5kcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hcC5jb250cm9sWydnZXRHTWFwJ10gfHwgIXRoaXMuY3VycmVudE92ZXJsYXkpIHJldHVybjtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMub3ZlcmxheS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdjaXJjbGUnOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAuY29udHJvbFsnZ2V0R01hcCddKCkuZml0Qm91bmRzKHRoaXMuY3VycmVudE92ZXJsYXkuZ2V0Qm91bmRzKCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdtYXJrZXInOiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudE92ZXJsYXkuZ2V0UG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAuY29udHJvbFsnZ2V0R01hcCddKCkucGFuVG8odGhpcy5jdXJyZW50T3ZlcmxheS5nZXRQb3NpdGlvbigpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3JlY3RhbmdsZSc6IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5jb250cm9sWydnZXRHTWFwJ10oKS5maXRCb3VuZHModGhpcy5jdXJyZW50T3ZlcmxheS5nZXRCb3VuZHMoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50T3ZlcmxheS5nZXRQYXRoKCkuZ2V0QXJyYXkoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgICAgIF8uZWFjaCh0aGlzLmN1cnJlbnRPdmVybGF5LmdldFBhdGgoKS5nZXRBcnJheSgpLCAoY29vcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzLmV4dGVuZChjb29yKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLmNvbnRyb2xbJ2dldEdNYXAnXSgpLmZpdEJvdW5kcyhib3VuZHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY29udmVydFRvR29vZ2xlTWFwT3ZlcmxheShvdmVybGF5KSB7XG4gICAgICAgIGlmIChvdmVybGF5LnR5cGUgPT09ICdwb2x5Z29uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlUG9seWdvbihvdmVybGF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvdmVybGF5LnR5cGUgPT09ICdsaW5lJyB8fCBvdmVybGF5LnR5cGUgPT09ICdwb2x5bGluZScpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVBvbHlsaW5lKG92ZXJsYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG92ZXJsYXkudHlwZSA9PT0gJ2NpcmNsZScpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUNpcmNsZShvdmVybGF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvdmVybGF5LnR5cGUgPT09ICdtYXJrZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVNYXJrZXIob3ZlcmxheSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3ZlcmxheS50eXBlID09PSAncmVjdGFuZ2xlJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlUmVjdGFuZ2xlKG92ZXJsYXkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVNYXJrZXIob3ZlcmxheTogYW55KSB7XG4gICAgICAgIGlmICgob3ZlcmxheS5wb3MgJiYgb3ZlcmxheS5wb3MuY29vcmRpbmF0ZXMpIHx8IChvdmVybGF5LmxhdGl0dWRlICYmIG92ZXJsYXkubG9uZ2l0dWRlKSkge1xuICAgICAgICAgICAgbGV0IGNlbnRlckNvb3JkcyA9IHt9O1xuICAgICAgICAgICAgY2VudGVyQ29vcmRzID0ge1xuICAgICAgICAgICAgICAgIGxhdDogb3ZlcmxheS5wb3MuY29vcmRpbmF0ZXMgPyBvdmVybGF5LnBvcy5jb29yZGluYXRlc1sxXSA6IG92ZXJsYXkubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgbG5nOiBvdmVybGF5LnBvcy5jb29yZGluYXRlcyA/IG92ZXJsYXkucG9zLmNvb3JkaW5hdGVzWzBdIDogb3ZlcmxheS5sb25naXR1ZGVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoYW5ndWxhci5leHRlbmQoXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRPcHRpb25zQnlUeXBlKCdtYXJrZXInKSxcbiAgICAgICAgICAgICAgICB7IHBvc2l0aW9uOiBjZW50ZXJDb29yZHMgfVxuICAgICAgICAgICAgKSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1hcC5jb250cm9sWydnZXRHTWFwJ10pIG1hcmtlci5zZXRNYXAodGhpcy5tYXAuY29udHJvbFsnZ2V0R01hcCddKCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gbWFya2VyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBnb29nbGUubWFwcy5DaXJjbGUodGhpcy5nZXRPcHRpb25zQnlUeXBlKCdjaXJjbGUnKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVDaXJjbGUob3ZlcmxheTogYW55KSB7XG4gICAgICAgIGlmIChvdmVybGF5LmNlbnRlciAmJiAob3ZlcmxheS5jZW50ZXIuY29vcmRpbmF0ZXMgfHwgKG92ZXJsYXkuY2VudGVyLmxhdGl0dWRlICYmIG92ZXJsYXkuY2VudGVyLmxvbmdpdHVkZSkpICYmIG92ZXJsYXkuZGlzdGFuY2UpIHtcbiAgICAgICAgICAgIGxldCBjZW50ZXJDb29yZHMgPSB7fTtcbiAgICAgICAgICAgIGNlbnRlckNvb3JkcyA9IHtcbiAgICAgICAgICAgICAgICBsYXQ6IG92ZXJsYXkuY2VudGVyLmNvb3JkaW5hdGVzID8gb3ZlcmxheS5jZW50ZXIuY29vcmRpbmF0ZXNbMV0gOiBvdmVybGF5LmNlbnRlci5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsbmc6IG92ZXJsYXkuY2VudGVyLmNvb3JkaW5hdGVzID8gb3ZlcmxheS5jZW50ZXIuY29vcmRpbmF0ZXNbMF0gOiBvdmVybGF5LmNlbnRlci5sb25naXR1ZGVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGNpcmNsZSA9IG5ldyBnb29nbGUubWFwcy5DaXJjbGUoYW5ndWxhci5leHRlbmQoXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRPcHRpb25zQnlUeXBlKCdjaXJjbGUnKSxcbiAgICAgICAgICAgICAgICB7IGNlbnRlcjogY2VudGVyQ29vcmRzLCByYWRpdXM6IG92ZXJsYXkuZGlzdGFuY2UgfVxuICAgICAgICAgICAgKSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1hcC5jb250cm9sWydnZXRHTWFwJ10pIGNpcmNsZS5zZXRNYXAodGhpcy5tYXAuY29udHJvbFsnZ2V0R01hcCddKCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gY2lyY2xlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBnb29nbGUubWFwcy5DaXJjbGUodGhpcy5nZXRPcHRpb25zQnlUeXBlKCdjaXJjbGUnKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVQb2x5Z29uKG92ZXJsYXkpIHtcbiAgICAgICAgaWYgKG92ZXJsYXkuZ2VvbWV0cnkgJiYgb3ZlcmxheS5nZW9tZXRyeS5jb29yZGluYXRlcykge1xuICAgICAgICAgICAgY29uc3QgcG9seWdvbkNvb3JkcyA9IFtdO1xuXG4gICAgICAgICAgICBfLmVhY2gob3ZlcmxheS5nZW9tZXRyeS5jb29yZGluYXRlc1swXSwgKGNvb3IpID0+IHtcbiAgICAgICAgICAgICAgICBwb2x5Z29uQ29vcmRzLnB1c2goeyBsYXQ6IGNvb3JbMV0sIGxuZzogY29vclswXSB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBwb2x5Z29uID0gbmV3IGdvb2dsZS5tYXBzLlBvbHlnb24oYW5ndWxhci5leHRlbmQoXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRPcHRpb25zQnlUeXBlKCdwb2x5Z29uJyksXG4gICAgICAgICAgICAgICAgeyBwYXRoczogcG9seWdvbkNvb3JkcyB9XG4gICAgICAgICAgICApKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubWFwLmNvbnRyb2xbJ2dldEdNYXAnXSkgcG9seWdvbi5zZXRNYXAodGhpcy5tYXAuY29udHJvbFsnZ2V0R01hcCddKCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gcG9seWdvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgZ29vZ2xlLm1hcHMuUG9seWdvbih0aGlzLmdldE9wdGlvbnNCeVR5cGUoJ3BvbHlnb24nKSk7O1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlUG9seWxpbmUob3ZlcmxheSkge1xuICAgICAgICBpZiAob3ZlcmxheS5nZW9tZXRyeSAmJiBvdmVybGF5Lmdlb21ldHJ5LmNvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICBjb25zdCBwb2x5bGluZUNvb3JkcyA9IFtdO1xuXG4gICAgICAgICAgICBfLmVhY2gob3ZlcmxheS5nZW9tZXRyeS5jb29yZGluYXRlcywgKGNvb3IpID0+IHtcbiAgICAgICAgICAgICAgICBwb2x5bGluZUNvb3Jkcy5wdXNoKHsgbGF0OiBjb29yWzFdLCBsbmc6IGNvb3JbMF0gfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgcG9seWxpbmUgPSBuZXcgZ29vZ2xlLm1hcHMuUG9seWxpbmUoYW5ndWxhci5leHRlbmQoXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRPcHRpb25zQnlUeXBlKCdsaW5lJyksXG4gICAgICAgICAgICAgICAgeyBwYXRoOiBwb2x5bGluZUNvb3JkcyB9XG4gICAgICAgICAgICApKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubWFwLmNvbnRyb2xbJ2dldEdNYXAnXSkgcG9seWxpbmUuc2V0TWFwKHRoaXMubWFwLmNvbnRyb2xbJ2dldEdNYXAnXSgpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHBvbHlsaW5lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBnb29nbGUubWFwcy5Qb2x5bGluZSh0aGlzLmdldE9wdGlvbnNCeVR5cGUoJ2xpbmUnKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVSZWN0YW5nbGUob3ZlcmxheSkge1xuICAgICAgICBpZiAob3ZlcmxheS5ib3VuZHMpIHtcbiAgICAgICAgICAgIHZhciByZWN0YW5nbGVCb3VuZHMgPSBvdmVybGF5LmJvdW5kcztcbiAgICAgICAgICAgIHZhciByZWN0YW5nbGUgPSBuZXcgZ29vZ2xlLm1hcHMuUmVjdGFuZ2xlKGFuZ3VsYXIuZXh0ZW5kKHRoaXMuZ2V0T3B0aW9uc0J5VHlwZSgncmVjdGFuZ2xlJyksIHsgYm91bmRzOiByZWN0YW5nbGVCb3VuZHMgfSkpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tYXAuY29udHJvbFsnZ2V0R01hcCddKVxuICAgICAgICAgICAgICAgIHJlY3RhbmdsZS5zZXRNYXAodGhpcy5tYXAuY29udHJvbFsnZ2V0R01hcCddKCkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gcmVjdGFuZ2xlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgZ29vZ2xlLm1hcHMuUmVjdGFuZ2xlKHRoaXMuZ2V0T3B0aW9uc0J5VHlwZSgncmVjdGFuZ2xlJykpO1xuICAgIH07XG5cbiAgICBwcml2YXRlIGdldE9wdGlvbnNCeVR5cGUodHlwZTogc3RyaW5nKTogYW55IHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdwb2x5Z29uJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gXy5jbG9uZURlZXAoYW5ndWxhci5leHRlbmQodGhpcy5fcG9seWdvbk9wdGlvbnMsIHRoaXMuZ2V0RGlzYWJsZU9wdGlvbnMoKSkpO1xuICAgICAgICAgICAgY2FzZSAnY2lyY2xlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gXy5jbG9uZURlZXAoYW5ndWxhci5leHRlbmQodGhpcy5fY2lyY2xlT3B0aW9ucywgdGhpcy5nZXREaXNhYmxlT3B0aW9ucygpKSk7XG4gICAgICAgICAgICBjYXNlICdsaW5lJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gXy5jbG9uZURlZXAoYW5ndWxhci5leHRlbmQodGhpcy5fcG9seWxpbmVPcHRpb25zLCB0aGlzLmdldERpc2FibGVPcHRpb25zKCkpKTtcbiAgICAgICAgICAgIGNhc2UgJ3BvbHlsaW5lJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gXy5jbG9uZURlZXAoYW5ndWxhci5leHRlbmQodGhpcy5fcG9seWxpbmVPcHRpb25zLCB0aGlzLmdldERpc2FibGVPcHRpb25zKCkpKTtcbiAgICAgICAgICAgIGNhc2UgJ21hcmtlcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF8uY2xvbmVEZWVwKGFuZ3VsYXIuZXh0ZW5kKHRoaXMuX21hcmtlck9wdGlvbnMsIHRoaXMuZ2V0RGlzYWJsZU9wdGlvbnMoKSkpO1xuICAgICAgICAgICAgY2FzZSAncmVjdGFuZ2xlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gXy5jbG9uZURlZXAoYW5ndWxhci5leHRlbmQodGhpcy5fcmVjdGFuZ2xlT3B0aW9ucywgdGhpcy5nZXREaXNhYmxlT3B0aW9ucygpKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldERpc2FibGVPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZWRpdGFibGU6ICF0aGlzLmRpc2FibGVkLFxuICAgICAgICAgICAgZHJhZ2dhYmxlOiAhdGhpcy5kaXNhYmxlZFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRPdmVybGF5KG92ZXJsYXksIHR5cGUsIGZpdEJvdW5kcyA9IHRydWUpIHtcbiAgICAgICAgaWYgKCFvdmVybGF5KSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5jbGVhck1hcCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRPdmVybGF5ID0gb3ZlcmxheSB8fCB7fTtcbiAgICAgICAgdGhpcy5jdXJyZW50T3ZlcmxheS50eXBlID0gdHlwZTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdjaXJjbGUnOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50T3ZlcmxheS5jZW50ZXJfY2hhbmdlZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVkaXRPdmVybGF5KCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE92ZXJsYXkucmFkaXVzX2NoYW5nZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25FZGl0T3ZlcmxheSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ21hcmtlcic6IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudE92ZXJsYXkuYWRkTGlzdGVuZXIpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE92ZXJsYXkuYWRkTGlzdGVuZXIoJ3Bvc2l0aW9uX2NoYW5nZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25FZGl0T3ZlcmxheSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdyZWN0YW5nbGUnOiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRPdmVybGF5LmFkZExpc3RlbmVyKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50T3ZlcmxheS5hZGRMaXN0ZW5lcignYm91bmRzX2NoYW5nZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25FZGl0T3ZlcmxheSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRPdmVybGF5LmdldFBhdGgpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHRoaXMuY3VycmVudE92ZXJsYXkuZ2V0UGF0aCgpLCAnc2V0X2F0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRWRpdE92ZXJsYXkoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHRoaXMuY3VycmVudE92ZXJsYXkuZ2V0UGF0aCgpLCAnaW5zZXJ0X2F0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRWRpdE92ZXJsYXkoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaXRCb3VuZHMpIHRoaXMuZml0Qm91bmRzKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkVkaXRPdmVybGF5KCkge1xuICAgICAgICBpZiAodGhpcy5vbkVkaXQpIHRoaXMub25FZGl0KHtcbiAgICAgICAgICAgIG92ZXJsYXk6IHRoaXMuY3VycmVudE92ZXJsYXksXG4gICAgICAgICAgICBib3VuZHM6IHRoaXMuY3VycmVudE92ZXJsYXkgJiYgdGhpcy5jdXJyZW50T3ZlcmxheS50eXBlID09PSAncmVjdGFuZ2xlJyA/IHtcbiAgICAgICAgICAgICAgICBub3J0aDogdGhpcy5jdXJyZW50T3ZlcmxheS5nZXRCb3VuZHMoKS5nZXROb3J0aEVhc3QoKS5sYXQoKSxcbiAgICAgICAgICAgICAgICBlYXN0OiB0aGlzLmN1cnJlbnRPdmVybGF5LmdldEJvdW5kcygpLmdldE5vcnRoRWFzdCgpLmxuZygpLFxuICAgICAgICAgICAgICAgIHNvdXRoOiB0aGlzLmN1cnJlbnRPdmVybGF5LmdldEJvdW5kcygpLmdldFNvdXRoV2VzdCgpLmxhdCgpLFxuICAgICAgICAgICAgICAgIHdlc3Q6IHRoaXMuY3VycmVudE92ZXJsYXkuZ2V0Qm91bmRzKCkuZ2V0U291dGhXZXN0KCkubG5nKCksXG4gICAgICAgICAgICB9IDoge30sXG4gICAgICAgICAgICB0eXBlOiB0aGlzLmN1cnJlbnRPdmVybGF5ID8gdGhpcy5jdXJyZW50T3ZlcmxheS50eXBlIDogbnVsbCxcbiAgICAgICAgICAgIHBhdGg6IHRoaXMuY3VycmVudE92ZXJsYXkgJiYgKHRoaXMuY3VycmVudE92ZXJsYXkudHlwZSA9PT0gJ3BvbHlnb24nIHx8IHRoaXMuY3VycmVudE92ZXJsYXkudHlwZSA9PT0gJ3BvbHlsaW5lJykgPyB0aGlzLmN1cnJlbnRPdmVybGF5LmdldFBhdGgoKSA6IFtdLFxuICAgICAgICAgICAgY2VudGVyOiB0aGlzLmN1cnJlbnRPdmVybGF5ICYmIHRoaXMuY3VycmVudE92ZXJsYXkudHlwZSA9PT0gJ2NpcmNsZScgP1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE92ZXJsYXkuZ2V0Q2VudGVyKCkgOiB0aGlzLmN1cnJlbnRPdmVybGF5ICYmIHRoaXMuY3VycmVudE92ZXJsYXkuZ2V0UG9zaXRpb24gJiYgdGhpcy5jdXJyZW50T3ZlcmxheS50eXBlID09PSAnbWFya2VyJyA/IHRoaXMuY3VycmVudE92ZXJsYXkuZ2V0UG9zaXRpb24oKSA6IHt9LFxuICAgICAgICAgICAgcmFkaXVzOiB0aGlzLmN1cnJlbnRPdmVybGF5ICYmIHRoaXMuY3VycmVudE92ZXJsYXkudHlwZSA9PT0gJ2NpcmNsZScgPyB0aGlzLmN1cnJlbnRPdmVybGF5LmdldFJhZGl1cygpIDoge31cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNob3dBY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5hY3Rpb25UeXBlcyA/IHRydWUgOiB0aGlzLmFjdGlvblR5cGVzLmluY2x1ZGVzKGFjdGlvbik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBzaG93UGFuZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNob3dBY3Rpb25QYW5lbCA9PT0gZmFsc2UgPyBmYWxzZSA6IHRydWU7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZENpcmNsZSgpIHtcbiAgICAgICAgdGhpcy5kcmF3aW5nTWFuYWdlck9wdGlvbnMuZHJhd2luZ01vZGUgPSBnb29nbGUubWFwcy5kcmF3aW5nLk92ZXJsYXlUeXBlLkNJUkNMRTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkUG9seWdvbigpIHtcbiAgICAgICAgdGhpcy5kcmF3aW5nTWFuYWdlck9wdGlvbnMuZHJhd2luZ01vZGUgPSBnb29nbGUubWFwcy5kcmF3aW5nLk92ZXJsYXlUeXBlLlBPTFlHT047XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBhZGRSZWN0YW5nbGUoKSB7XG4gICAgICAgIHRoaXMuZHJhd2luZ01hbmFnZXJPcHRpb25zLmRyYXdpbmdNb2RlID0gZ29vZ2xlLm1hcHMuZHJhd2luZy5PdmVybGF5VHlwZS5SRUNUQU5HTEU7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZExpbmUoKSB7XG4gICAgICAgIHRoaXMuZHJhd2luZ01hbmFnZXJPcHRpb25zLmRyYXdpbmdNb2RlID0gZ29vZ2xlLm1hcHMuZHJhd2luZy5PdmVybGF5VHlwZS5QT0xZTElORTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkTWFya2VyKCkge1xuICAgICAgICB0aGlzLmRyYXdpbmdNYW5hZ2VyT3B0aW9ucy5kcmF3aW5nTW9kZSA9IGdvb2dsZS5tYXBzLmRyYXdpbmcuT3ZlcmxheVR5cGUuTUFSS0VSO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhck1hcCgpIHtcbiAgICAgICAgdGhpcy5kcmF3aW5nTWFuYWdlck9wdGlvbnMuZHJhd2luZ01vZGUgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50T3ZlcmxheSAmJiB0aGlzLmN1cnJlbnRPdmVybGF5Lm1hcCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50T3ZlcmxheS5zZXRNYXAobnVsbCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRPdmVybGF5ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25FZGl0T3ZlcmxheSgpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmxldCBjb25maWcgPSBmdW5jdGlvbiAodWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIpIHtcbiAgICB1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlci5jb25maWd1cmUoe1xuICAgICAgICBsaWJyYXJpZXM6ICdkcmF3aW5nJ1xuICAgIH0pO1xufTtcblxuKCgpID0+IHtcbiAgICBhbmd1bGFyLm1vZHVsZSgncGlwTWFwc0VkaXQnKVxuICAgICAgICAuY29tcG9uZW50KCdwaXBNYXBFZGl0Jywge1xuICAgICAgICAgICAgYmluZGluZ3M6IE1hcEVkaXRCaW5kaW5ncyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnZWRpdC9NYXBFZGl0Lmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogTWFwRWRpdENvbnRyb2xsZXIsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICckY3RybCdcbiAgICAgICAgfSlcbiAgICAgICAgLmNvbmZpZyhjb25maWcpO1xufSkoKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzRWRpdCcsIFtdKTtcblxuaW1wb3J0ICcuL01hcEVkaXQnOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gTWFwRWxlbWVudHNDdHJsRmN0KCkge1xuICAgICAgICAvKkBuZ0luamVjdCovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgQ29udHJvbGxlclxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsXG4gICAgICAgICAqIEBtaXhlcyBwaXBNYXBDb21wb25lbnQubWFwRXZlbnRIYW5kbGVyTWl4aW5GY3RcbiAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBDb250cm9sbGVyIGZvciBhIG1hcCBjb21wb25lbnQgKGRpcmVjdGl2ZSlcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIE1hcEVsZW1lbnRzQ3RybCgkaW5qZWN0b3IsICRzY29wZSkge1xuICAgICAgICAgICAgdmFyIG1hcEV2ZW50SGFuZGxlck1peGluRmN0ID0gJGluamVjdG9yLmdldCgnbWFwRXZlbnRIYW5kbGVyTWl4aW5GY3QnKTtcbiAgICAgICAgICAgIG1hcEV2ZW50SGFuZGxlck1peGluRmN0Lm1peFRvKHRoaXMsICRzY29wZS4kYXBwbHlBc3luYy5iaW5kKCRzY29wZSkpO1xuXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2wgPSB7fTtcbiAgICAgICAgICAgIHRoaXMucG9wVXBPcGVuZWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5waXBNYXBIZWxwZXJTcnYgPSAkaW5qZWN0b3IuZ2V0KCdwaXBNYXBIZWxwZXJTcnYnKTtcbiAgICAgICAgICAgIHRoaXMudWlHbWFwSXNSZWFkeSA9ICRpbmplY3Rvci5nZXQoJ3VpR21hcElzUmVhZHknKTtcbiAgICAgICAgICAgIHRoaXMuJHEgPSAkaW5qZWN0b3IuZ2V0KCckcScpO1xuICAgICAgICB9XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsIyRvbkluaXRcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEluaXQgY29tcG9uZW50XG4gICAgICAgICAqL1xuICAgICAgICBNYXBFbGVtZW50c0N0cmwucHJvdG90eXBlLiRvbkluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgICAgICAgICogQHByb3BlcnR5T2YgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybFxuICAgICAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybCNjb21wb25lbnRPcHRpb25zXG4gICAgICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvbiBPcHRpb25zIGZyb20gb3V0ZXIgc2NvcGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gYW5ndWxhci5tZXJnZSh7fSwgdGhpcy5kZWZhdWx0T3B0aW9ucywgdGhpcy5jb21wb25lbnRPcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMubW9kZWxzID0gdGhpcy5tb2RlbHMgfHwgW107XG5cbiAgICAgICAgICAgIHRoaXMuZXh0ZXJuYWxEYmxjbGljayA9IHRoaXMub3B0aW9ucy5ldmVudHMgJiYgdGhpcy5vcHRpb25zLmV2ZW50cy5kYmxjbGljayA/IHRoaXMub3B0aW9ucy5ldmVudHMuZGJsY2xpY2sgOiBhbmd1bGFyLm5vb3A7XG4gICAgICAgICAgICB0aGlzLmV4dGVybmFsQ2xpY2sgPSB0aGlzLm9wdGlvbnMuZXZlbnRzICYmIHRoaXMub3B0aW9ucy5ldmVudHMuY2xpY2sgPyB0aGlzLm9wdGlvbnMuZXZlbnRzLmNsaWNrIDogYW5ndWxhci5ub29wO1xuICAgICAgICAgICAgdGhpcy5leHRlcm5hbFJpZ2h0Y2xpY2sgPSB0aGlzLm9wdGlvbnMuZXZlbnRzICYmIHRoaXMub3B0aW9ucy5ldmVudHMucmlnaHRjbGljayA/IHRoaXMub3B0aW9ucy5ldmVudHMucmlnaHRjbGljayA6IGFuZ3VsYXIubm9vcDtcblxuICAgICAgICAgICAgdGhpcy5ldmVudHMgPSBfLmV4dGVuZCh0aGlzLm9wdGlvbnMuZXZlbnRzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGJsY2xpY2s6IHRoaXMub25FdmVudEhhbmRsZXIuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgbW91c2Vkb3duOiB0aGlzLm9uRXZlbnRIYW5kbGVyLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIG1vdXNldXA6IHRoaXMub25FdmVudEhhbmRsZXIuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRjbGljazogdGhpcy5vbkV2ZW50SGFuZGxlci5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICBjbGljazogdGhpcy5vbkV2ZW50SGFuZGxlci5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbl9jaGFuZ2VkOiAob2JqRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9wdXBQb3NpdGlvbihvYmpFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIE1hcEVsZW1lbnRzQ3RybC5wcm90b3R5cGUuJG9uRGVzdHJveSA9IGZ1bmN0aW9uICgpIHsgXG4gICAgICAgICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgICAgICogQHByb3BlcnR5T2YgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsI2RlZmF1bHRPcHRpb25zXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBEZWZhdWx0IG1hcCBjb21wb25lbnRzXG4gICAgICAgICAqL1xuICAgICAgICBNYXBFbGVtZW50c0N0cmwucHJvdG90eXBlLmRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICAgICAgcG9wdXA6IGZhbHNlLFxuICAgICAgICAgICAgZml0Qm91bmRzOiBmYWxzZVxuICAgICAgICB9O1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBFbGVtZW50c0N0cmxcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybCNpbml0XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXBDdHJsIEluc3RhbmNlIG9mIHRoZSBtYXAgY29udHJvbGxlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gSW5pdCBlZGl0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBNYXBFbGVtZW50c0N0cmwucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAobWFwQ3RybCkge1xuICAgICAgICAgICAgdGhpcy5tYXBDdHJsID0gbWFwQ3RybDtcbiAgICAgICAgICAgIHRoaXMuaW5pdFBvcHVwKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgTWFwRWxlbWVudHNDdHJsLnByb3RvdHlwZS5zZXROZXdPcHRpb25zID0gZnVuY3Rpb24gKHBvcHVwT3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKHRoaXMucG9wdXApIHRoaXMucG9wdXAuc2V0TmV3T3B0aW9ucyhwb3B1cE9wdGlvbnMpO1xuICAgICAgICB9O1xuXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsI2luaXRQb3B1cFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gSW5pdCBwb3B1cCBmb3IgYW4gZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgTWFwRWxlbWVudHNDdHJsLnByb3RvdHlwZS5pbml0UG9wdXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5wb3B1cCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnBvcHVwID0gYW5ndWxhci5tZXJnZSh7fSwgdGhpcy5vcHRpb25zLnBvcHVwLCB7XG4gICAgICAgICAgICAgICAgb25TaG93OiB0aGlzLm9uU2hvd1BvcHVwLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgb25DbG9zZTogdGhpcy5vbkNsb3NlUG9wdXAuYmluZCh0aGlzKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMucGlwTWFwSGVscGVyU3J2LndoZW5SZWFkeS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwID0gdGhpcy5tYXBDdHJsLmNyZWF0ZUVsZW1lbnRQb3B1cCh0aGlzLm9wdGlvbnMucG9wdXApO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsXG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBFbGVtZW50c0N0cmwjb25TaG93UG9wdXBcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG1vZGVsIE1vZGVsIHRvIHdoaWNoIHBvcHVwIGlzIHNob3duXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgb2YgdGhlIHBvcHVwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBPbiBwb3B1cCBzaG93IGhhbmRsZXJcbiAgICAgICAgICovXG4gICAgICAgIE1hcEVsZW1lbnRzQ3RybC5wcm90b3R5cGUub25TaG93UG9wdXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnBvcFVwT3BlbmVkID0gdHJ1ZTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsXG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBFbGVtZW50c0N0cmwjb25DbG9zZVBvcHVwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBPbiBwb3B1cCBjbG9zZSBoYW5kbGVyXG4gICAgICAgICAqL1xuICAgICAgICBNYXBFbGVtZW50c0N0cmwucHJvdG90eXBlLm9uQ2xvc2VQb3B1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMucG9wVXBPcGVuZWQgPSBmYWxzZTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsXG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBFbGVtZW50c0N0cmwjZ2V0Qm91bmRzVG9GaXRBc3luY1xuICAgICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBQcm9taXNlIGZvciBnZXR0aW5nIGJvdW5kc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gR2V0cyBib3VuZHMgZnJvbSBtb2RlbCBwb3NpdGlvbnMgdG8gZml0IHRoZW0uIERvZXMgc28gYXN5bmMsIGFmdGVyIG1hcCBpcyByZWFkeVxuICAgICAgICAgKiBJZiBvcHRpb25zIGZvciBmaXR0aW5nIGlzIHN3aXRjaGVkIG9mZiAtIGl0IHJlamVjdHMgdGhlIHByb21pc2VcbiAgICAgICAgICovXG4gICAgICAgIE1hcEVsZW1lbnRzQ3RybC5wcm90b3R5cGUuZ2V0Qm91bmRzVG9GaXRBc3luYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmZpdEJvdW5kcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRxLnJlamVjdCgnRml0IGlzIHN3aXRjaGVkIG9mZicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51aUdtYXBJc1JlYWR5LnByb21pc2UoKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Qm91bmRzKCk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsXG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBFbGVtZW50c0N0cmwjZ2V0Qm91bmRzXG4gICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gQm91bmRzIGZvciB0aGUgbW9kZWxzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBHZXRzIGJvdW5kcyBmcm9tIG1vZGVsIHBvc2l0aW9ucyB0byBmaXQgdGhlbVxuICAgICAgICAgKi9cbiAgICAgICAgTWFwRWxlbWVudHNDdHJsLnByb3RvdHlwZS5nZXRCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5waXBNYXBIZWxwZXJTcnYuZ2V0Qm91bmRzRnJvbUNvb3JkaW5hdGVzKHRoaXMuZ2V0QWxsUG9zaXRpb25zKCkpO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBFbGVtZW50c0N0cmxcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybCNnZXRBbGxQb3NpdGlvbnNcbiAgICAgICAgICogQHJldHVybnMge0FycmF5PE9iamVjdD59IFBvc2l0aW9ucyBmb3IgZ2l2ZW4gbW9kZWwgb3IgYW4gZW1wdHkgYXJyYXlcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEdldHMgbW9kZWwgcG9zaXRpb25zIGFycmF5LlxuICAgICAgICAgKi9cbiAgICAgICAgTWFwRWxlbWVudHNDdHJsLnByb3RvdHlwZS5nZXRBbGxQb3NpdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIWFuZ3VsYXIuaXNBcnJheSh0aGlzLm1vZGVscykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVscy5tYXAoZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UG9zaXRpb24obW9kZWwpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsI2dldFBvc2l0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtb2RlbCBNb2RlbCB0byBnZXQgcG9zaXRpb24gZm9yXG4gICAgICAgICAqIEByZXR1cm5zIHtBcnJheTxNYXB+cG9zaXRpb24+fDxNYXB+cG9zaXRpb24+fSBQb3NpdGlvbiBmb3IgYSBtb2RlbFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gRGVmYXVsdCBtYWtlciBwb3NpdGlvbiBnZXR0ZXIuIFdlIHVzZSBpdCBpZiBjb29yZHMgaXMgc2V0IHRvICdzZWxmJ1xuICAgICAgICAgKi9cbiAgICAgICAgTWFwRWxlbWVudHNDdHJsLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChtb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBsYXRpdHVkZTogbW9kZWwubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBtb2RlbC5sb25naXR1ZGVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsI2lzTW9kZWxFbXB0eVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbW9kZWwgTW9kZWwgdG8gY2hlY2sgcG9zaXRpb24gZm9yXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGN1cnJlbnQgbW9kZWwgaXMgZW1wdHlcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENoZWNrcyB3aGV0aGVyIG1vZGVsIGlzIGVtcHR5XG4gICAgICAgICAqL1xuICAgICAgICBNYXBFbGVtZW50c0N0cmwucHJvdG90eXBlLmlzTW9kZWxFbXB0eSA9IGZ1bmN0aW9uIChtb2RlbCkge1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbihtb2RlbCk7XG4gICAgICAgICAgICByZXR1cm4gIXBvc2l0aW9uLmxhdGl0dWRlIHx8ICFwb3NpdGlvbi5sb25naXR1ZGU7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsI29uQ2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtNYXB+ZXZlbnRPYmp9IGV2ZW50T2JqIEV2ZW50IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gSGFuZGxlciBvbiBtb2RlbCBjbGlja1xuICAgICAgICAgKi9cbiAgICAgICAgTWFwRWxlbWVudHNDdHJsLnByb3RvdHlwZS5vbkRibGNsaWNrID0gZnVuY3Rpb24gKGV2ZW50T2JqKSB7XG4gICAgICAgICAgICB0aGlzLmV4dGVybmFsRGJsY2xpY2soZXZlbnRPYmopO1xuICAgICAgICAgICAgLy90aGlzLmNvcnJlY3RDaXJjbGVNb2RlbChldmVudE9iaik7XG4gICAgICAgICAgICAvL3RoaXMudG9nZ2xlUG9wdXAoZXZlbnRPYmopO1xuICAgICAgICB9O1xuXG4gICAgICAgIE1hcEVsZW1lbnRzQ3RybC5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uIChldmVudE9iaikge1xuICAgICAgICAgICAgdGhpcy5leHRlcm5hbENsaWNrKGV2ZW50T2JqKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvbmdDbGljaykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdENpcmNsZU1vZGVsKGV2ZW50T2JqKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVBvcHVwKGV2ZW50T2JqKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvbmdDbGljayA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9O1xuXG4gICAgICAgIE1hcEVsZW1lbnRzQ3RybC5wcm90b3R5cGUuY29ycmVjdENpcmNsZU1vZGVsID0gZnVuY3Rpb24gKGV2ZW50T2JqKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnRPYmouZ01vZGVsLnJhZGl1cyAmJiBldmVudE9iai5nTW9kZWwuY2VudGVyKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1vZGVsID0ge307XG5cbiAgICAgICAgICAgICAgICBfLmVhY2godGhpcy5tb2RlbHMsIChtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtW3RoaXMub3B0aW9ucy5jZW50ZXJdICYmIG1bdGhpcy5vcHRpb25zLnJhZGl1c10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtW3RoaXMub3B0aW9ucy5jZW50ZXJdLmxhdGl0dWRlLnRvRml4ZWQoNSkgPT0gZXZlbnRPYmouZ01vZGVsLmNlbnRlci5sYXQoKS50b0ZpeGVkKDUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbVt0aGlzLm9wdGlvbnMuY2VudGVyXS5sb25naXR1ZGUudG9GaXhlZCg1KSA9PSBldmVudE9iai5nTW9kZWwuY2VudGVyLmxuZygpLnRvRml4ZWQoNSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtW3RoaXMub3B0aW9ucy5yYWRpdXNdLnRvRml4ZWQoNSkgPT09IGV2ZW50T2JqLmdNb2RlbC5yYWRpdXMudG9GaXhlZCg1KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsID0gbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZXZlbnRPYmoubW9kZWwgPSBtb2RlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBNYXBFbGVtZW50c0N0cmwucHJvdG90eXBlLm9uUmlnaHRjbGljayA9IGZ1bmN0aW9uIChldmVudE9iaikge1xuICAgICAgICAgICAgdGhpcy5leHRlcm5hbFJpZ2h0Y2xpY2soZXZlbnRPYmopO1xuICAgICAgICAgICAgdGhpcy5jb3JyZWN0Q2lyY2xlTW9kZWwoZXZlbnRPYmopO1xuICAgICAgICAgICAgdGhpcy50b2dnbGVQb3B1cChldmVudE9iaik7XG4gICAgICAgIH07XG5cbiAgICAgICAgTWFwRWxlbWVudHNDdHJsLnByb3RvdHlwZS5vbk1vdXNlZG93biA9IGZ1bmN0aW9uIChldmVudE9iaikge1xuICAgICAgICAgICAgdGhpcy5zdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIE1hcEVsZW1lbnRzQ3RybC5wcm90b3R5cGUub25Nb3VzZXVwID0gZnVuY3Rpb24gKGV2ZW50T2JqKSB7XG4gICAgICAgICAgICB0aGlzLmVuZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgdGhpcy5sb25nQ2xpY2sgPSAodGhpcy5lbmQgLSB0aGlzLnN0YXJ0ID4gMzAwKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsI3RvZ2dsZVBvcHVwXG4gICAgICAgICAqIEBwYXJhbSB7TWFwfmV2ZW50T2JqfSBldmVudE9iaiBFdmVudCBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFRvZ2dsZXMgcG9wdXBcbiAgICAgICAgICovXG4gICAgICAgIE1hcEVsZW1lbnRzQ3RybC5wcm90b3R5cGUudG9nZ2xlUG9wdXAgPSBmdW5jdGlvbiAoZXZlbnRPYmopIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wb3B1cCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wb3B1cC50b2dnbGUoZXZlbnRPYmopO1xuICAgICAgICB9O1xuXG4gICAgICAgIE1hcEVsZW1lbnRzQ3RybC5wcm90b3R5cGUuY2xvc2VQb3B1cCA9IGZ1bmN0aW9uIChldmVudE9iaikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBvcHVwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnBvcHVwLmNsb3NlKCk7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsI2dldE1vZGVsc1xuICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXk8T2JqZWN0Pn0gQXJyYXkgb2YgY3VycmVudCBtb2RlbHNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgY3VycmVudCBtb2RlbHMgbGlzdFxuICAgICAgICAgKi9cbiAgICAgICAgTWFwRWxlbWVudHNDdHJsLnByb3RvdHlwZS5nZXRNb2RlbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbHM7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsI2NoZWNrQ29udGFpbnNNb2RlbFxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbW9kZWwgTW9kZWwgdG8gY2hlY2tcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgY29udGFpbnNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENoZWNrIHdoZXRoZXIgY3VycmVudCBlbGVtZW50IGNvbnRhaW5zIGdpdmVuIG1vZGVsXG4gICAgICAgICAqL1xuICAgICAgICBNYXBFbGVtZW50c0N0cmwucHJvdG90eXBlLmNoZWNrQ29udGFpbnNNb2RlbCA9IGZ1bmN0aW9uIChtb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWxzLmluZGV4T2YobW9kZWwpID4gLTE7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsI2dldFBsdXJhbFxuICAgICAgICAgKiBAcGFyYW0geyp9IGlkIElkIG9mIHRoZSBtb2RlbCB0byBnZXQgcGx1cmFsIGZvclxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBQbHVyYWwgbW9kZWwgd2l0aCBnaXZlbiBpZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBwbHVyYWwgbW9kZWxzIHdpdGggZ2l2ZW4gaWQuXG4gICAgICAgICAqL1xuICAgICAgICBNYXBFbGVtZW50c0N0cmwucHJvdG90eXBlLmdldFBsdXJhbCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGx1cmFscygpLmdldChpZCk7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsI2dldFBsdXJhbHNcbiAgICAgICAgICogQHJldHVybnMge09iamVjdH0gUGx1cmFsIG9iamVjdCB3aXRoIG1ldGhvZHNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgcGx1cmFscyBtb2RlbHNcbiAgICAgICAgICovXG4gICAgICAgIE1hcEVsZW1lbnRzQ3RybC5wcm90b3R5cGUuZ2V0UGx1cmFscyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2wuZ2V0UGx1cmFscygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIE1hcEVsZW1lbnRzQ3RybC5wcm90b3R5cGUudXBkYXRlUG9wdXBQb3NpdGlvbiA9IGZ1bmN0aW9uIChvYmpFdmVudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucG9wVXBPcGVuZWQgPT09IG9iakV2ZW50Lm1vZGVsLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3B1cC5zZXRQb3NpdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlOiBvYmpFdmVudC5wb3NpdGlvbi5sYXQoKSxcbiAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBvYmpFdmVudC5wb3NpdGlvbi5sbmcoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsI2ZyZWV6ZU1hcFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gRnJlZXplcyBtYXBcbiAgICAgICAgICovXG4gICAgICAgIE1hcEVsZW1lbnRzQ3RybC5wcm90b3R5cGUuZnJlZXplTWFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwQ3RybC5mcmVlemUoKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsXG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBFbGVtZW50c0N0cmwjdW5mcmVlemVNYXBcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIHVuZnJlZXplcyBtYXBcbiAgICAgICAgICovXG4gICAgICAgIE1hcEVsZW1lbnRzQ3RybC5wcm90b3R5cGUudW5mcmVlemVNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXBDdHJsLnVuZnJlZXplKCk7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsI3NldEN1cnNvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2N1cnNvcl0gQ3Vyc29yIGNvZGUuIElmIGVtcHR5IC0gdGhlIGRlZmF1bHQgYmVoYXZpb3VyIGlzIHJlc3RvcmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBPdmVycmlkZXMgY3Vyc29yIGZvciB0aGUgbWFwIG9yIHNldCBiYWNrIGRlZmF1bHQgYmVoYXZpb3VyIGlmIGN1cnNvciBpcyBub3QgcHJvdmlkZWRcbiAgICAgICAgICogQHRvZG86IFRoaXMgaXMgbm90IHVzZWQgY3VycmVudGx5LiBJdCB3YXMgZGV2ZWxvcGVkIHRvIGFibGUgY2hhbmdlIGN1cnNvcnMgZnJvbSBhY3Rpb25zXG4gICAgICAgICAqL1xuICAgICAgICBNYXBFbGVtZW50c0N0cmwucHJvdG90eXBlLnNldEN1cnNvciA9IGZ1bmN0aW9uIChjdXJzb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcEN0cmwuc2V0Q3Vyc29yKGN1cnNvcik7XG4gICAgICAgIH07XG5cblxuICAgICAgICByZXR1cm4gTWFwRWxlbWVudHNDdHJsO1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzRWxlbWVudHMnKVxuICAgICAgICAuZmFjdG9yeSgnTWFwRWxlbWVudHNDdHJsRmN0JywgTWFwRWxlbWVudHNDdHJsRmN0KTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBNYXB+UG9wdXBCcmVha3BvaW50XG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgYnJlYWtwb2ludCAoYWNjb3JkaW5nIHRvIG1hdGVyaWFsIGRvY3MpXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoIFdpZHRoIG9mIHRoZSBvZmZzZXRcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0IEhlaWdodCBvZiB0aGUgb2Zmc2V0XG4gICAgICovXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQucGlwTWFwRWxlbWVudHNGY3RcbiAgICAgKiBAcmVzdHJpY3QgQUVcbiAgICAgKlxuICAgICAqIEBzY29wZVxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXk8T2JqZWN0Pn0gcGlwTW9kZWxzIE1vZGVscyBhcnJheVxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBwaXBPcHRpb25zIE9wdGlvbnMgZm9yIGEgbWFwIGVsZW1lbnRzXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBbcGlwT3B0aW9ucy5maXRCb3VuZHMgPSB0cnVlXSBXaGV0aGVyIG1hcCBmaXQgYm91bmRzIG1ldGhvZCBzaG91bGQgd29ya1xuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbnxPYmplY3R9IFtwaXBPcHRpb25zLnBvcHVwID0gZmFsc2VdIFBvcHVwIGZvciBhbiBlbGVtZW50IHNldHRpbmdzLlxuICAgICAqIElmIHNldCB0byBmYWxzZSAtIHBvcHVwIGlzIGRpc2FibGVkXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtwaXBPcHRpb25zLnBvcHVwLmNsYXNzTmFtZV0gQ2xhc3MgbmFtZSB0byBhZGQgdG8gYSBwb3B1cFxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbcGlwT3B0aW9ucy5wb3B1cC50ZW1wbGF0ZVVybF0gVGVtcGxhdGUgdXJsIGZvciBhIHBvcHVwXG4gICAgICogQHByb3BlcnR5IHtPYmplY3R9IFtwaXBPcHRpb25zLnBvcHVwLm9mZnNldF0gT2Zmc2V0IGZvciBhIHBvcHVwIGZyb20gY3VycmVudCBwb3NpdGlvblxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGlwT3B0aW9ucy5wb3B1cC53aWR0aF0gV2lkdGggb2YgdGhlIG9mZnNldFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGlwT3B0aW9ucy5wb3B1cC5oZWlnaHRdIEhlaWdodCBvZiB0aGUgb2Zmc2V0XG4gICAgICogQHByb3BlcnR5IHtBcnJheS48TWFwflBvcHVwQnJlYWtwb2ludD59IFtwaXBPcHRpb25zLnBvcHVwLmJyZWFrcG9pbnRzXSBCcmVha3BvaW50cyB0byBjaGFuZ2Ugb2Zmc2V0IGZvclxuICAgICAqIEFycmF5IGlzIHVzZWQgZm9yIGFiaWxpdHkgdG8gcHJpb3JpdGl6ZSB0aGVtLiBJZiBubyBicmVha3BvaW50IGlzIG1hdGNoZWQgLSBkZWZhdWx0IG9mZnNldCBpcyB1c2VkXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBUaGlzIGlzIGEgdGVtcGxhdGUgZm9yIGEgZGlyZWN0aXZlLlxuICAgICAqIFlvdSBTSE9VTEQgcHJvdmlkZSBwcm9wZXIgJ3JlcXVpcmUnLCAnY29udHJvbGxlcicgYW5kICd0ZW1wbGF0ZScgcHJvcGVydGllc1xuICAgICAqIEFsc28geW91IGNhbiBkZWNvcmF0ZSBhbnl0aGluZyBpbiBpdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBpcE1hcEVsZW1lbnRzRmN0KCR0aW1lb3V0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdHJpY3Q6ICdBRScsXG4gICAgICAgICAgICBzY29wZToge30sXG4gICAgICAgICAgICByZXF1aXJlOiBbJ15waXBNYXAnLCAncGlwTWFwRWxlbWVudHMnXSxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICRjb250cm9sbGVycykge1xuICAgICAgICAgICAgICAgIHZhciBtYXBDdHJsID0gJGNvbnRyb2xsZXJzWzBdO1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50Q29udHJvbGxlciA9ICRjb250cm9sbGVyc1sxXTtcblxuICAgICAgICAgICAgICAgIGVsZW1lbnRDb250cm9sbGVyLmluaXQobWFwQ3RybCk7XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKCdjdHJsLm1vZGVscycsIGZ1bmN0aW9uIChtb2RlbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudENvbnRyb2xsZXIuZ2V0Qm91bmRzVG9GaXRBc3luYygpLnRoZW4oZnVuY3Rpb24gKGJvdW5kcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpeCBpc3N1ZSB3aXRoIG1hcCB6b29taW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdGltZW91dCBiZWNhdXNlIG1hcCBpcyBmaXQgYm91bmQgb24gdGhpcyBjYWxsLCBidXQgdGhlbiBpdCBmaXRzIGdpdmVuIHpvb20gYW5kIGJvdW5kcyBhcmUgbG9zdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KG1hcEN0cmwuZml0TWFwVG9Cb3VuZHMuYmluZChtYXBDdHJsLCBib3VuZHMpLCAyMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goJ2N0cmwuY29tcG9uZW50T3B0aW9ucy5wb3B1cCcsIChwb3B1cE9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudENvbnRyb2xsZXIuc2V0TmV3T3B0aW9ucyhwb3B1cE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlcjoge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudE9wdGlvbnM6ICc9cGlwT3B0aW9ucycsXG4gICAgICAgICAgICAgICAgbW9kZWxzOiAnPXBpcE1vZGVscydcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdNYXBFbGVtZW50c0N0cmwnLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAnY3RybCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2VsZW1lbnRzL21hcC1lbGVtZW50cy5odG1sJ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzRWxlbWVudHMnKVxuICAgICAgICAuZmFjdG9yeSgncGlwTWFwRWxlbWVudHNGY3QnLCBwaXBNYXBFbGVtZW50c0ZjdCk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lm1hcEVsZW1lbnRzUmVxdWlyZUZjdFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb24gUHJvdmlkZSBtZXRob2RzIGZvciByZXF1aXJpbmcgZWxlbWVudHMsIGRldGVjdCB0aGVyZSBjb250cm9sbGVycyBhbmQgdHlwZXNcbiAgICovXG4gIGZ1bmN0aW9uIG1hcEVsZW1lbnRzUmVxdWlyZUZjdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgICAqIEBwcm9wZXJ0eU9mIHBpcE1hcENvbXBvbmVudC5tYXBFbGVtZW50c1JlcXVpcmVGY3RcbiAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5tYXBFbGVtZW50c1JlcXVpcmVGY3QjZWxlbWVudHNcbiAgICAgICAqXG4gICAgICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICAgICAqL1xuICAgICAgZWxlbWVudHM6IFsnP15waXBNYXBNYXJrZXJzJywgJz9ecGlwTWFwUG9seWxpbmVzJywgJz9ecGlwTWFwUG9seWdvbnMnLCAnP15waXBNYXBLbWwnXSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQubWFwRWxlbWVudHNSZXF1aXJlRmN0XG4gICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQubWFwRWxlbWVudHNSZXF1aXJlRmN0I2dldFR5cGVcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0FycmF5PE9iamVjdD59ICRjb250cm9sbGVycyBDb250cm9sbGVycyBpbnN0YW5jZXMgd2hpY2ggd2VyZSByZXF1aXJlZFxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydEluZGV4ID0gMF0gSW5kZXggdG8gc3RhcnQgc2VhcmNoaW5nIGZyb21cbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFR5cGUgb2YgdGhlIGVsZW1lbnQgb24gd2hpY2ggdGhpcyBkaXJlY3RpdmUgaXMgdXNlZFxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBEZXRlY3RzIGJ5IGNvbnRyb2xsZXJzIG5hbWVzIGVsZW1lbnQgdHlwZSBvbiB3aGljaCB0aGlzIGRpcmVjdGl2ZSBpcyBiZWluZyB1c2VkXG4gICAgICAgKi9cbiAgICAgIGdldFR5cGU6IGZ1bmN0aW9uICgkY29udHJvbGxlcnMsIHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gJGNvbnRyb2xsZXJzLnNsaWNlKHN0YXJ0SW5kZXgpXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChjdHJsLCBpbmRleCkge1xuICAgICAgICAgICAgICByZXR1cm4gY3RybCAmJiB0aGlzLmVsZW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgIH0sIHRoaXMpXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChjdHJsTmFtZSkge1xuICAgICAgICAgICAgICByZXR1cm4gY3RybE5hbWU7XG4gICAgICAgICAgICB9KVswXVxuICAgICAgICAgICAgLnJlcGxhY2UoJz9ecGlwTWFwJywgJycpXG4gICAgICAgICAgICAudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGlwLW1hcC1lZGl0YWJsZS1lbGVtZW50IGNhbiBiZSB1c2VkIG9ubHkgd2l0aCBtYXAgZWxlbWVudHMgZGlyZWN0aXZlcycpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5tYXBFbGVtZW50c1JlcXVpcmVGY3RcbiAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5tYXBFbGVtZW50c1JlcXVpcmVGY3QjZ2V0Q29udHJvbGxlclxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0Pn0gJGNvbnRyb2xsZXJzIENvbnRyb2xsZXJzIGluc3RhbmNlcyB3aGljaCB3ZXJlIHJlcXVpcmVkXG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0SW5kZXggPSAwXSBJbmRleCB0byBzdGFydCBzZWFyY2hpbmcgZnJvbVxuICAgICAgICogQHJldHVybnMge09iamVjdH0gSW5zdGFuY2Ugb2YgdGhlIGNvbnRyb2xsZXJcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBlbGVtZW50J3MgY29udHJvbGxlcnMgYW1vbmcgb3RoZXIgY29udHJvbGxlcnMgaW5zdGFuY2VzXG4gICAgICAgKi9cbiAgICAgIGdldENvbnRyb2xsZXI6IGZ1bmN0aW9uICgkY29udHJvbGxlcnMsIHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgcmV0dXJuICRjb250cm9sbGVycy5zbGljZShzdGFydEluZGV4KVxuICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGN0cmwpIHtcbiAgICAgICAgICAgIHJldHVybiBjdHJsO1xuICAgICAgICAgIH0pWzBdO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBhbmd1bGFyLm1vZHVsZSgncGlwTWFwc0VsZW1lbnRzJylcbiAgICAuZmFjdG9yeSgnbWFwRWxlbWVudHNSZXF1aXJlRmN0JywgbWFwRWxlbWVudHNSZXF1aXJlRmN0KTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQucGlwTWFwQ2lyY2xlc1xuICAgICAqIEByZXN0cmljdCBBRVxuICAgICAqXG4gICAgICogQHNjb3BlXG4gICAgICogQHByb3BlcnR5IHtBcnJheTxPYmplY3Q+fSBwaXBNb2RlbHMgQ2lyY2xlcyBhcnJheVxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBwaXBPcHRpb25zIE9wdGlvbnMgZm9yIGEgbWFwIGNpcmNsZXNcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvbiAgaXQgZXh0ZW5kcyBwaXBNYXBFbGVtZW50c0ZjdFxuICAgICAqIEBzZWUgcGlwTWFwQ29tcG9uZW50LnBpcE1hcEVsZW1lbnRzRmN0XG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBNYXBDaXJjbGVzQ3RybEZjdChNYXBFbGVtZW50c0N0cmxGY3QpIHtcbiAgICAgICAgLypAbmdJbmplY3QqL1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIENvbnRyb2xsZXJcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcENpcmNsZXNDdHJsXG4gICAgICAgICAqIEBtaXhlcyBwaXBNYXBDb21wb25lbnQubWFwRXZlbnRIYW5kbGVyTWl4aW5GY3RcbiAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAqIEBleHRlbmRzIHBpcE1hcENvbXBvbmVudC5NYXBFbGVtZW50c0N0cmxcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENvbnRyb2xsZXIgZm9yIGEgbWFwIGNpcmNsZXNcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIE1hcENpcmNsZXNDdHJsKCRpbmplY3RvciwgJHNjb3BlKSB7XG4gICAgICAgICAgICBNYXBFbGVtZW50c0N0cmxGY3QuY2FsbCh0aGlzLCAkaW5qZWN0b3IsICRzY29wZSk7XG4gICAgICAgICAgICB0aGlzLiRwYXJzZSA9ICRpbmplY3Rvci5nZXQoJyRwYXJzZScpO1xuICAgICAgICB9XG5cblxuICAgICAgICB2YXIgX3N1cGVyID0gTWFwRWxlbWVudHNDdHJsRmN0LnByb3RvdHlwZTtcbiAgICAgICAgTWFwQ2lyY2xlc0N0cmwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShfc3VwZXIpO1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgICAgKiBAcHJvcGVydHlPZiBwaXBNYXBDb21wb25lbnQuTWFwQ2lyY2xlc0N0cmxcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcENpcmNsZXNDdHJsI2RlZmF1bHRPcHRpb25zXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBEZWZhdWx0IG1hcCBjb21wb25lbnRzXG4gICAgICAgICAqL1xuICAgICAgICBNYXBDaXJjbGVzQ3RybC5wcm90b3R5cGUuZGVmYXVsdE9wdGlvbnMgPSBhbmd1bGFyLm1lcmdlKHt9LCBfc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgICAgICAgIHN0cm9rZTogJ3N0cm9rZScsXG4gICAgICAgICAgICBmaWxsOiAnZmlsbCcsXG4gICAgICAgICAgICByYWRpdXM6ICdyYWRpdXMnLFxuICAgICAgICAgICAgY2VudGVyOiAnY2VudGVyJyxcbiAgICAgICAgICAgIGZpdEJvdW5kczogZmFsc2VcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcENpcmNsZXNDdHJsXG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBDaXJjbGVzQ3RybCMkb25Jbml0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBJbml0IGNvbXBvbmVudFxuICAgICAgICAgKi9cbiAgICAgICAgTWFwQ2lyY2xlc0N0cmwucHJvdG90eXBlLiRvbkluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfc3VwZXIuJG9uSW5pdC5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5zZXRQb3NpdGlvbkdldHRlclNldHRlcigpO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBDaXJjbGVzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwQ2lyY2xlc0N0cmwjc2V0UG9zaXRpb25HZXR0ZXJTZXR0ZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNldHMgZ2V0dGVyIGZvciBjb29yZGluYXRlcyBvciBudWxsIGlmIGl0IG5vdCBuZWVkZWQuIFRyZWF0cyBvcHRpb25zLm1vZGVsLmNvb3Jkc1xuICAgICAgICAgKi9cbiAgICAgICAgTWFwQ2lyY2xlc0N0cmwucHJvdG90eXBlLnNldFBvc2l0aW9uR2V0dGVyU2V0dGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHBhdGhQcm9wID0gdGhpcy5vcHRpb25zLnBhdGg7XG5cbiAgICAgICAgICAgIHRoaXMuZ2V0UG9zaXRpb24gPSB0aGlzLiRwYXJzZShwYXRoUHJvcCk7XG4gICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbi5hc3NpZ247XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcENpcmNsZXNDdHJsXG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBDaXJjbGVzQ3RybCNzZXREZWZhdWx0UG9zaXRpb25zSWZOZWVkZWRcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG1vZGVsIE1hcmtlciB0byBzZXQgcG9zaXRpb24gZm9yXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBDaGVja3MgaWYgY3VycmVudCBwb3NpdGlvbnMgaXMgZW1wdHkgYW5kIHNldHMgZGVmYXVsdCBpZiBuZWVkZWRcbiAgICAgICAgICovXG4gICAgICAgIE1hcENpcmNsZXNDdHJsLnByb3RvdHlwZS5zZXREZWZhdWx0UG9zaXRpb25zSWZOZWVkZWQgPSBmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbnMgPSB0aGlzLmdldFBvc2l0aW9uKG1vZGVsKTtcblxuICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmlzQXJyYXkocG9zaXRpb25zKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24obW9kZWwsIFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwQ2lyY2xlc0N0cmxcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcENpcmNsZXNDdHJsI2dldEFsbFBvc2l0aW9uc1xuICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXk8T2JqZWN0Pn0gUG9zaXRpb25zIGZvciBnaXZlbiBtb2RlbCBvciBhbiBlbXB0eSBhcnJheVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gR2V0cyBtb2RlbCBwb3NpdGlvbnMgYXJyYXkuXG4gICAgICAgICAqL1xuICAgICAgICBNYXBDaXJjbGVzQ3RybC5wcm90b3R5cGUuZ2V0QWxsUG9zaXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHBhdGhzID0gX3N1cGVyLmdldEFsbFBvc2l0aW9ucy5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sIHBhdGhzKTsgLy9mbGF0dGVuIGFycmF5IG9mIGFycmF5c1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBDaXJjbGVzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwQ2lyY2xlc0N0cmwjc2V0UG9zaXRpb25cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG1vZGVsIE1hcmtlciB0byBzZXQgcG9zaXRpb24gZm9yXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXk8TWFwfnBvc2l0aW9uPnw8TWFwfnBvc2l0aW9uPn0gcG9zaXRpb24gUG9zaXRpb24gdG8gc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBEZWZhdWx0IG1ha2VyIHBvc2l0aW9uIHNldHRlci4gV2UgdXNlIGl0IGlmIGNvb3JkcyBpcyBzZXQgdG8gJ3NlbGYnXG4gICAgICAgICAqL1xuICAgICAgICBNYXBDaXJjbGVzQ3RybC5wcm90b3R5cGUuc2V0UG9zaXRpb24gPSBmdW5jdGlvbiAobW9kZWwsIHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBtb2RlbFt0aGlzLmRlZmF1bHRPcHRpb25zLmNlbnRlcl0gPSBwb3NpdGlvbjtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwQ2lyY2xlc0N0cmxcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcENpcmNsZXNDdHJsI2dldFBvc2l0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtb2RlbCBNYXJrZXIgdG8gZ2V0IHBvc2l0aW9uIGZvclxuICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXk8TWFwfnBvc2l0aW9uPnw8TWFwfnBvc2l0aW9uPn0gUG9zaXRpb24gZm9yIGEgbW9kZWxcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIERlZmF1bHQgcG9seWdvbiBwb3NpdGlvbiBnZXR0ZXIuIFdlIHVzZSBpdCBpZiBjb29yZHMgaXMgc2V0IHRvICdzZWxmJ1xuICAgICAgICAgKi9cbiAgICAgICAgTWFwQ2lyY2xlc0N0cmwucHJvdG90eXBlLmdldFBvc2l0aW9uID0gZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9kZWxbdGhpcy5kZWZhdWx0T3B0aW9ucy5jZW50ZXJdO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBDaXJjbGVzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwQ2lyY2xlc0N0cmwjaXNNb2RlbEVtcHR5XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtb2RlbCBNb2RlbCB0byBjaGVjayBwb3NpdGlvbiBmb3JcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgY3VycmVudCBtb2RlbCBpcyBlbXB0eVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ2hlY2tzIHdoZXRoZXIgbW9kZWwgaXMgZW1wdHlcbiAgICAgICAgICovXG4gICAgICAgIE1hcENpcmNsZXNDdHJsLnByb3RvdHlwZS5pc01vZGVsRW1wdHkgPSBmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMuZ2V0UG9zaXRpb24obW9kZWwpO1xuICAgICAgICAgICAgcmV0dXJuICFwb3NpdGlvbjtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIHJldHVybiBNYXBDaXJjbGVzQ3RybDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBjb250cm9sbGVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFwQ2lyY2xlc0N0cmxCdWlsZGVyKCRjb250cm9sbGVyLCAkc2NvcGUsIE1hcENpcmNsZXNDdHJsRmN0KSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9ICRjb250cm9sbGVyKE1hcENpcmNsZXNDdHJsRmN0LCB7XG4gICAgICAgICAgICAkc2NvcGU6ICRzY29wZVxuICAgICAgICB9KTtcblxuICAgICAgICBhbmd1bGFyLmV4dGVuZChpbnN0YW5jZSwgdGhpcyk7XG4gICAgICAgIGluc3RhbmNlLiRvbkluaXQoKTtcblxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGlwTWFwQ2lyY2xlcyhwaXBNYXBFbGVtZW50c0ZjdCkge1xuICAgICAgICByZXR1cm4gYW5ndWxhci5leHRlbmQoe30sIHBpcE1hcEVsZW1lbnRzRmN0LCB7XG4gICAgICAgICAgICByZXF1aXJlOiBbJ15waXBNYXAnLCAncGlwTWFwQ2lyY2xlcyddLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ01hcENpcmNsZXNDdHJsJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnZWxlbWVudHMvY2lyY2xlcy9tYXAtY2lyY2xlcy5odG1sJ1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgncGlwTWFwc0VsZW1lbnRzJylcbiAgICAgICAgLmZhY3RvcnkoJ01hcENpcmNsZXNDdHJsRmN0JywgTWFwQ2lyY2xlc0N0cmxGY3QpXG4gICAgICAgIC5jb250cm9sbGVyKCdNYXBDaXJjbGVzQ3RybCcsIE1hcENpcmNsZXNDdHJsQnVpbGRlcilcbiAgICAgICAgLmRpcmVjdGl2ZSgncGlwTWFwQ2lyY2xlcycsIHBpcE1hcENpcmNsZXMpO1xufSkoKTsiLCJhbmd1bGFyLm1vZHVsZSgncGlwTWFwc0VsZW1lbnRzJywgW10pO1xuXG5pbXBvcnQgJy4vTWFwRWxlbWVudENvbnRyb2xsZXJTZXJ2aWNlJztcbmltcG9ydCAnLi9NYXBFbGVtZW50RGlyZWN0aXZlU2VydmljZSc7XG5pbXBvcnQgJy4vTWFwRWxlbWVudFJlcXVpcmVTZXJ2aWNlJztcblxuaW1wb3J0ICcuL2ttbC9NYXBLbWwnO1xuaW1wb3J0ICcuL21hcmtlcnMvTWFwTWFya2Vycyc7XG5pbXBvcnQgJy4vcG9seWdvbnMvTWFwUG9seWdvbnMnO1xuaW1wb3J0ICcuL3BvbHlsaW5lcy9NYXBQb2x5bGluZXMnO1xuaW1wb3J0ICcuL2NpcmNsZXMvTWFwQ2lyY2xlcyc7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZGlyZWN0aXZlXG4gICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50LnBpcE1hcEttbFxuICAgICAqIEByZXN0cmljdCBBRVxuICAgICAqXG4gICAgICogQHNjb3BlXG4gICAgICogQHByb3BlcnR5IHtBcnJheTxPYmplY3Q+fSBwaXBNb2RlbHMgS21sIGFycmF5XG4gICAgICogQHByb3BlcnR5IHtPYmplY3R9IHBpcE9wdGlvbnMgT3B0aW9ucyBmb3IgYSBtYXAgbWFya2Vyc1xuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbnxPYmplY3R9IFtwaXBPcHRpb25zLmNvbm5lY3QgPSBmYWxzZV0gQ29ubmVjdGlvbiBsaW5lcyBzZXR0aW5nc1xuICAgICAqIChjb25uZWN0IG1hcmtlcnMgb3IgZ3JvdXBzIHRvZ2V0aGVyKS4gSWYgc2V0IHRvIGZhbHNlIC0gY29ubmVjdGlvbnMgYXJlIGRpc2FibGVkXG4gICAgICogQHByb3BlcnR5IHtPYmplY3R9IFtwaXBPcHRpb25zLmNvbm5lY3Quc3Ryb2tlXSBTZXR0aW5ncyBmb3IgY29ubmVjdGlvbnMgc3Ryb2tlXG4gICAgICogQHByb3BlcnR5IHtPYmplY3R9IFtwaXBPcHRpb25zLmNvbm5lY3QuaWNvbnNdIFNldHRpbmdzIGZvciBjb25uZWN0aW9uIGljb25zXG4gICAgICogQHByb3BlcnR5IHtPYmplY3R9IFtwaXBPcHRpb25zLmNvbm5lY3QucHJvcGVydHldIFNldHRpbmdzIGZvciBjb25uZWN0aW9uIGRhdGFcbiAgICAgKiBmcm9tIHdoaWNoIHByb3BlcnR5IGl0IHNob3VsZCB0YWtlIGRhdGEgdG8gc2hvdyBjb25uZWN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvbiAgaXQgZXh0ZW5kcyBwaXBNYXBFbGVtZW50c0ZjdFxuICAgICAqIEBzZWUgcGlwTWFwQ29tcG9uZW50LnBpcE1hcEVsZW1lbnRzRmN0XG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBNYXBLbWxDdHJsRmN0KE1hcEVsZW1lbnRzQ3RybEZjdCkge1xuICAgICAgICAvKkBuZ0luamVjdCovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgQ29udHJvbGxlclxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwS21sQ3RybFxuICAgICAgICAgKiBAbWl4ZXMgcGlwTWFwQ29tcG9uZW50Lm1hcEV2ZW50SGFuZGxlck1peGluRmN0XG4gICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgKiBAZXh0ZW5kcyBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBDb250cm9sbGVyIGZvciBhIG1hcCBLTUxcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIE1hcEttbEN0cmwoJGluamVjdG9yLCAkc2NvcGUpIHtcbiAgICAgICAgICAgIE1hcEVsZW1lbnRzQ3RybEZjdC5jYWxsKHRoaXMsICRpbmplY3RvciwgJHNjb3BlKTtcblxuICAgICAgICAgICAgdGhpcy5waXBNYXBIZWxwZXJTcnYgPSAkaW5qZWN0b3IuZ2V0KCdwaXBNYXBIZWxwZXJTcnYnKTtcbiAgICAgICAgICAgIHRoaXMuZXhpc3RpbmdNb2RlbHMgPSBbXTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdmFyIF9zdXBlciA9IE1hcEVsZW1lbnRzQ3RybEZjdC5wcm90b3R5cGU7XG4gICAgICAgIE1hcEttbEN0cmwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShfc3VwZXIpO1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgICAgKiBAcHJvcGVydHlPZiBwaXBNYXBDb21wb25lbnQuTWFwS21sQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwS21sQ3RybCNkZWZhdWx0T3B0aW9uc1xuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gRGVmYXVsdCBtYXAgY29tcG9uZW50c1xuICAgICAgICAgKi9cbiAgICAgICAgTWFwS21sQ3RybC5wcm90b3R5cGUuZGVmYXVsdE9wdGlvbnMgPSBhbmd1bGFyLm1lcmdlKHt9LCBfc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcbiAgICAgICAgICAgIGxheWVyOiB7XG4gICAgICAgICAgICAgICAgcHJlc2VydmVWaWV3cG9ydDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzdXBwcmVzc0luZm9XaW5kb3dzOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBLbWxDdHJsXG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBLbWxDdHJsI2dldFBvcHVwUGFyYW1ldGVyc1xuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBQYXJhbWV0ZXJzIG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gR2V0cyBwYXJhbWV0ZXJzIG9iamVjdCBmb3IgYSBwb3B1cCB0ZW1wbGF0ZVxuICAgICAgICAgKiBAdG9kbzogQ2hlY2sgd2hldGhlciB0aGlzIGNvZGUgaXMgYWN0dWFsIGFmdGVyIG1vdmluZyB0byBvbmUgcG9wdXAgaW5zdGFuY2UgcGVyIG1hcFxuICAgICAgICAgKi9cbiAgICAgICAgTWFwS21sQ3RybC5wcm90b3R5cGUuZ2V0UG9wdXBQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKCk6IGFueSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucG9wdXAubW9kZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IHRoaXMucG9wdXAubW9kZWwsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHRoaXMucG9wdXAucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgbWV0YTogdGhpcy5wb3B1cC5tb2RlbC5pbnN0YW5jZS5nZXRNZXRhZGF0YSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBLbWxDdHJsXG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBLbWxDdHJsI3VwZGF0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gVXBkYXRlcyBtb2RlbHNcbiAgICAgICAgICovXG4gICAgICAgIE1hcEttbEN0cmwucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMucGlwTWFwSGVscGVyU3J2LndoZW5SZWFkeS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU9sZE1vZGVscygpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkTmV3TW9kZWxzKCk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBLbWxDdHJsXG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBLbWxDdHJsI3JlbW92ZU9sZE1vZGVsc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyBvbGQgbW9kZWxzXG4gICAgICAgICAqL1xuICAgICAgICBNYXBLbWxDdHJsLnByb3RvdHlwZS5yZW1vdmVPbGRNb2RlbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmdldE9sZE1vZGVscygpXG4gICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmluc3RhbmNlLnNldE1hcChudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZVJlZ2lzdGVyTW9kZWwobW9kZWwpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBLbWxDdHJsXG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBLbWxDdHJsI2dldE9sZE1vZGVsc1xuICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXk8T2JqZWN0Pn0gT2xkIG1vZGVsc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBvbGQgbW9kZWxzXG4gICAgICAgICAqL1xuICAgICAgICBNYXBLbWxDdHJsLnByb3RvdHlwZS5nZXRPbGRNb2RlbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmV3VXJscyA9IHRoaXMubW9kZWxzLm1hcChmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWwudXJsO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV4aXN0aW5nTW9kZWxzXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld1VybHMuaW5kZXhPZihtb2RlbC51cmwpID09PSAtMTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwS21sQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwS21sQ3RybCNhZGROZXdNb2RlbHNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEFkZHMgbmV3IG1vZGVscyB0byB0aGUgbWFwIG1vZGVsc1xuICAgICAgICAgKi9cbiAgICAgICAgTWFwS21sQ3RybC5wcm90b3R5cGUuYWRkTmV3TW9kZWxzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5nZXROZXdNb2RlbHMoKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChtb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29weSA9IGFuZ3VsYXIuY29weShtb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTW9kZWwoY29weSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJNb2RlbChjb3B5KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudHMoY29weSk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcEttbEN0cmxcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcEttbEN0cmwjZ2V0TmV3TW9kZWxzXG4gICAgICAgICAqIEByZXR1cm5zIHtBcnJheTxPYmplY3Q+fSBOZXcgbW9kZWxzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGFycmF5IG9mIG1vZGVscyB0byBhZGRcbiAgICAgICAgICovXG4gICAgICAgIE1hcEttbEN0cmwucHJvdG90eXBlLmdldE5ld01vZGVscyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBleGlzdGluZ1VybHMgPSB0aGlzLmV4aXN0aW5nTW9kZWxzLm1hcChmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWwudXJsO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleGlzdGluZ1VybHMuaW5kZXhPZihtb2RlbC51cmwpID09PSAtMTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwS21sQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwS21sQ3RybCNhZGRNb2RlbFxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbW9kZWwgTW9kZWwgdG8gYWRkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBZGRzIGEgbW9kZWwgdG8gdGhlIG1hcFxuICAgICAgICAgKi9cbiAgICAgICAgTWFwS21sQ3RybC5wcm90b3R5cGUuYWRkTW9kZWwgPSBmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBtYXBJbnN0YW5jZSA9IHRoaXMubWFwQ3RybC5nZXRNYXBJbnN0YW5jZSgpO1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBhbmd1bGFyLm1lcmdlKHtcbiAgICAgICAgICAgICAgICBtYXA6IG1hcEluc3RhbmNlLFxuICAgICAgICAgICAgICAgIHVybDogbW9kZWwudXJsXG4gICAgICAgICAgICB9LCB0aGlzLm9wdGlvbnMubGF5ZXIpO1xuXG4gICAgICAgICAgICBtb2RlbC5pbnN0YW5jZSA9IHRoaXMucGlwTWFwSGVscGVyU3J2LmNyZWF0ZUtNTChvcHRpb25zKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwS21sQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwS21sQ3RybCNhZGRFdmVudHNcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG1vZGVsIE1vZGVsIHRvIGFkZFxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbW9kZWwuaW5zdGFuY2UgSW5zdGFuY2Ugb2YgdGhlIG1vZGVsJ3MgbWFwIGVsZW1lbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEFkZHMgZXZlbnRzIHRvIGEgbW9kZWxcbiAgICAgICAgICovXG4gICAgICAgIE1hcEttbEN0cmwucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uIChtb2RlbCkge1xuICAgICAgICAgICAgdmFyIGNsaWNrSGFuZGxlciA9IHRoaXMub25FdmVudC5iaW5kKHRoaXMsIG1vZGVsLCAnY2xpY2snKTtcbiAgICAgICAgICAgIG1vZGVsLmluc3RhbmNlLmFkZExpc3RlbmVyKCdjbGljaycsIGNsaWNrSGFuZGxlcik7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcEttbEN0cmxcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcEttbEN0cmwjb25FdmVudFxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbW9kZWwgTW9kZWwgdG8gYWRkXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtb2RlbC5pbnN0YW5jZSBJbnN0YW5jZSBvZiB0aGUgbW9kZWwncyBtYXAgZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBFdmVudCBuYW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBFdmVudCBoYW5kbGVyIC0gYWRhcHRlciBiZXR3ZWVuIG1peGluJ3MgaGFuZGxlciBhbmQgbmF0aXZlIGV2ZW50c1xuICAgICAgICAgKi9cbiAgICAgICAgTWFwS21sQ3RybC5wcm90b3R5cGUub25FdmVudCA9IGZ1bmN0aW9uIChtb2RlbCwgbmFtZSkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSB0aGlzLmNvcHlBcmd1bWVudHMoYXJndW1lbnRzLCAyKTtcbiAgICAgICAgICAgIHRoaXMub25FdmVudEhhbmRsZXIobW9kZWwuaW5zdGFuY2UsIG5hbWUsIG1vZGVsLCBhcmdzKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwS21sQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwS21sQ3RybCNjb3B5QXJndW1lbnRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7QXJndW1lbnRzfSBhcmdzIEFyZ3VtZW50cyBhcnJheVxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCBTdGFydGluZyBpbmRleCBmb3IgY29weWluZ1xuICAgICAgICAgKiBAcmV0dXJuIHtBcnJheX0gQ29waWVkIGFyZ3VtZW50c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ29waWVzIGFyZ3VtZW50cyBpbnRvIGFuIGFycmF5LlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wZXRrYWFudG9ub3YvYmx1ZWJpcmQvd2lraS9PcHRpbWl6YXRpb24ta2lsbGVycyMzLW1hbmFnaW5nLWFyZ3VtZW50c1xuICAgICAgICAgKi9cbiAgICAgICAgTWFwS21sQ3RybC5wcm90b3R5cGUuY29weUFyZ3VtZW50cyA9IGZ1bmN0aW9uIChhcmdzLCBzdGFydEluZGV4KSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGggLSBzdGFydEluZGV4OyArK2kpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBhcmdzW2kgKyBzdGFydEluZGV4XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwS21sQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwS21sQ3RybCNnZXRQb3B1cE1ldGFEYXRhXG4gICAgICAgICAqIEByZXR1cm5zIHs/T2JqZWN0fSBNZXRhZGF0YSBmb3IgY3VycmVudCBtb2RlbCBpbiBwb3B1cFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBtZXRhZGF0YVxuICAgICAgICAgKiBAdG9kbzogQ2hlY2sgd2hldGhlciB0aGlzIGNvZGUgaXMgYWN0dWFsIGFmdGVyIG1vdmluZyB0byBvbmUgcG9wdXAgaW5zdGFuY2UgcGVyIG1hcFxuICAgICAgICAgKi9cbiAgICAgICAgTWFwS21sQ3RybC5wcm90b3R5cGUuZ2V0UG9wdXBNZXRhRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvcHVwLm1vZGVsICYmIHRoaXMucG9wdXAubW9kZWwuaW5zdGFuY2UuZ2V0TWV0YWRhdGEoKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwS21sQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwS21sQ3RybCNyZWdpc3Rlck1vZGVsXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtb2RlbCBNb2RlbCB0byByZWdpc3RlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmVnaXN0ZXJzIG1vZGVsIGFzIGV4aXN0aW5nXG4gICAgICAgICAqL1xuICAgICAgICBNYXBLbWxDdHJsLnByb3RvdHlwZS5yZWdpc3Rlck1vZGVsID0gZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICAgICAgICB0aGlzLmV4aXN0aW5nTW9kZWxzLnB1c2gobW9kZWwpO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBLbWxDdHJsXG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBLbWxDdHJsI2RlUmVnaXN0ZXJNb2RlbFxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbW9kZWwgTW9kZWwgdG8gZGUtcmVnaXN0ZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIERlLXJlZ2lzdGVycyBtb2RlbCBhcyBleGlzdGluZ1xuICAgICAgICAgKi9cbiAgICAgICAgTWFwS21sQ3RybC5wcm90b3R5cGUuZGVSZWdpc3Rlck1vZGVsID0gZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmV4aXN0aW5nTW9kZWxzLmluZGV4T2YobW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5leGlzdGluZ01vZGVscy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgcmV0dXJuIE1hcEttbEN0cmw7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgY29udHJvbGxlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hcEttbEN0cmxCdWlsZGVyKCRjb250cm9sbGVyLCAkc2NvcGUsIE1hcEttbEN0cmxGY3QpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gJGNvbnRyb2xsZXIoTWFwS21sQ3RybEZjdCwge1xuICAgICAgICAgICAgJHNjb3BlOiAkc2NvcGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYW5ndWxhci5leHRlbmQoaW5zdGFuY2UsIHRoaXMpO1xuICAgICAgICBpbnN0YW5jZS4kb25Jbml0KCk7XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gcGlwTWFwS21sKHBpcE1hcEVsZW1lbnRzRmN0KSB7XG4gICAgICAgIHZhciBkZWZpbml0aW9uID0gYW5ndWxhci5leHRlbmQoe30sIHBpcE1hcEVsZW1lbnRzRmN0LCB7XG4gICAgICAgICAgICByZXF1aXJlOiBbJ15waXBNYXAnLCAncGlwTWFwS21sJ10sXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnTWFwS21sQ3RybCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2VsZW1lbnRzL2ttbC9tYXAta21sLmh0bWwnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBsaW5rID0gZGVmaW5pdGlvbi5saW5rO1xuICAgICAgICBkZWZpbml0aW9uLmxpbmsgPSBmdW5jdGlvbiAoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkY29udHJvbGxlcnMpIHtcbiAgICAgICAgICAgIGxpbmsuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgICAgICAgICAgdmFyIG1hcEN0cmwgPSAkY29udHJvbGxlcnNbMF07XG4gICAgICAgICAgICB2YXIgZWxlbWVudENvbnRyb2xsZXIgPSAkY29udHJvbGxlcnNbMV07XG5cbiAgICAgICAgICAgIGVsZW1lbnRDb250cm9sbGVyLm1hcEN0cmwgPSBtYXBDdHJsO1xuICAgICAgICAgICAgJHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ2N0cmwubW9kZWxzJywgZnVuY3Rpb24gKG1vZGVscykge1xuICAgICAgICAgICAgICAgIGlmIChtb2RlbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudENvbnRyb2xsZXIudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRlZmluaXRpb247XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ3BpcE1hcHNFbGVtZW50cycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3BpcE1hcEttbCcsIHBpcE1hcEttbClcbiAgICAgICAgLmZhY3RvcnkoJ01hcEttbEN0cmxGY3QnLCBNYXBLbWxDdHJsRmN0KVxuICAgICAgICAuY29udHJvbGxlcignTWFwS21sQ3RybCcsIE1hcEttbEN0cmxCdWlsZGVyKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZGlyZWN0aXZlXG4gICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50LnBpcE1hcE1hcmtlcnNcbiAgICAgKiBAcmVzdHJpY3QgQUVcbiAgICAgKlxuICAgICAqIEBzY29wZVxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXk8T2JqZWN0Pn0gcGlwTW9kZWxzIE1hcmtlcnMgYXJyYXlcbiAgICAgKiBAcHJvcGVydHkge09iamVjdH0gcGlwT3B0aW9ucyBPcHRpb25zIGZvciBhIG1hcCBtYXJrZXJzXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufE9iamVjdH0gW3BpcE9wdGlvbnMuY29ubmVjdCA9IGZhbHNlXSBDb25uZWN0aW9uIGxpbmVzIHNldHRpbmdzXG4gICAgICogKGNvbm5lY3QgbWFya2VycyBvciBncm91cHMgdG9nZXRoZXIpLiBJZiBzZXQgdG8gZmFsc2UgLSBjb25uZWN0aW9ucyBhcmUgZGlzYWJsZWRcbiAgICAgKiBAcHJvcGVydHkge09iamVjdH0gW3BpcE9wdGlvbnMuY29ubmVjdC5zdHJva2VdIFNldHRpbmdzIGZvciBjb25uZWN0aW9ucyBzdHJva2VcbiAgICAgKiBAcHJvcGVydHkge09iamVjdH0gW3BpcE9wdGlvbnMuY29ubmVjdC5pY29uc10gU2V0dGluZ3MgZm9yIGNvbm5lY3Rpb24gaWNvbnNcbiAgICAgKiBAcHJvcGVydHkge09iamVjdH0gW3BpcE9wdGlvbnMuY29ubmVjdC5wcm9wZXJ0eV0gU2V0dGluZ3MgZm9yIGNvbm5lY3Rpb24gZGF0YVxuICAgICAqIGZyb20gd2hpY2ggcHJvcGVydHkgaXQgc2hvdWxkIHRha2UgZGF0YSB0byBzaG93IGNvbm5lY3Rpb25zLlxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uICBpdCBleHRlbmRzIHBpcE1hcEVsZW1lbnRzRmN0XG4gICAgICogQHNlZSBwaXBNYXBDb21wb25lbnQucGlwTWFwRWxlbWVudHNGY3RcbiAgICAgKi9cblxuICAgIGZ1bmN0aW9uIE1hcE1hcmtlcnNDdHJsRmN0KE1hcEVsZW1lbnRzQ3RybEZjdCkge1xuICAgICAgICAvKkBuZ0luamVjdCovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgQ29udHJvbGxlclxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwTWFya2Vyc0N0cmxcbiAgICAgICAgICogQG1peGVzIHBpcE1hcENvbXBvbmVudC5tYXBFdmVudEhhbmRsZXJNaXhpbkZjdFxuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICogQGV4dGVuZHMgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRzQ3RybFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ29udHJvbGxlciBmb3IgYSBtYXAgbWFya2VyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBNYXBNYXJrZXJzQ3RybCgkaW5qZWN0b3IsICRzY29wZSkge1xuICAgICAgICAgICAgTWFwRWxlbWVudHNDdHJsRmN0LmNhbGwodGhpcywgJGluamVjdG9yLCAkc2NvcGUpO1xuXG4gICAgICAgICAgICB0aGlzLiRwYXJzZSA9ICRpbmplY3Rvci5nZXQoJyRwYXJzZScpO1xuICAgICAgICAgICAgdGhpcy5waXBNYXBIZWxwZXJTcnYgPSAkaW5qZWN0b3IuZ2V0KCdwaXBNYXBIZWxwZXJTcnYnKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdmFyIF9zdXBlciA9IE1hcEVsZW1lbnRzQ3RybEZjdC5wcm90b3R5cGU7XG4gICAgICAgIE1hcE1hcmtlcnNDdHJsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoX3N1cGVyKTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgICAgICogQHByb3BlcnR5T2YgcGlwTWFwQ29tcG9uZW50Lk1hcE1hcmtlcnNDdHJsXG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBNYXJrZXJzQ3RybCNkZWZhdWx0T3B0aW9uc1xuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gRGVmYXVsdCBtYXAgY29tcG9uZW50c1xuICAgICAgICAgKi9cbiAgICAgICAgTWFwTWFya2Vyc0N0cmwucHJvdG90eXBlLmRlZmF1bHRPcHRpb25zID0gYW5ndWxhci5tZXJnZSh7fSwgX3N1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgIGNvb3JkczogJ3NlbGYnLFxuICAgICAgICAgICAgICAgIGljb246ICdpY29uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbm5lY3Q6IGZhbHNlXG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBNYXJrZXJzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwTWFya2Vyc0N0cmwjJG9uSW5pdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gSW5pdCBjb21wb25lbnRcbiAgICAgICAgICovXG4gICAgICAgIE1hcE1hcmtlcnNDdHJsLnByb3RvdHlwZS4kb25Jbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3N1cGVyLiRvbkluaXQuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb25HZXR0ZXJTZXR0ZXIoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdENvbm5lY3QoKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwTWFya2Vyc0N0cmxcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcE1hcmtlcnNDdHJsI2luaXRDb25uZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBJbml0IHBvbHlsaW5lIGNvbmZpZ3VyYXRpb24gZm9yIGNvbm5lY3Rpb25zXG4gICAgICAgICAqL1xuICAgICAgICBNYXBNYXJrZXJzQ3RybC5wcm90b3R5cGUuaW5pdENvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5jb25uZWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5jb25uZWN0O1xuXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QgPSBhbmd1bGFyLm1lcmdlKHtcbiAgICAgICAgICAgICAgICBzaG93OiB0cnVlXG4gICAgICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwTWFya2Vyc0N0cmxcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcE1hcmtlcnNDdHJsI3NldFBvc2l0aW9uR2V0dGVyU2V0dGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIGdldHRlciBmb3IgY29vcmRpbmF0ZXMgb3IgbnVsbCBpZiBpdCBub3QgbmVlZGVkLiBUcmVhdHMgb3B0aW9ucy5tb2RlbC5jb29yZHNcbiAgICAgICAgICovXG4gICAgICAgIE1hcE1hcmtlcnNDdHJsLnByb3RvdHlwZS5zZXRQb3NpdGlvbkdldHRlclNldHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjb29yZHNQcm9wID0gdGhpcy5vcHRpb25zLm1vZGVsLmNvb3JkcztcblxuICAgICAgICAgICAgaWYgKGNvb3Jkc1Byb3AgPT09ICdzZWxmJykgeyAvLyB0YWtlIG9iamVjdCB3aXRoIGNvb3JkaW5hdGVzXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmdldFBvc2l0aW9uID0gdGhpcy4kcGFyc2UoY29vcmRzUHJvcCk7XG4gICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbi5hc3NpZ247XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcE1hcmtlcnNDdHJsXG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBNYXJrZXJzQ3RybCNzZXRQb3NpdGlvblxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbW9kZWwgTWFya2VyIHRvIHNldCBwb3NpdGlvbiBmb3JcbiAgICAgICAgICogQHBhcmFtIHtBcnJheTxNYXB+cG9zaXRpb24+fDxNYXB+cG9zaXRpb24+fSBwb3NpdGlvbiBQb3NpdGlvbiB0byBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIERlZmF1bHQgbWFrZXIgcG9zaXRpb24gc2V0dGVyLiBXZSB1c2UgaXQgaWYgY29vcmRzIGlzIHNldCB0byAnc2VsZidcbiAgICAgICAgICovXG4gICAgICAgIE1hcE1hcmtlcnNDdHJsLnByb3RvdHlwZS5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChtb2RlbCwgcG9zaXRpb24pIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKG1vZGVsLCBwb3NpdGlvbik7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcE1hcmtlcnNDdHJsXG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBNYXJrZXJzQ3RybCNvblNob3dQb3B1cFxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbW9kZWwgTW9kZWwgdG8gd2hpY2ggcG9wdXAgaXMgc2hvd25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENsb3NlcyBwb3B1cCB3aW5kb3cgYW5kIGNsZWFycyByZWxhdGVkIGRhdGFcbiAgICAgICAgICovXG4gICAgICAgIE1hcE1hcmtlcnNDdHJsLnByb3RvdHlwZS5vblNob3dQb3B1cCA9IGZ1bmN0aW9uIChtb2RlbCkge1xuICAgICAgICAgICAgLy90aGlzLnJlc2V0SWNvbkFjdGl2ZSgpO1xuICAgICAgICAgICAgdGhpcy5wb3BVcE9wZW5lZCA9IG1vZGVsLmlkO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMucG9wdXAub3B0aW9ucy5zZXRQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy90aGlzLnNldEljb25BY3RpdmUobW9kZWwpO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBNYXJrZXJzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwTWFya2Vyc0N0cmwjb25DbG9zZVBvcHVwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBDbG9zZXMgcG9wdXAgd2luZG93IGFuZCBjbGVhcnMgcmVsYXRlZCBkYXRhXG4gICAgICAgICAqL1xuICAgICAgICBNYXBNYXJrZXJzQ3RybC5wcm90b3R5cGUub25DbG9zZVBvcHVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy90aGlzLnJlc2V0SWNvbkFjdGl2ZSgpO1xuICAgICAgICAgICAgdGhpcy5wb3BVcE9wZW5lZCA9IG51bGw7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBNYXJrZXJzQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwTWFya2Vyc0N0cmwjc2V0SWNvbkFjdGl2ZVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbW9kZWwgTW9kZWwgdG8gc2V0IGljb24gZm9yXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIGljb24gZm9yIHRoZSBtYXJrZXIgYWN0aXZlXG4gICAgICAgICAqL1xuICAgICAgICBNYXBNYXJrZXJzQ3RybC5wcm90b3R5cGUuc2V0SWNvbkFjdGl2ZSA9IGZ1bmN0aW9uIChtb2RlbCkge1xuICAgICAgICAgICAgaWYgKCFtb2RlbCB8fCAhbW9kZWwuaWNvbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wb3B1cE1vZGVsID0gbW9kZWw7XG4gICAgICAgICAgICB0aGlzLnBpcE1hcEhlbHBlclNydi5zZXRJY29uKHRoaXMucG9wdXBNb2RlbC5pY29uLCB0cnVlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcE1hcmtlcnNDdHJsXG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBNYXJrZXJzQ3RybCNyZXNldEljb25BY3RpdmVcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNldHMgaWNvbiBmb3IgdGhlIG1hcmtlciBpbmFjdGl2ZVxuICAgICAgICAgKi9cbiAgICAgICAgTWFwTWFya2Vyc0N0cmwucHJvdG90eXBlLnJlc2V0SWNvbkFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wb3B1cE1vZGVsIHx8ICF0aGlzLnBvcHVwTW9kZWwuaWNvbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5waXBNYXBIZWxwZXJTcnYuc2V0SWNvbih0aGlzLnBvcHVwTW9kZWwuaWNvbiwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5wb3B1cE1vZGVsID0gbnVsbDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gTWFwTWFya2Vyc0N0cmw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGNvbnRyb2xsZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBNYXJrZXJzQ3RybEJ1aWxkZXIoJGNvbnRyb2xsZXIsICRzY29wZSwgTWFwTWFya2Vyc0N0cmxGY3QpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gJGNvbnRyb2xsZXIoTWFwTWFya2Vyc0N0cmxGY3QsIHtcbiAgICAgICAgICAgICRzY29wZTogJHNjb3BlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKGluc3RhbmNlLCB0aGlzKTtcbiAgICAgICAgaW5zdGFuY2UuJG9uSW5pdCgpO1xuXG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwaXBNYXBNYXJrZXJzKHBpcE1hcEVsZW1lbnRzRmN0KSB7XG4gICAgICAgIHJldHVybiBhbmd1bGFyLmV4dGVuZCh7fSwgcGlwTWFwRWxlbWVudHNGY3QsIHtcbiAgICAgICAgICAgIHJlcXVpcmU6IFsnXnBpcE1hcCcsICdwaXBNYXBNYXJrZXJzJ10sXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnTWFwTWFya2Vyc0N0cmwnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdlbGVtZW50cy9tYXJrZXJzL21hcC1tYXJrZXJzLmh0bWwnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzRWxlbWVudHMnKVxuICAgICAgICAuZmFjdG9yeSgnTWFwTWFya2Vyc0N0cmxGY3QnLCBNYXBNYXJrZXJzQ3RybEZjdClcbiAgICAgICAgLmNvbnRyb2xsZXIoJ01hcE1hcmtlcnNDdHJsJywgTWFwTWFya2Vyc0N0cmxCdWlsZGVyKVxuICAgICAgICAuZGlyZWN0aXZlKCdwaXBNYXBNYXJrZXJzJywgcGlwTWFwTWFya2Vycyk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGRpcmVjdGl2ZVxuICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5waXBNYXBQb2x5Z29uc1xuICAgICAqIEByZXN0cmljdCBBRVxuICAgICAqXG4gICAgICogQHNjb3BlXG4gICAgICogQHByb3BlcnR5IHtBcnJheTxPYmplY3Q+fSBwaXBNb2RlbHMgUG9seWdvbnMgYXJyYXlcbiAgICAgKiBAcHJvcGVydHkge09iamVjdH0gcGlwT3B0aW9ucyBPcHRpb25zIGZvciBhIG1hcCBwb2x5Z29uc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uICBpdCBleHRlbmRzIHBpcE1hcEVsZW1lbnRzRmN0XG4gICAgICogQHNlZSBwaXBNYXBDb21wb25lbnQucGlwTWFwRWxlbWVudHNGY3RcbiAgICAgKi9cblxuICAgIGZ1bmN0aW9uIE1hcFBvbHlnb25zQ3RybEZjdChNYXBFbGVtZW50c0N0cmxGY3QpIHtcbiAgICAgICAgLypAbmdJbmplY3QqL1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIENvbnRyb2xsZXJcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcFBvbHlnb25zQ3RybFxuICAgICAgICAgKiBAbWl4ZXMgcGlwTWFwQ29tcG9uZW50Lm1hcEV2ZW50SGFuZGxlck1peGluRmN0XG4gICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgKiBAZXh0ZW5kcyBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudHNDdHJsXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBDb250cm9sbGVyIGZvciBhIG1hcCBwb2x5Z29uc1xuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gTWFwUG9seWdvbnNDdHJsKCRpbmplY3RvciwgJHNjb3BlKSB7XG4gICAgICAgICAgICBNYXBFbGVtZW50c0N0cmxGY3QuY2FsbCh0aGlzLCAkaW5qZWN0b3IsICRzY29wZSk7XG4gICAgICAgICAgICB0aGlzLiRwYXJzZSA9ICRpbmplY3Rvci5nZXQoJyRwYXJzZScpO1xuICAgICAgICB9XG5cblxuICAgICAgICB2YXIgX3N1cGVyID0gTWFwRWxlbWVudHNDdHJsRmN0LnByb3RvdHlwZTtcbiAgICAgICAgTWFwUG9seWdvbnNDdHJsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoX3N1cGVyKTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgICAgICogQHByb3BlcnR5T2YgcGlwTWFwQ29tcG9uZW50Lk1hcFBvbHlnb25zQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwUG9seWdvbnNDdHJsI2RlZmF1bHRPcHRpb25zXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBEZWZhdWx0IG1hcCBjb21wb25lbnRzXG4gICAgICAgICAqL1xuICAgICAgICBNYXBQb2x5Z29uc0N0cmwucHJvdG90eXBlLmRlZmF1bHRPcHRpb25zID0gYW5ndWxhci5tZXJnZSh7fSwgX3N1cGVyLmRlZmF1bHRPcHRpb25zLCB7XG4gICAgICAgICAgICBwYXRoOiAncGF0aCcsXG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNmZjYyNjInLFxuICAgICAgICAgICAgICAgIHdlaWdodDogNVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpdEJvdW5kczogZmFsc2VcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcFBvbHlnb25zQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwUG9seWdvbnNDdHJsIyRvbkluaXRcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEluaXQgY29tcG9uZW50XG4gICAgICAgICAqL1xuICAgICAgICBNYXBQb2x5Z29uc0N0cmwucHJvdG90eXBlLiRvbkluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfc3VwZXIuJG9uSW5pdC5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5zZXRQb3NpdGlvbkdldHRlclNldHRlcigpO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBQb2x5Z29uc0N0cmxcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcFBvbHlnb25zQ3RybCNzZXRQb3NpdGlvbkdldHRlclNldHRlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU2V0cyBnZXR0ZXIgZm9yIGNvb3JkaW5hdGVzIG9yIG51bGwgaWYgaXQgbm90IG5lZWRlZC4gVHJlYXRzIG9wdGlvbnMubW9kZWwuY29vcmRzXG4gICAgICAgICAqL1xuICAgICAgICBNYXBQb2x5Z29uc0N0cmwucHJvdG90eXBlLnNldFBvc2l0aW9uR2V0dGVyU2V0dGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHBhdGhQcm9wID0gdGhpcy5vcHRpb25zLnBhdGg7XG5cbiAgICAgICAgICAgIHRoaXMuZ2V0UG9zaXRpb24gPSB0aGlzLiRwYXJzZShwYXRoUHJvcCk7XG4gICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbi5hc3NpZ247XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcFBvbHlnb25zQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwUG9seWdvbnNDdHJsI3NldERlZmF1bHRQb3NpdGlvbnNJZk5lZWRlZFxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbW9kZWwgTWFya2VyIHRvIHNldCBwb3NpdGlvbiBmb3JcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENoZWNrcyBpZiBjdXJyZW50IHBvc2l0aW9ucyBpcyBlbXB0eSBhbmQgc2V0cyBkZWZhdWx0IGlmIG5lZWRlZFxuICAgICAgICAgKi9cbiAgICAgICAgTWFwUG9seWdvbnNDdHJsLnByb3RvdHlwZS5zZXREZWZhdWx0UG9zaXRpb25zSWZOZWVkZWQgPSBmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbnMgPSB0aGlzLmdldFBvc2l0aW9uKG1vZGVsKTtcblxuICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmlzQXJyYXkocG9zaXRpb25zKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24obW9kZWwsIFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwUG9seWdvbnNDdHJsXG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBQb2x5Z29uc0N0cmwjZ2V0QWxsUG9zaXRpb25zXG4gICAgICAgICAqIEByZXR1cm5zIHtBcnJheTxPYmplY3Q+fSBQb3NpdGlvbnMgZm9yIGdpdmVuIG1vZGVsIG9yIGFuIGVtcHR5IGFycmF5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBHZXRzIG1vZGVsIHBvc2l0aW9ucyBhcnJheS5cbiAgICAgICAgICovXG4gICAgICAgIE1hcFBvbHlnb25zQ3RybC5wcm90b3R5cGUuZ2V0QWxsUG9zaXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHBhdGhzID0gX3N1cGVyLmdldEFsbFBvc2l0aW9ucy5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sIHBhdGhzKTsgLy9mbGF0dGVuIGFycmF5IG9mIGFycmF5c1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBQb2x5Z29uc0N0cmxcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcFBvbHlnb25zQ3RybCNzZXRQb3NpdGlvblxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbW9kZWwgTWFya2VyIHRvIHNldCBwb3NpdGlvbiBmb3JcbiAgICAgICAgICogQHBhcmFtIHtBcnJheTxNYXB+cG9zaXRpb24+fDxNYXB+cG9zaXRpb24+fSBwb3NpdGlvbiBQb3NpdGlvbiB0byBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIERlZmF1bHQgbWFrZXIgcG9zaXRpb24gc2V0dGVyLiBXZSB1c2UgaXQgaWYgY29vcmRzIGlzIHNldCB0byAnc2VsZidcbiAgICAgICAgICovXG4gICAgICAgIE1hcFBvbHlnb25zQ3RybC5wcm90b3R5cGUuc2V0UG9zaXRpb24gPSBmdW5jdGlvbiAobW9kZWwsIHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBtb2RlbFt0aGlzLmRlZmF1bHRPcHRpb25zLnBhdGhdID0gcG9zaXRpb247XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcFBvbHlnb25zQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwUG9seWdvbnNDdHJsI2dldFBvc2l0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtb2RlbCBNYXJrZXIgdG8gZ2V0IHBvc2l0aW9uIGZvclxuICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXk8TWFwfnBvc2l0aW9uPnw8TWFwfnBvc2l0aW9uPn0gUG9zaXRpb24gZm9yIGEgbW9kZWxcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIERlZmF1bHQgcG9seWdvbiBwb3NpdGlvbiBnZXR0ZXIuIFdlIHVzZSBpdCBpZiBjb29yZHMgaXMgc2V0IHRvICdzZWxmJ1xuICAgICAgICAgKi9cbiAgICAgICAgTWFwUG9seWdvbnNDdHJsLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChtb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIG1vZGVsW3RoaXMuZGVmYXVsdE9wdGlvbnMucGF0aF07XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcFBvbHlnb25zQ3RybFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwUG9seWdvbnNDdHJsI2lzTW9kZWxFbXB0eVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbW9kZWwgTW9kZWwgdG8gY2hlY2sgcG9zaXRpb24gZm9yXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGN1cnJlbnQgbW9kZWwgaXMgZW1wdHlcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENoZWNrcyB3aGV0aGVyIG1vZGVsIGlzIGVtcHR5XG4gICAgICAgICAqL1xuICAgICAgICBNYXBQb2x5Z29uc0N0cmwucHJvdG90eXBlLmlzTW9kZWxFbXB0eSA9IGZ1bmN0aW9uIChtb2RlbCkge1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbihtb2RlbCk7XG4gICAgICAgICAgICByZXR1cm4gIXBvc2l0aW9uIHx8ICFwb3NpdGlvbi5sZW5ndGggfHwgIXBvc2l0aW9uWzBdLmxhdGl0dWRlIHx8ICFwb3NpdGlvblswXS5sb25naXR1ZGU7XG4gICAgICAgIH07XG5cblxuICAgICAgICByZXR1cm4gTWFwUG9seWdvbnNDdHJsO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGNvbnRyb2xsZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBQb2x5Z29uc0N0cmxCdWlsZGVyKCRjb250cm9sbGVyLCAkc2NvcGUsIE1hcFBvbHlnb25zQ3RybEZjdCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSAkY29udHJvbGxlcihNYXBQb2x5Z29uc0N0cmxGY3QsIHtcbiAgICAgICAgICAgICRzY29wZTogJHNjb3BlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKGluc3RhbmNlLCB0aGlzKTtcbiAgICAgICAgaW5zdGFuY2UuJG9uSW5pdCgpO1xuXG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwaXBNYXBQb2x5Z29ucyhwaXBNYXBFbGVtZW50c0ZjdCkge1xuICAgICAgICByZXR1cm4gYW5ndWxhci5leHRlbmQoe30sIHBpcE1hcEVsZW1lbnRzRmN0LCB7XG4gICAgICAgICAgICByZXF1aXJlOiBbJ15waXBNYXAnLCAncGlwTWFwUG9seWdvbnMnXSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdNYXBQb2x5Z29uc0N0cmwnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdlbGVtZW50cy9wb2x5Z29ucy9tYXAtcG9seWdvbnMuaHRtbCdcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ3BpcE1hcHNFbGVtZW50cycpXG4gICAgICAgIC5mYWN0b3J5KCdNYXBQb2x5Z29uc0N0cmxGY3QnLCBNYXBQb2x5Z29uc0N0cmxGY3QpXG4gICAgICAgIC5jb250cm9sbGVyKCdNYXBQb2x5Z29uc0N0cmwnLCBNYXBQb2x5Z29uc0N0cmxCdWlsZGVyKVxuICAgICAgICAuZGlyZWN0aXZlKCdwaXBNYXBQb2x5Z29ucycsIHBpcE1hcFBvbHlnb25zKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZGlyZWN0aXZlXG4gICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50LnBpcE1hcFBvbHlsaW5lc1xuICAgICAqIEByZXN0cmljdCBBRVxuICAgICAqXG4gICAgICogQHNjb3BlXG4gICAgICogQHByb3BlcnR5IHtBcnJheTxPYmplY3Q+fSBwaXBNb2RlbHMgUG9seWxpbmVzIGFycmF5XG4gICAgICogQHByb3BlcnR5IHtPYmplY3R9IHBpcE9wdGlvbnMgT3B0aW9ucyBmb3IgYSBtYXAgcG9seWxpbmVzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb24gIGl0IGV4dGVuZHMgcGlwTWFwRWxlbWVudHNGY3RcbiAgICAgKiBAc2VlIHBpcE1hcENvbXBvbmVudC5waXBNYXBFbGVtZW50c0ZjdFxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gTWFwUG9seWxpbmVzQ3RybEZjdChNYXBQb2x5Z29uc0N0cmxGY3QpIHtcbiAgICAgICAgLypAbmdJbmplY3QqL1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIENvbnRyb2xsZXJcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcFBvbHlsaW5lc0N0cmxcbiAgICAgICAgICogQG1peGVzIHBpcE1hcENvbXBvbmVudC5tYXBFdmVudEhhbmRsZXJNaXhpbkZjdFxuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICogQGV4dGVuZHMgcGlwTWFwQ29tcG9uZW50Lk1hcFBvbHlnb25zQ3RybFxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ29udHJvbGxlciBmb3IgYSBtYXAgcG9seWxpbmVzXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBNYXBQb2x5bGluZXNDdHJsKCRpbmplY3RvciwgJHNjb3BlKSB7XG4gICAgICAgICAgICBNYXBQb2x5Z29uc0N0cmxGY3QuY2FsbCh0aGlzLCAkaW5qZWN0b3IsICRzY29wZSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHZhciBfc3VwZXIgPSBNYXBQb2x5Z29uc0N0cmxGY3QucHJvdG90eXBlO1xuICAgICAgICBNYXBQb2x5bGluZXNDdHJsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoX3N1cGVyKTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgICAgICogQHByb3BlcnR5T2YgcGlwTWFwQ29tcG9uZW50Lk1hcFBvbHlsaW5lc0N0cmxcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcFBvbHlsaW5lc0N0cmwjZGVmYXVsdE9wdGlvbnNcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQGRlc2NyaXB0aW9uIERlZmF1bHQgbWFwIGNvbXBvbmVudHNcbiAgICAgICAgICovXG4gICAgICAgIE1hcFBvbHlsaW5lc0N0cmwucHJvdG90eXBlLmRlZmF1bHRPcHRpb25zID0gYW5ndWxhci5tZXJnZSh7fSwgX3N1cGVyLmRlZmF1bHRPcHRpb25zLCB7fSk7XG5cblxuICAgICAgICByZXR1cm4gTWFwUG9seWxpbmVzQ3RybDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgY29udHJvbGxlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hcFBvbHlsaW5lc0N0cmxCdWlsZGVyKCRjb250cm9sbGVyLCAkc2NvcGUsIE1hcFBvbHlsaW5lc0N0cmxGY3QpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gJGNvbnRyb2xsZXIoTWFwUG9seWxpbmVzQ3RybEZjdCwge1xuICAgICAgICAgICAgJHNjb3BlOiAkc2NvcGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYW5ndWxhci5leHRlbmQoaW5zdGFuY2UsIHRoaXMpO1xuICAgICAgICBpbnN0YW5jZS4kb25Jbml0KCk7XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBpcE1hcFBvbHlsaW5lcyhwaXBNYXBFbGVtZW50c0ZjdCkge1xuICAgICAgICByZXR1cm4gYW5ndWxhci5leHRlbmQoe30sIHBpcE1hcEVsZW1lbnRzRmN0LCB7XG4gICAgICAgICAgICByZXF1aXJlOiBbJ15waXBNYXAnLCAncGlwTWFwUG9seWxpbmVzJ10sXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnTWFwUG9seWxpbmVzQ3RybCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2VsZW1lbnRzL3BvbHlsaW5lcy9tYXAtcG9seWxpbmVzLmh0bWwnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzRWxlbWVudHMnKVxuICAgICAgICAuZmFjdG9yeSgnTWFwUG9seWxpbmVzQ3RybEZjdCcsIE1hcFBvbHlsaW5lc0N0cmxGY3QpXG4gICAgICAgIC5jb250cm9sbGVyKCdNYXBQb2x5bGluZXNDdHJsJywgTWFwUG9seWxpbmVzQ3RybEJ1aWxkZXIpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3BpcE1hcFBvbHlsaW5lcycsIHBpcE1hcFBvbHlsaW5lcyk7XG59KSgpOyIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL3RzZC5kLnRzXCIgLz5cblxuaW1wb3J0ICcuL3BvcHVwJztcbmltcG9ydCAnLi9lbGVtZW50cyc7XG5pbXBvcnQgJy4vZWRpdCc7XG4vL2ltcG9ydCAnLi9lZGl0YWJsZV9lbGVtZW50L0VkaXRhYmxlRWxlbWVudCc7XG5cbntcbiAgICBhbmd1bGFyLm1vZHVsZSgncGlwTWFwcycsIFtcbiAgICAgICAgJ3VpR21hcGdvb2dsZS1tYXBzJyxcbiAgICAgICAgLy8gTWFwIHNlcnZpY2VzXG4gICAgICAgICdwaXBNYXBzLlRlbXBsYXRlcycsXG4gICAgICAgICdwaXBNYXBzUG9wdXAnLFxuICAgICAgICAncGlwTWFwc0VsZW1lbnRzJyxcbiAgLy8gICAgICAncGlwTWFwc0VkaXRhYmxlRWxlbWVudCcsXG4gICAgICAgICdwaXBNYXBzRWRpdCdcbiAgICBdKTtcbn1cblxuaW1wb3J0ICcuL2NvbmZpZyc7XG5pbXBvcnQgJy4vR29vZ2xlTWFwc1JlbW92ZUFmdGVyU2VydmljZSc7XG5pbXBvcnQgJy4vSGVscFNlcnZpY2UnO1xuaW1wb3J0ICcuL01hcCc7XG5pbXBvcnQgJy4vTWFwRXZlbnRIYW5kbGVyU2VydmljZSc7XG4iLCJcbigoKSA9PiB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBNYXBFbGVtZW50UG9wdXBGY3QoJGluamVjdG9yKSB7XG4gICAgdmFyIHBpcE1hcEhlbHBlclNydiA9ICRpbmplY3Rvci5nZXQoJ3BpcE1hcEhlbHBlclNydicpO1xuICAgIHZhciAkcm9vdFNjb3BlID0gJGluamVjdG9yLmdldCgnJHJvb3RTY29wZScpO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudFBvcHVwRmN0XG4gICAgICpcbiAgICAgKiBAY2xhc3NcbiAgICAgKiBAZGVzY3JpcHRpb24gRWxlbWVudCBwb3B1cCBjbGFzc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hcEVsZW1lbnRQb3B1cEZjdChvcHRpb25zKSB7XG4gICAgICB2YXIgZXIgPSBuZXcgRXJyb3IoKTtcbiAgICAgIHZhciBvZmZzZXQgPSBwaXBNYXBIZWxwZXJTcnYuY3JlYXRlU2l6ZShvcHRpb25zLm9mZnNldC53aWR0aCwgb3B0aW9ucy5vZmZzZXQuaGVpZ2h0KTtcblxuICAgICAgdGhpcy5vcHRpb25zID0gYW5ndWxhci5tZXJnZSh7XG4gICAgICAgIGJveENsYXNzOiAncGlwLW1hcC1pbmZvLXdpbmRvdyAnICsgb3B0aW9ucy5jbGFzc05hbWUsXG4gICAgICAgIGNsb3NlQm94VVJMOiAnJyxcbiAgICAgICAgcGl4ZWxPZmZzZXQ6IG9mZnNldFxuICAgICAgfSwgb3B0aW9ucy5vcHRpb25zKTtcblxuICAgICAgdGhpcy50ZW1wbGF0ZVVybCA9IG9wdGlvbnMudGVtcGxhdGVVcmw7XG5cbiAgICAgIHRoaXMub25TaG93ID0gb3B0aW9ucy5vblNob3c7XG4gICAgICB0aGlzLm9uQ2xvc2UgPSBvcHRpb25zLm9uQ2xvc2U7XG5cbiAgICAgIHRoaXMuaW5pdEJyZWFrcG9pbnRzKG9wdGlvbnMub2Zmc2V0LmJyZWFrcG9pbnRzKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRQb3B1cEZjdFxuICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBFbGVtZW50UG9wdXBGY3QjaW5pdEJyZWFrcG9pbnRzXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0Pn0gYnJlYWtwb2ludHMgQXJyYXkgb2YgYnJlYWtwb2ludCB0byBpbml0XG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb24gSW5pdCBwb3B1cCBicmVha3BvaW50cyBpZiBhbnlcbiAgICAgKi9cbiAgICBNYXBFbGVtZW50UG9wdXBGY3QucHJvdG90eXBlLmluaXRCcmVha3BvaW50cyA9IGZ1bmN0aW9uIChicmVha3BvaW50cykge1xuICAgICAgYnJlYWtwb2ludHMgPSBicmVha3BvaW50cyB8fCBbXTtcblxuICAgICAgdGhpcy5icmVha3BvaW50cyA9IGJyZWFrcG9pbnRzLm1hcChmdW5jdGlvbiAoYnJlYWtwb2ludCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6IGJyZWFrcG9pbnQubmFtZSxcbiAgICAgICAgICBvZmZzZXQ6IHBpcE1hcEhlbHBlclNydi5jcmVhdGVTaXplKGJyZWFrcG9pbnQud2lkdGgsIGJyZWFrcG9pbnQuaGVpZ2h0KVxuICAgICAgICB9O1xuICAgICAgfSwgdGhpcyk7XG5cbiAgICAgIHRoaXMuZGVmYXVsdE9mZnNldCA9IHRoaXMub3B0aW9ucy5waXhlbE9mZnNldDtcbiAgICB9O1xuXG4gICAgTWFwRWxlbWVudFBvcHVwRmN0LnByb3RvdHlwZS5zZXROZXdPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgIHZhciBvZmZzZXQgPSBwaXBNYXBIZWxwZXJTcnYuY3JlYXRlU2l6ZShvcHRpb25zLm9mZnNldC53aWR0aCwgb3B0aW9ucy5vZmZzZXQuaGVpZ2h0KTtcblxuICAgICAgdGhpcy5vcHRpb25zID0gYW5ndWxhci5tZXJnZSh7XG4gICAgICAgIGJveENsYXNzOiAncGlwLW1hcC1pbmZvLXdpbmRvdyAnICsgb3B0aW9ucy5jbGFzc05hbWUsXG4gICAgICAgIGNsb3NlQm94VVJMOiAnJyxcbiAgICAgICAgcGl4ZWxPZmZzZXQ6IG9mZnNldFxuICAgICAgfSwgb3B0aW9ucy5vcHRpb25zKTtcblxuICAgICAgdGhpcy5pbml0QnJlYWtwb2ludHMob3B0aW9ucy5vZmZzZXQuYnJlYWtwb2ludHMpO1xuICAgICAgdGhpcy5maXRPZmZzZXQoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRQb3B1cEZjdFxuICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBFbGVtZW50UG9wdXBGY3QjY2xvc2VcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvbiBDbG9zZXMgZWxlbWVudCBwb3B1cFxuICAgICAqL1xuICAgIE1hcEVsZW1lbnRQb3B1cEZjdC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLm9uQ2xvc2UoKTtcbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBFbGVtZW50UG9wdXBGY3RcbiAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudFBvcHVwRmN0I3Nob3dcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbW9kZWwgdG8gc2hvdyBwb3B1cCBmb3JcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvbiBTaG93cyBlbGVtZW50IHBvcHVwXG4gICAgICovXG4gICAgTWFwRWxlbWVudFBvcHVwRmN0LnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICB0aGlzLm9uU2hvdyhtb2RlbCk7XG4gICAgICB0aGlzLmZpdE9mZnNldCgpO1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRQb3B1cEZjdFxuICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBFbGVtZW50UG9wdXBGY3Qjc2V0UG9zaXRpb25cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIHBvc2l0aW9uIG9mIHRoZSBlbGVtZW50IHBvcHVwXG4gICAgICovXG4gICAgTWFwRWxlbWVudFBvcHVwRmN0LnByb3RvdHlwZS5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuZml0T2Zmc2V0KCk7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwRWxlbWVudFBvcHVwRmN0XG4gICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRQb3B1cEZjdCNmaXRPZmZzZXRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqL1xuICAgIE1hcEVsZW1lbnRQb3B1cEZjdC5wcm90b3R5cGUuZml0T2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGhhc0JyZWFrcG9pbnQgPSB0aGlzLmJyZWFrcG9pbnRzLnNvbWUoZnVuY3Rpb24gKGJyZWFrcG9pbnQpIHtcbiAgICAgICAgdmFyIGlzVGFyZ2V0QnJlYWtwb2ludCA9ICRyb290U2NvcGUudXRpbHMuaGFzQnJlYWtwb2ludChicmVha3BvaW50Lm5hbWUpO1xuXG4gICAgICAgIGlmIChpc1RhcmdldEJyZWFrcG9pbnQpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMucGl4ZWxPZmZzZXQgPSBicmVha3BvaW50Lm9mZnNldDtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcyk7XG5cbiAgICAgIGlmICghaGFzQnJlYWtwb2ludCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMucGl4ZWxPZmZzZXQgPSB0aGlzLmRlZmF1bHRPZmZzZXQ7XG4gICAgICB9XG4gICAgfTtcblxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBFbGVtZW50UG9wdXBGY3RcbiAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBFbGVtZW50UG9wdXBGY3QjZml0T2Zmc2V0XG4gICAgICAgKiBAc3RhdGljXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKi9cbiAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXBFbGVtZW50UG9wdXBGY3Qob3B0aW9ucyk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzUG9wdXAnKVxuICAgIC5mYWN0b3J5KCdNYXBFbGVtZW50UG9wdXBGY3QnLCBNYXBFbGVtZW50UG9wdXBGY3QpO1xuXG59KSgpO1xuIiwiKCgpID0+IHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZGlyZWN0aXZlXG4gICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lm1hcFBvcHVwXG4gICAgICogQHJlc3RyaWN0IEFcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEaXJlY3RpdmUgZm9yIHBvcHVwIGZvciBtYXAgZWxlbWVudHMuIEFsc28gdHJlYXRzIGVkaXRhYmxlIGVsZW1lbnRzIHByb3Blcmx5XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwUG9wdXAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgcG9wdXA6ICc9cGlwTWFwUG9wdXAnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwb3B1cC9tYXAtcG9wdXAuaHRtbCdcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgncGlwTWFwc1BvcHVwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgncGlwTWFwUG9wdXAnLCBtYXBQb3B1cCk7XG59KSgpOyIsIigoKSA9PiB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxuICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQubWFwUG9wdXBDb250ZW50XG4gICAqIEByZXN0cmljdCBBRVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb24gRGlyZWN0aXZlIGZvciBiYXNpYyBwb3B1cCBjb250ZW50LiBUcmFuc2NsdWRlZC5cbiAgICovXG4gIGZ1bmN0aW9uIG1hcFBvcHVwQ29udGVudCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RyaWN0ICAgICA6ICdBRScsXG4gICAgICB0cmFuc2NsdWRlIDogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOiAncG9wdXAvbWFwLXBvcHVwLWNvbnRlbnQuaHRtbCdcbiAgICB9O1xuICB9XG5cbiAgYW5ndWxhci5tb2R1bGUoJ3BpcE1hcHNQb3B1cCcpXG4gICAgLmRpcmVjdGl2ZSgncGlwTWFwUG9wdXBDb250ZW50JywgbWFwUG9wdXBDb250ZW50KTtcbn0pKCk7XG4iLCIoKCkgPT4ge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGZ1bmN0aW9uIE1hcFBvcHVwRmN0KCRpbmplY3Rvcikge1xuICAgICAgICB2YXIgTWFwRWxlbWVudFBvcHVwID0gJGluamVjdG9yLmdldCgnTWFwRWxlbWVudFBvcHVwRmN0Jyk7XG4gICAgICAgIHZhciAkcm9vdFNjb3BlID0gJGluamVjdG9yLmdldCgnJHJvb3RTY29wZScpO1xuICAgICAgICB2YXIgJHRpbWVvdXQgPSAkaW5qZWN0b3IuZ2V0KCckdGltZW91dCcpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwUG9wdXBGY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENvbnRyb2xsZXIgZm9yIHBvcHVwIGZvciBtYXAgZWxlbWVudHMgZGlyZWN0aXZlXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBNYXBQb3B1cEZjdCgpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwUG9wdXBGY3RcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcFBvcHVwRmN0I2FkZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBQb3B1cCBvcHRpb25zXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBJbml0IHBvcHVwIGNvbmZpZ3VyYXRpb25cbiAgICAgICAgICovXG4gICAgICAgIE1hcFBvcHVwRmN0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBNYXBFbGVtZW50UG9wdXAuY3JlYXRlKG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvZ2dsZTogdGhpcy50b2dnbGUuYmluZCh0aGlzLCBlbGVtZW50KSxcbiAgICAgICAgICAgICAgICBjbG9zZTogdGhpcy5jbG9zZS5iaW5kKHRoaXMsIGVsZW1lbnQpLFxuICAgICAgICAgICAgICAgIHNldFBvc2l0aW9uOiAocG9zaXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5vcHRpb25zLnVwZGF0ZVBvc2l0aW9uID09PSBmYWxzZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldE5ld09wdGlvbnM6IChvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0TmV3T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBQb3B1cEZjdFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwUG9wdXBGY3QjdG9nZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7cGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRQb3B1cEZjdH0gZWxlbWVudCBFbGVtZW50IHBvcHVwIHRvIHNob3dcbiAgICAgICAgICogQHBhcmFtIHtNYXB+ZXZlbnRPYmp9IGV2ZW50T2JqIEV2ZW50IG9iamVjdCBmb3IgcG9wdXBcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFRvZ2dsZXMgcG9wdXBcbiAgICAgICAgICovXG4gICAgICAgIE1hcFBvcHVwRmN0LnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoZWxlbWVudCwgZXZlbnRPYmopIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTmV3TW9kZWwoZXZlbnRPYmopKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuZWxlbWVudCAhPT0gZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3coZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLCAxMCk7IC8vbWFnaWMgbnVtYmVyIHRvIGxldCBpbmZvLXBvcHVwLXdpbmRvdyB0byBiZSBkZXN0cm95ZWQgYW5kIGluaXQgb25jZSBhZ2FpblxuICAgICAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24oZXZlbnRPYmopO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG1ldGhvZE9mIHBpcE1hcENvbXBvbmVudC5NYXBQb3B1cEZjdFxuICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwUG9wdXBGY3QjaXNOZXdNb2RlbFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge01hcH5ldmVudE9ian0gZXZlbnRPYmogRXZlbnQgb2JqZWN0IGZvciBwb3B1cFxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBuZXdcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENoZWNrcyB3aGV0aGVyIHRoaXMgaXMgbmV3IHBvcHVwIHRvIHNob3dcbiAgICAgICAgICovXG4gICAgICAgIE1hcFBvcHVwRmN0LnByb3RvdHlwZS5pc05ld01vZGVsID0gZnVuY3Rpb24gKGV2ZW50T2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbCAhPT0gZXZlbnRPYmoubW9kZWw7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcFBvcHVwRmN0XG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBQb3B1cEZjdCNzaG93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7cGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRQb3B1cEZjdH0gZWxlbWVudCBFbGVtZW50IHBvcHVwIHRvIHNob3dcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNob3dzIHBvcHVwIGZvciBhbiBlbGVtZW50IHdpdGggZ2l2ZW4gZXZlbnQgb2JqZWN0XG4gICAgICAgICAqL1xuICAgICAgICBNYXBQb3B1cEZjdC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMubW9kZWwgfHwgIXRoaXMucG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaXNFbmFibGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5zZXRCcmVha3BvaW50SGFuZGxlcihlbGVtZW50KTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwUG9wdXBGY3RcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcFBvcHVwRmN0I3NldFBvc2l0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7TWFwfmV2ZW50T2JqfSBldmVudE9iaiBFdmVudCBmb3Igc2hvd2luZyBwb3B1cFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ2xvc2VzIHBvcHVwIHdpbmRvdyBhbmQgY2xlYXJzIHJlbGF0ZWQgZGF0YVxuICAgICAgICAgKi9cbiAgICAgICAgTWFwUG9wdXBGY3QucHJvdG90eXBlLnNldFBvc2l0aW9uID0gZnVuY3Rpb24gKGV2ZW50T2JqKSB7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbihldmVudE9iaik7XG4gICAgICAgICAgICB0aGlzLm1vZGVsID0gZXZlbnRPYmoubW9kZWw7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2hvdyh0aGlzLm1vZGVsKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwUG9wdXBGY3RcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcFBvcHVwRmN0I3NldEJyZWFrcG9pbnRIYW5kbGVyXG4gICAgICAgICAqIEBwYXJhbSB7cGlwTWFwQ29tcG9uZW50Lk1hcEVsZW1lbnRQb3B1cEZjdH0gZWxlbWVudCBFbGVtZW50IHBvcHVwIHRvIHNob3dcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNldHMgYnJlYWtwb2ludCBoYW5kbGVyXG4gICAgICAgICAqL1xuICAgICAgICBNYXBQb3B1cEZjdC5wcm90b3R5cGUuc2V0QnJlYWtwb2ludEhhbmRsZXIgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVCcmVha3BvaW50SGFuZGxlciA9ICRyb290U2NvcGUuJG9uKCdwaXBNYWluTGF5b3V0UmVzaXplZCcsIGVsZW1lbnQuc2V0UG9zaXRpb24uYmluZChlbGVtZW50KSk7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcFBvcHVwRmN0XG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBQb3B1cEZjdCNyZXNldEJyZWFrcG9pbnRIYW5kbGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBSZXNldHMgYnJlYWtwb2ludCBoYW5kbGVyXG4gICAgICAgICAqL1xuICAgICAgICBNYXBQb3B1cEZjdC5wcm90b3R5cGUucmVzZXRCcmVha3BvaW50SGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlbW92ZUJyZWFrcG9pbnRIYW5kbGVyKSB0aGlzLnJlbW92ZUJyZWFrcG9pbnRIYW5kbGVyKCk7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcFBvcHVwRmN0XG4gICAgICAgICAqIEBuYW1lIHBpcE1hcENvbXBvbmVudC5NYXBQb3B1cEZjdCNjbG9zZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ2xvc2VzIHBvcHVwIHdpbmRvdyBhbmQgY2xlYXJzIHJlbGF0ZWQgZGF0YVxuICAgICAgICAgKi9cbiAgICAgICAgTWFwUG9wdXBGY3QucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbG9zZSgpO1xuXG4gICAgICAgICAgICB0aGlzLnJlc2V0QnJlYWtwb2ludEhhbmRsZXIoKTtcblxuICAgICAgICAgICAgdGhpcy5tb2RlbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmlzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBtZXRob2RPZiBwaXBNYXBDb21wb25lbnQuTWFwUG9wdXBGY3RcbiAgICAgICAgICogQG5hbWUgcGlwTWFwQ29tcG9uZW50Lk1hcFBvcHVwRmN0I2dldFBvc2l0aW9uXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7TWFwfmV2ZW50T2JqfSBldmVudE9iaiBFdmVudCBmb3Igc2hvd2luZyBwb3B1cFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gR2V0cyBwb3NpdGlvbiBmb3IgYSBwb3B1cFxuICAgICAgICAgKi9cbiAgICAgICAgTWFwUG9wdXBGY3QucHJvdG90eXBlLmdldFBvc2l0aW9uID0gZnVuY3Rpb24gKGV2ZW50T2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnRPYmoucG9zaXRpb247XG4gICAgICAgIH07XG5cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICAgKiBAbWV0aG9kT2YgcGlwTWFwQ29tcG9uZW50Lk1hcFBvcHVwRmN0XG4gICAgICAgICAgICAgKiBAbmFtZSBwaXBNYXBDb21wb25lbnQuTWFwUG9wdXBGY3QjY3JlYXRlXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7cGlwTWFwQ29tcG9uZW50Lk1hcFBvcHVwRmN0fSBQb3B1cCBzZXJ2aWNlIGluc3RhbmNlXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uIENyZWF0ZXMgcG9wdXAgc2VydmljZSBpbnN0YW5jZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE1hcFBvcHVwRmN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ3BpcE1hcHNQb3B1cCcpXG4gICAgICAgIC5mYWN0b3J5KCdNYXBQb3B1cEZjdCcsIE1hcFBvcHVwRmN0KTtcbn0pKCk7Iiwie1xuICAgIGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzUG9wdXAnLCBbXSk7XG59XG5cbmltcG9ydCAnLi9NYXBFbGVtZW50UG9wdXBTZXJ2aWNlJztcbmltcG9ydCAnLi9NYXBQb3B1cCc7XG5pbXBvcnQgJy4vTWFwUG9wdXBDb250ZW50JztcbmltcG9ydCAnLi9NYXBQb3B1cFNlcnZpY2UnOyIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzLlRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwTWFwcy5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ21hcC5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cInBpcC1tYXAtc2lkZS1wYW5lbCBmbGV4LWZpeGVkIGZsZXgtb3JkZXItMVwiIG5nLWlmPVwiY3RybC5zaWRlUGFuZWwuc2hvd1wiPjxuZy1pbmNsdWRlIHNyYz1cImN0cmwuc2lkZVBhbmVsLnRlbXBsYXRlXCI+PC9uZy1pbmNsdWRlPjwvZGl2Pjx1aS1nbWFwLWdvb2dsZS1tYXAgY2xhc3M9XCJmbGV4IHBpcC1tYXAtcHJvdmlkZXItd3JhcHBlclwiIGNvbnRyb2w9XCJjdHJsLmNvbXBvbmVudE9wdGlvbnMuY29udHJvbFwiIGNlbnRlcj1cImN0cmwubWFwLmNlbnRlclwiIHpvb209XCJjdHJsLm1hcC56b29tXCIgb3B0aW9ucz1cImN0cmwubWFwLm9wdGlvbnNcIiBib3VuZHM9XCJjdHJsLm1hcC5ib3VuZHNcIiBldmVudHM9XCJjdHJsLm1hcC5ldmVudHNcIj48ZGl2IHBpcC1tYXAtcG9wdXA9XCJjdHJsLnBvcHVwXCIgbmctaWY9XCJjdHJsLnBvcHVwXCI+PC9kaXY+PG5nLXRyYW5zY2x1ZGU+PC9uZy10cmFuc2NsdWRlPjwvdWktZ21hcC1nb29nbGUtbWFwPicpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcE1hcHMuVGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzLlRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnZWRpdC9NYXBFZGl0Lmh0bWwnLFxuICAgICc8cGlwLW1hcCBwaXAtb3B0aW9ucz1cIiRjdHJsLm1hcFwiPjx1aS1nbWFwLWRyYXdpbmctbWFuYWdlciBvcHRpb25zPVwiJGN0cmwuZHJhd2luZ01hbmFnZXJPcHRpb25zXCIgY29udHJvbD1cIiRjdHJsLmRyYXdpbmdNYW5hZ2VyQ29udHJvbFwiPjwvdWktZ21hcC1kcmF3aW5nLW1hbmFnZXI+PHBpcC1tYXAtcG9seWdvbnMgcGlwLW1vZGVscz1cIiRjdHJsLmRpc2FibGVkUG9seWdvbnNcIiBwaXAtb3B0aW9ucz1cIiRjdHJsLmRpc2FibGVkUG9seWdvbnNPcHRpb25zXCI+PC9waXAtbWFwLXBvbHlnb25zPjxwaXAtbWFwLXBvbHlsaW5lcyBwaXAtbW9kZWxzPVwiJGN0cmwuZGlzYWJsZWRQb2x5bGluZXNcIiBwaXAtb3B0aW9ucz1cIiRjdHJsLmRpc2FibGVkUG9seWxpbmVzT3B0aW9uc1wiPjwvcGlwLW1hcC1wb2x5bGluZXM+PHBpcC1tYXAtY2lyY2xlcyBwaXAtbW9kZWxzPVwiJGN0cmwuZGlzYWJsZWRDaXJjbGVzXCIgcGlwLW9wdGlvbnM9XCIkY3RybC5kaXNhYmxlZENpcmNsZXNPcHRpb25zXCI+PC9waXAtbWFwLWNpcmNsZXM+PC9waXAtbWFwPjxkaXYgY2xhc3M9XCJhY3Rpb24tcGFuZWwgdy1zdHJldGNoIGxheW91dC1yb3cgbGF5b3V0LWFsaWduLWNlbnRlci1jZW50ZXJcIiBuZy1pZj1cIiRjdHJsLnNob3dQYW5lbFwiPjxkaXYgY2xhc3M9XCJhY3Rpb24tYnV0dG9ucyBjb2xvci1wcmltYXJ5LWJnIGZsZXgtZml4ZWRcIj48bWQtYnV0dG9uIG5nLWNsaWNrPVwiJGN0cmwuY2xlYXJNYXAoKVwiIG5nLWlmPVwiJGN0cmwuc2hvd0FjdGlvbihcXCdjbGVhclxcJylcIj57eyBcXCdDTEVBUl9NQVBcXCcgfCB0cmFuc2xhdGUgfX08L21kLWJ1dHRvbj48bWQtYnV0dG9uIG5nLWNsaWNrPVwiJGN0cmwuYWRkQ2lyY2xlKClcIiBuZy1pZj1cIiRjdHJsLnNob3dBY3Rpb24oXFwnY2lyY2xlXFwnKVwiPnt7IFxcJ0FERF9DSVJDTEVcXCcgfCB0cmFuc2xhdGUgfX08L21kLWJ1dHRvbj48bWQtYnV0dG9uIG5nLWNsaWNrPVwiJGN0cmwuYWRkUG9seWdvbigpXCIgbmctaWY9XCIkY3RybC5zaG93QWN0aW9uKFxcJ3BvbHlnb25cXCcpXCI+e3sgXFwnQUREX1BPTFlHT05cXCcgfCB0cmFuc2xhdGUgfX08L21kLWJ1dHRvbj48bWQtYnV0dG9uIG5nLWNsaWNrPVwiJGN0cmwuYWRkTGluZSgpXCIgbmctaWY9XCIkY3RybC5zaG93QWN0aW9uKFxcJ2xpbmVcXCcpXCI+e3sgXFwnQUREX0xJTkVcXCcgfCB0cmFuc2xhdGUgfX08L21kLWJ1dHRvbj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzLlRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwTWFwcy5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2VkaXRfb2xkL21hcC1lZGl0LXRvb2wuaHRtbCcsXG4gICAgJzxkaXYgbGF5b3V0PVwiY29sdW1uXCIgY2xhc3M9XCJwaXAtbWFwLWVkaXQtdG9vbCB0aGVtZS10ZXh0LXByaW1hcnlcIiBuZy1pbml0PVwiY3VycmVudEVsZW1lbnQgPSBlZGl0Q3RybC5jdXJyZW50RWxlbWVudDsgdG9vbCA9IGN1cnJlbnRFbGVtZW50LnRvb2w7IG1vZGVsID0gdG9vbC5jdXJyZW50TW9kZWxcIj48aGVhZGVyIGhpZGUteHM9XCJcIiBjbGFzcz1cInBpcC1tYXAtZWRpdC1oZWFkZXJcIiBsYXlvdXQ9XCJjb2x1bW5cIiBsYXlvdXQtYWxpZ249XCJzcGFjZS1iZXR3ZWVuXCI+PGgyIGNsYXNzPVwibWQtdGl0bGVcIj57ezo6IGN1cnJlbnRFbGVtZW50LmdldEVkaXRUaXRsZSgpIH19PC9oMj48ZGl2IGNsYXNzPVwicGlwLW1hcC1lZGl0LWFjdGlvbnNcIiBsYXlvdXQ9XCJyb3dcIj48c3BhbiBjbGFzcz1cInBpcC1tYXAtZWRpdC1hY3Rpb25zLWJsb2NrLW1haW5cIj48bWQtYnV0dG9uIG5nLWNsaWNrPVwidG9vbC51bmRvKClcIiBuZy1kaXNhYmxlZD1cInRvb2wuaXNVbmRvRGlzYWJsZWQoKVwiPjxtZC1pY29uIG1kLXN2Zy1pY29uPVwibWFwOnVuZG9cIiBhcmlhLWxhYmVsPVwiVW5kb1wiPjwvbWQtaWNvbj48L21kLWJ1dHRvbj48L3NwYW4+PG1kLWRpdmlkZXI+PC9tZC1kaXZpZGVyPjxzcGFuIGNsYXNzPVwicGlwLW1hcC1lZGl0LWFjdGlvbnMtYmxvY2stdG9vbFwiPjxtZC1idXR0b24gbmctcmVwZWF0PVwiYWN0aW9uIGluIHRvb2wuYWN0aW9uc1wiIG5nLWRpc2FibGVkPVwidG9vbC5pc0FjdGlvbkRpc2FibGVkKGFjdGlvbilcIiBuZy1jbGljaz1cInRvb2wuc2V0QWN0aW9uKGFjdGlvbilcIj48bWQtaWNvbiBtZC1zdmctaWNvbj1cInt7OjogYWN0aW9uLmRlZmluaXRpb24uaWNvbiB9fVwiIGFyaWEtbGFiZWw9XCJ7ezo6IGFjdGlvbi5kZWZpbml0aW9uLm5hbWUgfX1cIiBuZy1jbGFzcz1cInsgYWN0aXZlOiB0b29sLmlzQWN0aW9uQWN0aXZlKGFjdGlvbikgfVwiPjwvbWQtaWNvbj48L21kLWJ1dHRvbj48L3NwYW4+PC9kaXY+PC9oZWFkZXI+PGhlYWRlciBoaWRlLWd0LXhzPVwiXCIgY2xhc3M9XCJwaXAtbWFwLWVkaXQtaGVhZGVyXCIgbGF5b3V0PVwiY29sdW1uXCIgbGF5b3V0LWFsaWduPVwic3BhY2UtYmV0d2VlblwiPjxmb3JtIG5hbWU9XCJlZGl0Q3RybC5tb2RlbEZvcm1cIiBuZy1pbmNsdWRlPVwiZWRpdEN0cmwuY3VycmVudEVsZW1lbnQudG9vbC50ZW1wbGF0ZVwiPjwvZm9ybT48L2hlYWRlcj48bWQtZGl2aWRlcj48L21kLWRpdmlkZXI+PHNlY3Rpb24gZmxleD1cImF1dG9cIiBjbGFzcz1cInBpcC1tYXAtZWRpdC1jb250ZW50XCI+PGZvcm0gaGlkZS14cz1cIlwiIG5hbWU9XCJlZGl0Q3RybC5tb2RlbEZvcm1cIiBuZy1pbmNsdWRlPVwiZWRpdEN0cmwuY3VycmVudEVsZW1lbnQudG9vbC50ZW1wbGF0ZVwiPjwvZm9ybT48L3NlY3Rpb24+PG1kLWRpdmlkZXI+PC9tZC1kaXZpZGVyPjxmb290ZXIgaGlkZS14cz1cIlwiIGNsYXNzPVwicGlwLW1hcC1lZGl0LWZvb3RlclwiIGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cImVuZCBjZW50ZXJcIj48ZGl2IGZsZXg9XCJcIj48bWQtYnV0dG9uIG5nLWNsaWNrPVwiZWRpdEN0cmwucmVtb3ZlKClcIj57ezo6IFxcJ0RFTEVURVxcJyB8IHRyYW5zbGF0ZSB9fSB7ezo6IGN1cnJlbnRFbGVtZW50Lm5hbWUgfX08L21kLWJ1dHRvbj48L2Rpdj48bWQtYnV0dG9uIG5nLWNsaWNrPVwiZWRpdEN0cmwuY2FuY2VsKClcIj57ezo6IFxcJ0NBTkNFTFxcJyB8IHRyYW5zbGF0ZSB9fTwvbWQtYnV0dG9uPjxtZC1idXR0b24gbmctY2xpY2s9XCJlZGl0Q3RybC5zYXZlKClcIiBuZy1kaXNhYmxlZD1cImVkaXRDdHJsLm1vZGVsRm9ybS4kaW52YWxpZFwiPnt7OjogdG9vbC50aXRsZVNhdmUgfCB0cmFuc2xhdGUgfX08L21kLWJ1dHRvbj48L2Zvb3Rlcj48Zm9vdGVyIGhpZGUtZ3QteHM9XCJcIiBjbGFzcz1cInBpcC1tYXAtZWRpdC1mb290ZXJcIiBsYXlvdXQ9XCJyb3dcIiBsYXlvdXQtYWxpZ249XCJzdGFydCBjZW50ZXJcIj48ZGl2IGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cInNwYWNlLWFyb3VuZFwiPjxtZC1idXR0b24gbmctY2xpY2s9XCJ0b29sLnVuZG8oKVwiIG5nLWRpc2FibGVkPVwidG9vbC5pc1VuZG9EaXNhYmxlZCgpXCI+PG1kLWljb24gbWQtc3ZnLWljb249XCJtYXA6dW5kb1wiIGFyaWEtbGFiZWw9XCJSZW1vdmVcIj48L21kLWljb24+PC9tZC1idXR0b24+PC9kaXY+PG1kLWRpdmlkZXI+PC9tZC1kaXZpZGVyPjxtZC1tZW51IGZsZXg9XCJcIiBsYXlvdXQ9XCJjb2x1bW5cIj48bWQtYnV0dG9uIGNsYXNzPVwicGlwLW1hcC1lZGl0LWFjdGlvbnMtdHJpZ2dlclwiIG5nLWNsaWNrPVwiJG1kT3Blbk1lbnUoJGV2ZW50KVwiPjxtZC1pY29uIGNsYXNzPVwiYWN0aXZlXCIgbWQtc3ZnLWljb249XCJ7eyB0b29sLmN1cnJlbnRBY3Rpb24uZGVmaW5pdGlvbi5pY29uIH19XCIgYXJpYS1sYWJlbD1cIlRyaWdnZXIgbWVudVwiIG1kLW1lbnUtb3JpZ2luPVwiXCI+PC9tZC1pY29uPjxtZC1pY29uIG1kLXN2Zy1pY29uPVwibWFwOnRvb2xzXCIgYXJpYS1sYWJlbD1cIlRyaWFuZ2xlIGRvd25cIj48L21kLWljb24+PC9tZC1idXR0b24+PG1kLW1lbnUtY29udGVudCB3aWR0aD1cIjRcIj48bWQtbWVudS1pdGVtIG5nLXJlcGVhdD1cImFjdGlvbiBpbiB0b29sLmFjdGlvbnNcIj48bWQtYnV0dG9uIG5nLWNsaWNrPVwidG9vbC5zZXRBY3Rpb24oYWN0aW9uKVwiIG5nLWRpc2FibGVkPVwidG9vbC5pc0FjdGlvbkRpc2FibGVkKGFjdGlvbilcIj48bWQtaWNvbiBtZC1zdmctaWNvbj1cInt7OjogYWN0aW9uLmRlZmluaXRpb24uaWNvbiB9fVwiIGFyaWEtbGFiZWw9XCJ7ezo6IGFjdGlvbi5kZWZpbml0aW9uLm5hbWUgfX1cIiBuZy1jbGFzcz1cInsgYWN0aXZlOiB0b29sLmlzQWN0aW9uQWN0aXZlKGFjdGlvbikgfVwiIG1kLW1lbnUtYWxpZ24tdGFyZ2V0PVwiXCI+PC9tZC1pY29uPnt7OjogYWN0aW9uLmRlZmluaXRpb24ubmFtZSB9fTwvbWQtYnV0dG9uPjwvbWQtbWVudS1pdGVtPjwvbWQtbWVudS1jb250ZW50PjwvbWQtbWVudT48bWQtZGl2aWRlcj48L21kLWRpdmlkZXI+PGRpdiBsYXlvdXQ9XCJyb3dcIiBsYXlvdXQtYWxpZ249XCJzcGFjZS1hcm91bmRcIj48bWQtYnV0dG9uIG5nLWNsaWNrPVwiZWRpdEN0cmwuY2FuY2VsKClcIj48bWQtaWNvbiBtZC1zdmctaWNvbj1cIm1hcDpjcm9zc1wiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPjwvbWQtaWNvbj48L21kLWJ1dHRvbj48bWQtYnV0dG9uIG5nLWNsaWNrPVwiZWRpdEN0cmwuc2F2ZSgpXCIgbmctZGlzYWJsZWQ9XCJlZGl0Q3RybC5tb2RlbEZvcm0uJGludmFsaWRcIj48bWQtaWNvbiBtZC1zdmctaWNvbj1cIm1hcDpjaGVja1wiIGFyaWEtbGFiZWw9XCJTdW1iaXRcIj48L21kLWljb24+PC9tZC1idXR0b24+PC9kaXY+PC9mb290ZXI+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwTWFwcy5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcE1hcHMuVGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdlZGl0X29sZC9tYXAtZWRpdC10b29scy1saXN0Lmh0bWwnLFxuICAgICc8bWQtZmFiLXNwZWVkLWRpYWwgY2xhc3M9XCJwaXAtZmxvYXRpbmctYnV0dG9uIG1hcC1hZGQtYnV0dG9uIG1kLXNjYWxlXCIgbWQtZGlyZWN0aW9uPVwidXBcIiBtZC1vcGVuPVwiZmFiLmlzT3BlblwiPjxtZC1mYWItdHJpZ2dlcj48bWQtYnV0dG9uIGNsYXNzPVwibWQtZmFiXCIgbmctY2xhc3M9XCJ7XFwnbWQtYWNjZW50IG1kLXJhaXNlZFxcJzogIWZhYi5pc09wZW4sIFxcJ21kLXdhcm5cXCc6IGZhYi5pc09wZW59XCI+PG1kLWljb24gbWQtc3ZnLWljb249XCJtYXA6cGx1c1wiIGFyaWEtbGFiZWw9XCJPcGVuXCIgY2xhc3M9XCJtZC1oZWFkbGluZSBjZW50ZXJlZC1hZGQtaWNvblwiIG5nLWlmPVwiIWZhYi5pc09wZW5cIj48L21kLWljb24+PG1kLWljb24gbWQtc3ZnLWljb249XCJtYXA6Y3Jvc3NcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIiBjbGFzcz1cIm1kLWhlYWRsaW5lIGNlbnRlcmVkLWFkZC1pY29uXCIgbmctaWY9XCJmYWIuaXNPcGVuXCI+PC9tZC1pY29uPjwvbWQtYnV0dG9uPjwvbWQtZmFiLXRyaWdnZXI+PG1kLWZhYi1hY3Rpb25zIGNsYXNzPVwicGlwLW1hcC1lZGl0LXRvb2xzLWxpc3RcIj48ZGl2IG5nLXJlcGVhdD1cImVsZW1lbnQgaW4gOjplZGl0Q3RybC5lbGVtZW50c1wiPjxzcGFuIGNsYXNzPVwicGlwLW1hcC1lZGl0LXRvb2x0aXBcIj57ezo6IGVsZW1lbnQubmFtZSB9fTwvc3Bhbj48bWQtYnV0dG9uIGNsYXNzPVwibWQtZmFiIG1kLXJhaXNlZCBtZC1taW5pXCIgbmctY2xpY2s9XCJlZGl0Q3RybC5jcmVhdGVFbGVtZW50KGVsZW1lbnQpXCI+PG1kLWljb24gbWQtc3ZnLWljb249XCJ7ezo6IGVsZW1lbnQuaWNvbiB9fVwiIGFyaWEtbGFiZWw9XCJ7ezo6IGVsZW1lbnQuaWNvbiB9fVwiPjwvbWQtaWNvbj48L21kLWJ1dHRvbj48L2Rpdj48L21kLWZhYi1hY3Rpb25zPjwvbWQtZmFiLXNwZWVkLWRpYWw+Jyk7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwTWFwcy5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcE1hcHMuVGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdlZGl0X29sZC9tYXAtZWRpdC5odG1sJyxcbiAgICAnPHNjcmlwdCB0eXBlPVwidGV4dC9uZy10ZW1wbGF0ZVwiIGlkPVwibWFwLWljb25zLnN2Z1wiPjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPiA8ZGVmcz4gPGcgaWQ9XCJ0cmFzaFwiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSg1MTIsMCkgc2NhbGUoLTEsMSkgcm90YXRlKDE4MCwyNTYsMjU2KVwiPjxwYXRoIGQ9XCJNMTI4IDEwN2MwLTI0IDE5LTQzIDQzLTQzbDE3MCAwYzI0IDAgNDMgMTkgNDMgNDNsMCAyNTYtMjU2IDB6IG0yNzcgMzIwbC03NCAwLTIyIDIxLTEwNiAwLTIyLTIxLTc0IDAgMC00MyAyOTggMHpcIi8+PC9nPiA8ZyBpZD1cInBsdXNcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoNTEyLDApIHNjYWxlKC0xLDEpIHJvdGF0ZSgxODAsMjU2LDI1NilcIj48cGF0aCBkPVwiTTQwNSAyMzVsLTEyOCAwIDAtMTI4LTQyIDAgMCAxMjgtMTI4IDAgMCA0MiAxMjggMCAwIDEyOCA0MiAwIDAtMTI4IDEyOCAwelwiLz48L2c+IDxnIGlkPVwiY3Jvc3NcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoNTEyLDApIHNjYWxlKC0xLDEpIHJvdGF0ZSgxODAsMjU2LDI1NilcIj48cGF0aCBkPVwiTTQwNSAzNzVsLTMwIDMwLTExOS0xMTktMTE5IDExOS0zMC0zMCAxMTktMTE5LTExOS0xMTkgMzAtMzAgMTE5IDExOSAxMTktMTE5IDMwIDMwLTExOSAxMTl6XCIvPjwvZz4gPGcgaWQ9XCJ1bmRvXCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDUxMiwwKSBzY2FsZSgtMSwxKSByb3RhdGUoMTgwLDI1NiwyNTYpXCI+PHBhdGggZD1cIk0yMTMgMzIwbDAgODUtMTQ5LTE0OSAxNDktMTQ5IDAgODdjMTA3IDAgMTgyLTM0IDIzNS0xMDktMjEgMTA3LTg1IDIxNC0yMzUgMjM1elwiLz48L2c+IDxnIGlkPVwiY2hlY2tcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoNTEyLDApIHNjYWxlKC0xLDEpIHJvdGF0ZSgxODAsMjU2LDI1NilcIj48cGF0aCBkPVwiTTE5MiAxNjdsLTg5IDg5LTMwLTMwIDExOS0xMTkgMjU2IDI1Ni0zMCAzMHpcIi8+PC9nPiA8ZyBpZD1cInRvb2xzXCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDUxMiwwKSBzY2FsZSgtMSwxKSByb3RhdGUoMTgwLDI1NiwyNTYpXCI+PHBhdGggZD1cIk0xNDkgMjk5bDEwNy0xMDcgMTA3IDEwN3pcIi8+PC9nPiA8ZyBpZD1cImFkZC1wb2ludFwiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgwLDApIHNjYWxlKDI1KVwiPjxwYXRoIGNsYXNzPVwiY2xzLTFcIiBkPVwiTTguNDYsOWwyLjgxLS4xN2EwLjMxLDAuMzEsMCwwLDAsLjItMC41M0wzLjQsMC4wOUEwLjMxLDAuMzEsMCwwLDAsMi44Ny4zVjExLjgxYTAuMzEsMC4zMSwwLDAsMCwuNTEuMjNMNS41MSwxMC4ybDEuOSw0LjY0YTAuMzEsMC4zMSwwLDAsMCwuNC4xN2wyLjM3LTFhMC4zMSwwLjMxLDAsMCwwLC4xNy0wLjRaXCIvPjxwb2x5Z29uIGNsYXNzPVwiY2xzLTFcIiBwb2ludHM9XCIxNC45NiAxNS42MiAxNC45NiAxMi43MiAxMy40OSAxMi43MiAxMy40OSAxNS42MiAxMC41OSAxNS42MiAxMC41OSAxNy4xIDEzLjQ5IDE3LjEgMTMuNDkgMjAgMTQuOTYgMjAgMTQuOTYgMTcuMSAxNy44NyAxNy4xIDE3Ljg3IDE1LjYyIDE0Ljk2IDE1LjYyXCIvPjwvZz4gPGcgaWQ9XCJyZW1vdmUtcG9pbnRcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMCwwKSBzY2FsZSgyNSlcIj48cGF0aCBjbGFzcz1cImNscy0xXCIgZD1cIk04LjQ2LDlsMi44MS0uMTdhMC4zMSwwLjMxLDAsMCwwLC4yLTAuNTNMMy40LDAuMDlhMC4zMSwwLjMxLDAsMCwwLS41My4yMlYxMS44MmEwLjMxLDAuMzEsMCwwLDAsLjUxLjIzbDIuMTItMS44NCwxLjksNC42NGEwLjMxLDAuMzEsMCwwLDAsLjQuMTdsMi4zNy0xYTAuMzEsMC4zMSwwLDAsMCwuMTctMC40WlwiLz48cmVjdCBjbGFzcz1cImNscy0xXCIgeD1cIjEwLjU4XCIgeT1cIjE1LjYzXCIgd2lkdGg9XCI3LjI4XCIgaGVpZ2h0PVwiMS40OFwiLz48L2c+IDxnIGlkPVwicGFuXCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDAsMCkgc2NhbGUoMjUpXCI+PHBhdGggZD1cIk0xNS4yOCw2LjU2VjlIMTFWNC43NGgyLjQxYTAuMzEsMC4zMSwwLDAsMCwuMjQtMC41MUwxMC4yNCwwLjEzYTAuMzEsMC4zMSwwLDAsMC0uNDcsMEw2LjMxLDQuMjNhMC4zMSwwLjMxLDAsMCwwLC4yNC41MUg5VjlINC43MlY2LjU2YTAuMzEsMC4zMSwwLDAsMC0uNTEtMC4yNEwwLjExLDkuNzhhMC4zMSwwLjMxLDAsMCwwLDAsLjQ3bDQuMTEsMy40NmEwLjMxLDAuMzEsMCwwLDAsLjUxLTAuMjRWMTEuMDdIOXY0LjIzSDYuNTRhMC4zMSwwLjMxLDAsMCwwLS4yNC41MWwzLjQ2LDQuMTFhMC4zMSwwLjMxLDAsMCwwLC40NywwbDMuNDYtNC4xMWEwLjMxLDAuMzEsMCwwLDAtLjI0LTAuNTFIMTFWMTEuMDdoNC4yM3YyLjQxYTAuMzEsMC4zMSwwLDAsMCwuNTEuMjRsNC4xMS0zLjQ2YTAuMzEsMC4zMSwwLDAsMCwwLS40N0wxNS43OCw2LjMyQTAuMzEsMC4zMSwwLDAsMCwxNS4yOCw2LjU2WlwiLz48L2c+IDxnIGlkPVwicGVuXCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDAsMCkgc2NhbGUoMjUpXCI+PHBhdGggZD1cIk0xOC45MiwxLjA4YTMuMjcsMy4yNywwLDAsMC0yLjMzLTEsMy45LDMuOSwwLDAsMC0yLjcxLDEuMjUsMy40NywzLjQ3LDAsMCwwLS40NC41NEw1LjY2LDEwLjY2bC0wLjQzLS40M0EwLjM2LDAuMzYsMCwwLDAsNSwxMC4xMmEwLjM5LDAuMzksMCwwLDAtLjI3LjExTDMuNjIsMTEuMzFhMC4zOCwwLjM4LDAsMCwwLDAsLjUzbDAuNDUsMC40NWE4LDgsMCwwLDEtMi40NiwxLjA5LDAuNTQsMC41NCwwLDAsMC0uMzUuMzh2MFMxLDE4LjEzLDAsMTkuNDNhMC4zNiwwLjM2LDAsMCwwLDAsLjM2aDBsMC4xMywwLjE0aDBBMC41NywwLjU3LDAsMCwwLC40MywyMGEwLjI3LDAuMjcsMCwwLDAsLjEzLDBjMS40Mi0uODIsNS42Mi0xLjIyLDUuNjYtMS4yMmgwYTAuNTUsMC41NSwwLDAsMCwuMzgtMC4zNSw5LjUyLDkuNTIsMCwwLDEsMS4xLTIuNDVsMC40NCwwLjQ0YTAuMzYsMC4zNiwwLDAsMCwuMjYuMTEsMC4zOCwwLjM4LDAsMCwwLC4yNy0wLjExbDEuMDctMS4wN0EwLjM5LDAuMzksMCwwLDAsOS44NywxNWEwLjM2LDAuMzYsMCwwLDAtLjExLTAuMjdsLTAuNDMtLjQzLDguODMtNy43OWEzLjQ2LDMuNDYsMCwwLDAsLjU0LTAuNDQsNCw0LDAsMCwwLDEuMjQtMi40N0EzLjIyLDMuMjIsMCwwLDAsMTguOTIsMS4wOFpNNC42NiwxN2ExLjE1LDEuMTUsMCwxLDEsMC0xLjYzQTEuMTUsMS4xNSwwLDAsMSw0LjY2LDE3WlwiLz48L2c+IDxnIGlkPVwic2VsZWN0XCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDAsMCkgc2NhbGUoMjUpXCI+PHBhdGggZD1cIk0xNS42NiwxMS4yNUw0LjcxLDAuMDlhMC4zMSwwLjMxLDAsMCwwLS41My4yMlYxNS45NGEwLjMxLDAuMzEsMCwwLDAsLjUxLjIzbDMtMi41NywyLjU0LDYuMjFhMC4zMSwwLjMxLDAsMCwwLC40LjE3bDMuMzEtMS4zNWEwLjMxLDAuMzEsMCwwLDAsLjE3LTAuNEwxMS41NCwxMmwzLjkyLS4yNEEwLjMxLDAuMzEsMCwwLDAsMTUuNjYsMTEuMjVaXCIvPjwvZz4gPGcgaWQ9XCJoYW5kXCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDAsMCkgc2NhbGUoMjUpXCI+PHBhdGggZD1cIk0xNi45LDMuNTJhMC45MiwwLjkyLDAsMCwwLS45Mi45MnY0YTAuNDQsMC40NCwwLDAsMS0uODgsMFYxLjc2YTEuMSwxLjEsMCwwLDAtMi4yMSwwVjguNDRoMGEwLjQyLDAuNDIsMCwwLDEtLjgzLDBWMS4yYTEuMiwxLjIsMCwwLDAtMi4zOSwwczAsNy4xOSwwLDcuMjdhMC40LDAuNCwwLDAsMS0uOCwwVjIuMjRhMS4yLDEuMiwwLDEsMC0yLjM5LDBjMCw4LjY3LDAsNy42NywwLDguMzlhMiwyLDAsMCwxLS4xMywxYy0wLjExLjA4LS4yNSwwLTAuNDMtMC4yNkM1LjUxLDEwLjc5LDQuMTMsOSwyLjc5LDkuNjNhMS4zMywxLjMzLDAsMCwwLS4zMywxLjkzczMsNC4zNCw0LDUuODRjMC41OSwwLjg4Ljc1LDEuMTYsMSwxLjQ1QzguMTUsMjAsOC41OCwyMCw5Ljg0LDIwSDE1YzIuNzksMCwyLjc5LTMuMzEsMi43OS00LjczVjQuOTRDMTcuODIsMy45MywxNy40MSwzLjUyLDE2LjksMy41MlpcIi8+PC9nPiA8ZyBpZD1cImRyYXdcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMCwwKSBzY2FsZSgyNSlcIj48cGF0aCBkPVwiTTEuOTQsNC4zN0wwLDIuNDlBMi4wOCwyLjA4LDAsMCwxLC4xOSwyLjI3TDAuNDEsMmwwLjI3LS4yNkEyLjg0LDIuODQsMCwwLDAsMSwxLjQ4bDAuMzktLjM0QTUuNjYsNS42NiwwLDAsMSwyLC42OCw2LjI0LDYuMjQsMCwwLDEsMi45Mi4yNywzLDMsMCwwLDEsNCwuMDlhMi43MiwyLjcyLDAsMCwxLC44MS4xNUEyLjYsMi42LDAsMCwxLDUuNy43OWEyLjg1LDIuODUsMCwwLDEsLjc0LDEsMy40OSwzLjQ5LDAsMCwxLC4zLDEuNTQsNC42NCw0LjY0LDAsMCwxLS4xLDEsNC43Niw0Ljc2LDAsMCwxLS4yOC44OFE2LjE0LDUuNTksNS44OCw2dC0wLjU5Ljg4bC0wLjQ2Ljc1cS0wLjI4LjQ2LS41OSwxTDMuNjgsOS43NWE5LjU0LDkuNTQsMCwwLDAtLjQzLDEsNC4yNyw0LjI3LDAsMCwwLS4xNS44NSwyLDIsMCwwLDAsLjA1LjY3LDEsMSwwLDAsMCwuMTkuNDUsMC40MiwwLjQyLDAsMCwwLC4zMi4xN0EwLjcyLDAuNzIsMCwwLDAsNCwxMi43OWExLjU5LDEuNTksMCwwLDAsLjM0LTAuMjYsMi40MiwyLjQyLDAsMCwwLC4zLTAuM0w0LjksMTJsMC40LS40OEw2LDEwLjY1bDAuNzctLjkzcTAuMzktLjQ2LjYyLTAuNzdUOC4yNiw4QTkuMzgsOS4zOCwwLDAsMSw5LjUsN2E4LjU4LDguNTgsMCwwLDEsMS41Ny0uODQsNC42Niw0LjY2LDAsMCwxLDEuNzgtLjM1LDQsNCwwLDAsMSwyLC40Niw0LjI1LDQuMjUsMCwwLDEsMS4zMywxLjE2QTQuODksNC44OSwwLDAsMSwxNyw5YTguNjEsOC42MSwwLDAsMSwuMzIsMS40OEgyMFYxMy4ySDE3LjI5YTkuODcsOS44NywwLDAsMS0uNzQsMy4yNSw3LjE5LDcuMTksMCwwLDEtMS4zMywyLjA2LDQuNTUsNC41NSwwLDAsMS0xLjYsMS4wOCw0LjMxLDQuMzEsMCwwLDEtMS41LjMxLDMuNSwzLjUsMCwwLDEtMS4zNy0uMjcsMy40MywzLjQzLDAsMCwxLTEuMTEtLjc0LDMuNDcsMy40NywwLDAsMS0uNzctMS4wOCwzLjEyLDMuMTIsMCwwLDEtLjI4LTEuMzIsNC42Myw0LjYzLDAsMCwxLC4zNS0xLjYxQTYuNDMsNi40MywwLDAsMSwxMCwxMy4xYTcuNzUsNy43NSwwLDAsMSwxLjg1LTEuNTUsNy42Myw3LjYzLDAsMCwxLDIuNjctMXEtMC4wNS0uMzEtMC4xLTAuNjZhMS42LDEuNiwwLDAsMC0uMjMtMC42MywxLjI1LDEuMjUsMCwwLDAtLjU1LTAuNDksMi40NSwyLjQ1LDAsMCwwLTEtLjE4QTIuMDksMi4wOSwwLDAsMCwxMS41LDlhOC4xMSw4LjExLDAsMCwwLTEuMTcuOXEtMC41Ny41Ny0xLjE1LDEuMjRUOC4xLDEyLjRMNy4yMywxMy40NmExMC4yNiwxMC4yNiwwLDAsMS0uODMuODgsNi40LDYuNCwwLDAsMS0uODEuNywyLjc2LDIuNzYsMCwwLDEtLjg2LjQxLDMuMDksMy4wOSwwLDAsMS0uNzUuMTIsNC4yOCw0LjI4LDAsMCwxLS43NSwwLDQsNCwwLDAsMS0uNzQtMC4yMiwzLDMsMCwwLDEtLjY2LTAuMzdBMy4zMiwzLjMyLDAsMCwxLC43MiwxMy41NmE1LjQsNS40LDAsMCwxLS4yOC0wLjkyLDQuNjksNC42OSwwLDAsMS0uMS0xQTUuNzYsNS43NiwwLDAsMSwuOCw5LjVhMjEuNzMsMjEuNzMsMCwwLDEsMS0yLjE1cTAuNTctMSwxLjA3LTEuNzRsMC42MS0uODksMC4yNy0uNDZBMywzLDAsMCwwLDQsMy43NSwwLjkxLDAuOTEsMCwwLDAsNC4wNSwzLjMsMC4zOCwwLjM4LDAsMCwwLDMuODIsM2EwLjQyLDAuNDIsMCwwLDAtLjM0LjA1QTIuNjcsMi42NywwLDAsMCwzLDMuMzRMMi41LDMuODFRMi4yMiw0LjA2LDEuOTQsNC4zN1pNMTIuMTUsMTcuMjNBMS4zNiwxLjM2LDAsMCwwLDEyLjgxLDE3YTIuMzEsMi4zMSwwLDAsMCwuNjgtMC42Myw0Ljc3LDQuNzcsMCwwLDAsLjYyLTEuMTcsNy42NSw3LjY1LDAsMCwwLC40MS0xLjg1QTQuNzgsNC43OCwwLDAsMCwxMywxNGE0LjU5LDQuNTksMCwwLDAtMSwuODUsMy43NywzLjc3LDAsMCwwLS41My44OCwxLjg5LDEuODksMCwwLDAtLjE3LjY3LDAuNzQsMC43NCwwLDAsMCwuMDguMzQsMC43NiwwLjc2LDAsMCwwLC4yMS4yNiwwLjY2LDAuNjYsMCwwLDAsLjI1LjE1QTAuNzksMC43OSwwLDAsMCwxMi4xNSwxNy4yM1pcIi8+PC9nPiA8ZyBpZD1cInBvaW50XCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDAsMCkgc2NhbGUoMjUpXCI+PHBhdGggZD1cIk0xMCwwYTYuODgsNi44OCwwLDAsMSw0Ljk0LDIuMDZBNi44OCw2Ljg4LDAsMCwxLDE3LDdxMCwzLjkzLTcsMTNRMywxMC45NCwzLDdBNi44OCw2Ljg4LDAsMCwxLDUuMDYsMi4wNiw2Ljg4LDYuODgsMCwwLDEsMTAsMFptMCw5LjUxYTIuNDEsMi40MSwwLDAsMCwxLS4yLDIuMzQsMi4zNCwwLDAsMCwuNzgtMC41NUEyLjM0LDIuMzQsMCwwLDAsMTIuMzEsOGEyLjQ3LDIuNDcsMCwwLDAsMC0xLjk0LDIuMzQsMi4zNCwwLDAsMC0uNTUtMC43OEEyLjM0LDIuMzQsMCwwLDAsMTEsNC43LDIuNDcsMi40NywwLDAsMCw5LDQuN2EyLjM0LDIuMzQsMCwwLDAtLjc4LjU1QTIuMzQsMi4zNCwwLDAsMCw3LjY5LDYsMi40NywyLjQ3LDAsMCwwLDcuNjksOGEyLjM0LDIuMzQsMCwwLDAsLjU1Ljc4QTIuMzQsMi4zNCwwLDAsMCw5LDkuMzEsMi40MSwyLjQxLDAsMCwwLDEwLDkuNTFaXCIvPjwvZz4gPC9kZWZzPjwvc3ZnPjwvc2NyaXB0PicpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcE1hcHMuVGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzLlRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgncG9wdXAvbWFwLXBvcHVwLWNvbnRlbnQuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJtYXAtcG9wdXAtY29udGVudFwiPjxtZC1jb250ZW50IG1kLXRoZW1lPVwie3s6OiAkcm9vdC4kdGhlbWUgfHwgXFwnYmx1ZVxcJyB9fVwiIGZsZXg9XCJcIj48bWQtYnV0dG9uIGNsYXNzPVwibWQtaWNvbi1idXR0b24gcGlwLW1hcC1pbmZvLXdpbmRvdy1jbG9zZS1idXR0b25cIiBuZy1jbGljaz1cImNsb3NlQ2xpY2soKTsgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCIgdGFiaW5kZXg9XCItMVwiIGFyaWEtbGFiZWw9XCJjbG9zZVwiPjxtZC1pY29uIGNsYXNzPVwidGhlbWUtaWNvbi1hY3RpdmVcIiBtZC1zdmctaWNvbj1cImljb25zOmNyb3NzXCI+PC9tZC1pY29uPjwvbWQtYnV0dG9uPjxuZy10cmFuc2NsdWRlPjwvbmctdHJhbnNjbHVkZT48L21kLWNvbnRlbnQ+PGRpdiBjbGFzcz1cInBpcC1tYXAtaW5mby13aW5kb3ctYXJyb3ctd3JhcHBlclwiPjxkaXY+PGRpdj48L2Rpdj48L2Rpdj48ZGl2PjxkaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwTWFwcy5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcE1hcHMuVGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdwb3B1cC9tYXAtcG9wdXAuaHRtbCcsXG4gICAgJzx1aS1nbWFwLXdpbmRvdyBuZy1pZj1cInBvcHVwLmlzRW5hYmxlZFwiIHNob3c9XCJwb3B1cC5pc0VuYWJsZWRcIiBjb29yZHM9XCJwb3B1cC5wb3NpdGlvblwiIHRlbXBsYXRldXJsPVwiOjogcG9wdXAuZWxlbWVudC50ZW1wbGF0ZVVybFwiIHRlbXBsYXRlcGFyYW1ldGVyPVwiOjogcG9wdXBcIiBvcHRpb25zPVwiOjogcG9wdXAuZWxlbWVudC5vcHRpb25zXCIgY2xvc2VjbGljaz1cInBvcHVwLmNsb3NlKClcIj48L3VpLWdtYXAtd2luZG93PicpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcE1hcHMuVGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzLlRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnZWxlbWVudHMvY2lyY2xlcy9tYXAtY2lyY2xlcy5odG1sJyxcbiAgICAnPHVpLWdtYXAtY2lyY2xlIG5nLXJlcGVhdD1cImMgaW4gY3RybC5tb2RlbHNcIiBjZW50ZXI9XCJjW2N0cmwub3B0aW9ucy5jZW50ZXJdXCIgc3Ryb2tlPVwiY1tjdHJsLm9wdGlvbnMuc3Ryb2tlXVwiIGZpbGw9XCJjW2N0cmwub3B0aW9ucy5maWxsXVwiIHJhZGl1cz1cImNbY3RybC5vcHRpb25zLnJhZGl1c11cIiBnZW9kZXNpYz1cImMuZ2VvZGVzaWNcIiBldmVudHM9XCJjdHJsLmV2ZW50c1wiIHZpc2libGU9XCJ0cnVlXCI+PC91aS1nbWFwLWNpcmNsZT4nKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzLlRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwTWFwcy5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2VsZW1lbnRzL2ttbC9tYXAta21sLmh0bWwnLFxuICAgICcnKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzLlRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwTWFwcy5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2VsZW1lbnRzL21hcmtlcnMvbWFwLW1hcmtlcnMuaHRtbCcsXG4gICAgJzx1aS1nbWFwLW1hcmtlcnMgbW9kZWxzPVwiY3RybC5tb2RlbHNcIiBjb29yZHM9XCI6OiBjdHJsLm9wdGlvbnMubW9kZWwuY29vcmRzXCIgaWNvbj1cIjo6IGN0cmwub3B0aW9ucy5tb2RlbC5pY29uXCIgb3B0aW9ucz1cIlxcJ29wdGlvbnNcXCdcIiBjb250cm9sPVwiOjogY3RybC5jb250cm9sXCIgZXZlbnRzPVwiOjogY3RybC5ldmVudHNcIiBmaXQ9XCI6OiBjdHJsLm9wdGlvbnMuZml0Qm91bmRzXCI+PC91aS1nbWFwLW1hcmtlcnM+PHVpLWdtYXAtcG9seWxpbmVzIG5nLWlmPVwiOjogY3RybC5jb25uZWN0XCIgbW9kZWxzPVwiY3RybC5tb2RlbHNcIiBwYXRoPVwiOjogY3RybC5jb25uZWN0LnByb3BlcnR5XCIgc3Ryb2tlPVwiOjogY3RybC5jb25uZWN0LnN0cm9rZVwiIGljb25zPVwiOjogY3RybC5jb25uZWN0Lmljb25zXCI+PC91aS1nbWFwLXBvbHlsaW5lcz4nKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzLlRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwTWFwcy5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2VsZW1lbnRzL3BvbHlsaW5lcy9tYXAtcG9seWxpbmVzLmh0bWwnLFxuICAgICc8dWktZ21hcC1wb2x5bGluZXMgbW9kZWxzPVwiY3RybC5tb2RlbHNcIiBwYXRoPVwiY3RybC5vcHRpb25zLnBhdGhcIiBzdHJva2U9XCJjdHJsLm9wdGlvbnMuc3Ryb2tlXCIgaWNvbnM9XCJjdHJsLm9wdGlvbnMuaWNvbnNcIiBjb250cm9sPVwiY3RybC5jb250cm9sXCIgZXZlbnRzPVwiY3RybC5ldmVudHNcIiB2aXNpYmxlPVwiXFwndmlzaWJsZVxcJ1wiIGdlb2Rlc2ljPVwiXFwnZ2VvZGVzaWNcXCdcIiBlZGl0YWJsZT1cIlxcJ2VkaXRhYmxlXFwnXCIgZHJhZ2dhYmxlPVwiXFwnZHJhZ2dhYmxlXFwnXCIgc3RhdGljPVwiY3RybC5vcHRpb25zLnN0YXRpY1wiIGZpdD1cImN0cmwub3B0aW9ucy5maXRCb3VuZHNcIj48L3VpLWdtYXAtcG9seWxpbmVzPicpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcE1hcHMuVGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBNYXBzLlRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnZWxlbWVudHMvcG9seWdvbnMvbWFwLXBvbHlnb25zLmh0bWwnLFxuICAgICc8dWktZ21hcC1wb2x5Z29ucyBtb2RlbHM9XCJjdHJsLm1vZGVsc1wiIHBhdGg9XCJjdHJsLm9wdGlvbnMucGF0aFwiIHN0cm9rZT1cImN0cmwub3B0aW9ucy5zdHJva2VcIiBmaWxsPVwiY3RybC5vcHRpb25zLmZpbGxcIiBjb250cm9sPVwiY3RybC5jb250cm9sXCIgZXZlbnRzPVwiY3RybC5ldmVudHNcIiB2aXNpYmxlPVwiXFwndmlzaWJsZVxcJ1wiIGdlb2Rlc2ljPVwiXFwnZ2VvZGVzaWNcXCdcIiBlZGl0YWJsZT1cIlxcJ2VkaXRhYmxlXFwnXCIgZHJhZ2dhYmxlPVwiXFwnZHJhZ2dhYmxlXFwnXCIgZml0PVwiOjogY3RybC5vcHRpb25zLmZpdEJvdW5kc1wiPjwvdWktZ21hcC1wb2x5Z29ucz4nKTtcbn1dKTtcbn0pKCk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcC1zdWl0ZS1tYXAtaHRtbC5taW4uanMubWFwXG4iXX0="}